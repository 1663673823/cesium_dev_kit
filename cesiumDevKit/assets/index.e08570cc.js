var $a=Object.defineProperty,Ya=Object.defineProperties;var Oa=Object.getOwnPropertyDescriptors;var Ni=Object.getOwnPropertySymbols;var ja=Object.prototype.hasOwnProperty,Qa=Object.prototype.propertyIsEnumerable;var Li=(i,n,r)=>n in i?$a(i,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[n]=r,Fe=(i,n)=>{for(var r in n||(n={}))ja.call(n,r)&&Li(i,r,n[r]);if(Ni)for(var r of Ni(n))Qa.call(n,r)&&Li(i,r,n[r]);return i},Vt=(i,n)=>Ya(i,Oa(n));var Ja=(i,n)=>()=>(n||i((n={exports:{}}).exports,n),n.exports);import{c as Xi,a as ti,b as Ka,d as qa,p as en,s as zi,C as bi,u as tn,A as an,i as Hi,e as $e,r as K,o as z,f as H,I as nn,g as Ee,h as y,m as _i,j as rn,Q as on,k as Qe,l as mt,n as pt,_ as tt,t as sn,w as fe,q as _e,v as he,R as ln,x as cn,y as Ui,z as ii,B as Ce,D as je,E as ye,F as be,G as $i,H as Yi,J as nt,K as qe,L as Rt,M as hn,S as Oi,N as it,O as ji,P as ai,T as Qi,U as Ne,V as un,W as dn,X as gn,Y as mn,Z as pn,$ as fn,a0 as xn,a1 as vn,a2 as yn,a3 as bn,a4 as _n,a5 as Cn,a6 as Ji,a7 as Ki,a8 as qi,a9 as ea,aa as zt,ab as wn,ac as Ht,ad as Ci,ae as wt,af as ni,ag as wi,ah as Ut,ai as ta,aj as In,ak as An,al as Sn,am as Pn,an as Mn,ao as Gn,ap as ia,aq as $t,ar as Tn,as as Wn}from"./vendor.fad16135.js";var z1=Ja((pi,Zi)=>{const Vn=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}};Vn();const ft=async(i,n,r,o={method:"get"},s)=>{const{data:l}=await ti(i,o);return s?r(n,{data:l,extraData:s}):r(n,l),l},Rn=Xi({state:{token:localStorage.getItem("token")||"",error:{status:!1},loading:!1,columns:{data:{},currentPage:0,total:0},posts:{data:{},loadedColumns:[]},user:{isLogin:!1}},mutations:{createPost(i,n){i.posts.data[n._id]=n},fetchColumn(i,n){i.columns.data[n.data._id]=n.data},fetchPost(i,n){i.posts.data[n.data._id]=n.data},deletePost(i,{data:n}){delete i.posts.data[n._id]},updatePost(i,{data:n}){i.posts.data[n._id]=n},setLoading(i,n){i.loading=n},setError(i,n){i.error=n},fetchCurrentUser(i,n){i.user=Fe({isLogin:!0},n.data)},login(i,n){const{token:r}=n.data;i.token=r,localStorage.setItem("token",r),ti.defaults.headers.common.Authorization=`Bearer ${r}`},logout(i){i.token="",i.user={isLogin:!1},localStorage.remove("token"),delete ti.defaults.headers.common.Authorization}},actions:{fetchColumns({state:i,commit:n},r={}){const{currentPage:o=1,pageSize:s=6}=r;if(i.columns.currentPage<o)return ft(`/columns?currentPage=${o}&pageSize=${s}`,"fetchColumns",n)},fetchColumn({state:i,commit:n},r){if(!i.columns.data[r])return ft(`/columns/${r}`,"fetchColumn",n)},fetchPosts({state:i,commit:n},r){if(!i.posts.loadedColumns.includes(r))return ft(`/columns/${r}/posts`,"fetchPosts",n,{method:"get"},r)},fetchPost({state:i,commit:n},r){const o=i.posts.data[r];return!o||!o.content?ft(`/posts/${r}`,"fetchPost",n):Promise.resolve({data:o})},updatePost({commit:i},{id:n,payload:r}){return ft(`/posts/${n}`,"updatePost",i,{method:"patch",data:r})},fetchCurrentUser({commit:i}){return ft("/user/current","fetchCurrentUser",i)},login({commit:i},n){return ft("/user/login","login",i,{method:"post",data:n})},createPost({commit:i},n){return ft("/posts","createPost",i,{method:"post",data:n})},deletePost({commit:i},n){return ft(`/posts/${n}`,"deletePost",i,{method:"delete"})},loginAndFetch({dispatch:i},n){return i("login",n).then(()=>i("fetchCurrentUser"))}},getters:{getColumnById:i=>n=>i.columns.data[n],getCurrentPost:i=>n=>i.posts.data[n]}});var Dn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Rn}),Fn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module"});const Zn={state(){return{count:0}},mutations:{increment(i){i.count++}},actions:{async changeCount({commit:i},n){console.log("app.ts receive num is :",n),i("increment",n)}}};var Bn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zn});const kn="modulepreload",aa={},En="./",It=function(n,r){return!r||r.length===0?n():Promise.all(r.map(o=>{if(o=`${En}${o}`,o in aa)return;aa[o]=!0;const s=o.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":kn,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",d)})})).then(()=>n())},Nn=Ka(),Ln=()=>It(()=>Promise.resolve().then(function(){return E1}),void 0),Ii=[{path:"/",name:"root",component:Ln,redirect:"/home",children:[{path:"/home",name:"home",component:()=>It(()=>Promise.resolve().then(function(){return Aa}),void 0),meta:{auth:["admin","test"],icon:"carbon:rule-test",isAffix:!0,isHide:!1,isKeepAlive:!0,title:"\u9996\u9875",index:"1"}}]},{path:"/login",name:"login",component:()=>It(()=>Promise.resolve().then(function(){return Sa}),void 0)},{path:"/visual",name:"visual",component:()=>It(()=>Promise.resolve().then(function(){return Pa}),void 0),children:[{path:"v3d",name:"v3d",component:()=>It(()=>Promise.resolve().then(function(){return Ta}),void 0)},{path:"v2d",name:"v2d",component:()=>It(()=>Promise.resolve().then(function(){return Ga}),void 0)}]}],lt=qa({history:Nn,routes:Ii});function Xn(){lt.getRoutes().forEach(i=>{const{name:n}=i;n&&lt.hasRoute(n)&&lt.removeRoute(n)})}function zn(i){i.use(lt)}const Hn={state:{routeList:[],addRoutes:[]},mutations:{SET_ROUTES:(i,n)=>{i.addRoutes=n;let r=Ii.filter(s=>s.name!=="root"),o=Ii.find(s=>s.name==="root");o&&(r=r.concat(o.children)),i.routeList=r.concat(n)}},actions:{GenerateRoutes({commit:i}){return new Promise(n=>{({"../../../public/testMenu.json":()=>It(()=>import("./testMenu.b105b21c.js"),[])})["../../../public/testMenu.json"]().then(o=>{const s=o.default;i("SET_ROUTES",s),n(s)})})}}};var Un=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Hn});const $n={namespaced:!0,state:{routesList:[{meta:{auth:["admin","test"],icon:"iconfont el-icon-menu",isAffix:!0,isHide:!1,isKeepAlive:!0,title:"\u9996\u9875",index:"1"},name:"home",path:"/home"},{meta:{auth:["admin","test"],icon:"iconfont el-icon-s-grid",isAffix:!1,isHide:!1,isKeepAlive:!0,title:"demo",index:"2"},name:"demo",path:"/demo",children:[]},{meta:{auth:["admin","test"],icon:"iconfont el-icon-s-grid",isAffix:!1,isHide:!1,isKeepAlive:!0,title:"icon",index:"3"},name:"icon",path:"/icon"},{meta:{auth:["admin","test"],icon:"iconfont el-icon-s-grid",isAffix:!1,isHide:!1,isKeepAlive:!0,title:"elementIcon",index:"4"},name:"elementIcon",path:"/elementIcon"}]},mutations:{getRoutesList(i,n){i.routesList=n}},actions:{async setRoutesList({commit:i},n){i("getRoutesList",n)}}};var Yn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$n});function na(i,n){if(n)try{window.sessionStorage.setItem(i,zi(n))}catch(r){if(r.name.toUpperCase().indexOf("QUOTA")>=0){let o;const s=[];for(o in sessionStorage)o.indexOf(i)>=0&&s.push(JSON.parse(sessionStorage[o]));s.length&&(s.sort((l,c)=>l.stamp-c.stamp),ra(s[0].key),na(i,zi(n)))}}}function On(i){let n=window.sessionStorage.getItem(i);return n?en(n):null}function ra(i){window.sessionStorage.removeItem(i)}const oa=On("tagsViewSessionkey"),jn={namespaced:!0,state:{tagsSession:"tagsViewSessionkey",tagsViewRoutes:oa||[{meta:{auth:["admin","test"],icon:"iconfont el-icon-menu",isAffix:!0,isHide:!1,isKeepAlive:!0,title:"\u9996\u9875",index:"1"},name:"home",path:"/home"}]},mutations:{getTagsViewRoutes(i,n){i.tagsViewRoutes=n}},actions:{async setTagsViewRoutes({commit:i},n){i("getTagsViewRoutes",n)}}};var Qn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jn});const Jn={namespaced:!0,state:{globalTitle:"Cesium_dev_kit",isShowLogo:!0,isCollapse:!1,isBreadcrumb:!0,isBreadcrumbIcon:!0,isFixedHeader:!1,animation:"slide-right",layout:"defaults",isShowLogoChange:!1,menuBar:"#545c64",isCacheTagsView:!0,isUniqueOpened:!0,isTagsviewIcon:!1},mutations:{getThemeConfig(i,n){i.themeConfig=n}},actions:{setThemeConfig({commit:i},n){i("getThemeConfig",n)}}};var Kn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jn});function qn(i){return bi.get(i)}function er(i,n){return bi.set(i,n)}function sa(i){return bi.remove(i)}const Ai="USER-TOKEN",tr={state(){return{name:"",avatar:"",roles:[],permissions:[]}},mutations:{SET_TOKEN:(i,n)=>{i.token=n},SET_NAME:(i,n)=>{i.name=n},SET_AVATAR:(i,n)=>{i.avatar=n},SET_ROLES:(i,n)=>{i.roles=n},SET_PERMISSIONS:(i,n)=>{i.permissions=n}},actions:{Login({commit:i},n){return n.username.trim(),n.password,n.code,n.uuid,new Promise((r,o)=>{var s="fdsakjahkhfdjasdhlafdslkdfl";er(Ai,s),i("SET_TOKEN","fdsakjahkhfdjasdhlafdslkdfl"),r("\u606D\u559C\u4F60\u767B\u5F55\u6210\u529F")})},GetInfo({commit:i,state:n}){return new Promise((r,o)=>{var s={msg:"\u64CD\u4F5C\u6210\u529F",code:200,permissions:["*:*:*"],roles:["admin"],user:{searchValue:null,createBy:"admin",createTime:"2018-03-16 11:33:00",updateBy:null,updateTime:null,remark:"\u7BA1\u7406\u5458",params:{},userId:1,deptId:103,userName:"admin",nickName:"\u5409\u60F3",email:"jt@qq.com",phonenumber:"15888888888",sex:"1",avatar:"",salt:null,status:"0",delFlag:"0",loginIp:"127.0.0.1",loginDate:"2018-03-16T11:33:00.000+0800",dept:{searchValue:null,createBy:null,createTime:null,updateBy:null,updateTime:null,remark:null,params:{},deptId:"103",parentId:101,ancestors:null,deptName:"\u7814\u53D1\u90E8\u95E8",orderNum:"1",leader:"\u5409\u60F3",phone:null,email:null,status:"0",delFlag:null,parentName:null,children:[]},roles:[{searchValue:null,createBy:null,createTime:null,updateBy:null,updateTime:null,remark:null,params:{},roleId:1,roleName:"\u8D85\u7EA7\u7BA1\u7406\u5458",roleKey:"admin",roleSort:"1",dataScope:"1",menuCheckStrictly:!1,deptCheckStrictly:!1,status:"0",delFlag:null,flag:!1,menuIds:null,serverRegisterId:null,deptIds:null,admin:!0}],roleIds:null,postIds:null,admin:!0}};const l=s.user;s.roles&&s.roles.length>0?(i("SET_ROLES",s.roles),i("SET_PERMISSIONS",s.permissions)):i("SET_ROLES",["ROLE_DEFAULT"]),i("SET_NAME",l.userName),r(s)})},LogOut({commit:i,state:n}){return new Promise((r,o)=>{i("SET_TOKEN",""),i("SET_ROLES",[]),i("SET_PERMISSIONS",[]),sa(Ai),r("\u9000\u51FA\u767B\u5F55\u6210\u529F")})},FedLogOut({commit:i}){return new Promise(n=>{i("SET_TOKEN",""),sa(Ai),n()})}}};var ir=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:tr});const Si={"./storedome.ts":Dn,"./interface/index.ts":Fn,"./modules/app.ts":Bn,"./modules/permission.ts":Un,"./modules/routesList.ts":Yn,"./modules/tagsViewRoutes.ts":Qn,"./modules/themeConfig.ts":Kn,"./modules/user.ts":ir},la={};let ca="";Object.keys(Si).map(i=>{i.indexOf("modules")>=0?la[i.split("/")[i.split("/").length-1].replace(/\.ts|.js/,"")]=Si[i].default:ca=Si[i].default});const ha=Symbol(),Dt=Xi({modules:la,getters:ca,strict:!1});function ct(){return tn(ha)}function ar(i){i.use(Dt,ha)}function nr(i){i.use(an),i.config.globalProperties.$ELEMENT={size:"small",zIndex:3e3}}var le=(i,n)=>{for(const[r,o]of n)i[r]=o;return i};const ua=new Hi.exports.EluiChinaAreaDht.ChinaArea().chinaAreaflat,rr=$e({props:{areaLeave:{type:Number,default:3},areaIsall:{type:Boolean,default:!1}},emits:["areaChoose"],components:{EluiChinaAreaDht:Hi.exports.EluiChinaAreaDht},setup(i,{emit:n}){function r(o){const s=o.length,l=[];let c="";for(let u=0;u<s;u++)l.push(o[u]),u===s-1&&(c=ua[o[u]].label);n("areaChoose",{areaCode:l,areaLabel:c,chooseJson:ua[o[s-1]]})}return{onChange:r}}});function or(i,n,r,o,s,l){const c=K("elui-china-area-dht");return z(),H(c,{onChange:i.onChange,class:"elui-com",leave:i.areaLeave,isall:i.areaIsall},null,8,["onChange","leave","isall"])}var sr=le(rr,[["render",or]]),lr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sr});const cr=$e({name:"SvgIcon",props:{iconClass:{type:String,required:!0},iconWidth:{type:String,default:"1em"},inconHeight:{type:String,default:"1em"},iconColor:{type:String,default:"#fff"},custClass:{type:String,default:()=>""}},components:{Icon:nn},setup(i){return{custClassOnIcon:Ee(()=>i.custClass?"iconfont "+i.custClass:"iconfont")}}});function hr(i,n,r,o,s,l){const c=K("Icon");return z(),H(c,{icon:i.iconClass,class:i.custClassOnIcon,height:i.inconHeight,width:i.iconWidth,color:i.iconColor},null,8,["icon","class","height","width","color"])}var ur=le(cr,[["render",hr]]),dr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ur});function gr(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Object]"&&!rn(i)}const mr=$e({name:"AreaCodeCom",props:{dynaFormData:{type:Object,default:{}}},setup(i,{slots:n,attrs:r,expose:o}){const s=l=>{const c=[];for(let u=0;u<l.length;u++){const d=l[u],g=i.dynaFormData.modelName,{slotName:x,modelValueName:m,overElLabel:v,selectMultiple:w}=d,p=d.children,C={label:()=>v?y("div",{style:"display:inline-block;"},[y("span",{style:"margin-right:4px;"},[d.labelName]),y(K("el-checkbox"),{label:m,style:"margin-right:-8px;"},{default:()=>[y("br",null,null)]})]):y("span",{style:"margin-right:4px;"},[d.labelName])};if(d.type==="el-input")c.push(y(K("el-form-item"),{prop:m},Fe({default:()=>[y(K("el-input"),{modelValue:g[m],"onUpdate:modelValue":S=>g[m]=S,class:d.custClass},null),d.extraSlot?n[x]():""]},C)));else if(d.type==="slot")d.noElItem?c.push(y("div",{style:"margin-bottom:18px;"},[n[x]()])):c.push(y(K("el-form-item"),{prop:m},Fe({default:()=>[n[x]()]},C)));else if(d.type==="el-row")c.push(y(K("el-row"),null,{default:()=>[p&&p.length>0?s(p):""]}));else if(d.type==="el-col")c.push(y(K("el-col"),{span:d.colSpan},{default:()=>[p&&p.length>0?s(p):""]}));else if(d.type==="el-select"){const S=d.options,G=[];S.forEach((P,I)=>{G.push(y(K("el-option"),{key:I,label:P.label,value:P.value},null))}),c.push(y(K("el-form-item"),{prop:m},Fe({default:()=>[y(K("el-select"),{modelValue:g[m],"onUpdate:modelValue":P=>g[m]=P,class:d.custClass,multiple:w},{default:()=>[...G]}),d.extraSlot?n[x]():""]},C)))}else if(d.type==="el-switch")c.push(y(K("el-form-item"),{prop:m},Fe({default:()=>[y(K("el-switch"),{modelValue:g[m],"onUpdate:modelValue":S=>g[m]=S},null)]},C)));else if(d.type==="el-date-picker")c.push(y(K("el-form-item"),{prop:m},Fe({default:()=>[y(K("el-date-picker"),{modelValue:g[m],"onUpdate:modelValue":S=>g[m]=S,type:"date",class:d.custClass},null)]},C)));else if(d.type==="el-radio-group"){const S=d.options,G=[];S.forEach((P,I)=>{G.push(y(K("el-radio"),{key:I,label:P.value},{default:()=>[P.label]}))}),c.push(y(K("el-form-item"),{prop:m},Fe({default:()=>[y(K("el-radio-group"),{modelValue:g[m],"onUpdate:modelValue":P=>g[m]=P},{default:()=>[...G]}),d.extraSlot?n[x]():""]},C)))}}return c};return()=>{let l;return y(K("el-form"),_i(r,{ref:"dynaFormDom"}),{default:()=>[y(K("el-checkbox-group"),{modelValue:i.dynaFormData.modelNameCheckbox,"onUpdate:modelValue":c=>i.dynaFormData.modelNameCheckbox=c},gr(l=s(i.dynaFormData.formItem))?l:{default:()=>[l]})]})}}});var pr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mr});const fr=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image"]],xr=$e({components:{QuillEditor:on},props:{resetOptions:{type:Object,default:{}},defaultHeight:{type:String,default:"200px"},getQuillDom:{type:Function,default:null},uploadImgFn:{type:Function,default:null}},setup(i){const n=Qe();return mt(()=>{i.getQuillDom&&i.getQuillDom(pt(n))}),{custOptions:Object.assign({},{debug:!1,modules:{toolbar:{container:fr,handlers:{image:function(){var l=this;if(i.uploadImgFn){var c=l.container.querySelector("input.ql-image[type=file]");c===null&&(c=document.createElement("input"),c.setAttribute("type","file"),c.classList.add("ql-image"),c.addEventListener("change",function(){vr(c.files[0])?i.uploadImgFn(c.files[0],function(u){if(u){let d=l.quill.getSelection(!0).index;l.quill.insertEmbed(d,"image",u),l.quill.setSelection(d+1)}c.value=""}):tt.error("\u53EA\u80FD\u4E0A\u4F20\u56FE\u7247\uFF01")}),l.container.appendChild(c)),c.click()}}}}},placeholder:"\u8BF7\u5F55\u5165\u6570\u636E...",theme:"snow"},i.resetOptions),quillDom:n}}});function vr(i){return!!/\.(jpg|jpeg|png|GIF|JPG|PNG)$/.test(i.name)}function yr(i,n,r,o,s,l){const c=K("QuillEditor");return z(),H(c,_i({ref:"quillDom",options:i.custOptions,style:{height:i.defaultHeight}},i.$attrs),null,16,["options","style"])}var br=le(xr,[["render",yr]]),_r=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:br});const Cr=$e({name:"SvgIcon",props:{iconClass:{type:String,required:!0},className:{type:String,default:()=>""},iconColor:{type:String,default:"#333"}},setup(i){const n=Ee(()=>`#icon-${i.iconClass}`),r=Ee(()=>i.className?"svg-icon "+i.className:"svg-icon");return{iconName:n,svgClass:r}}}),wr=fe("data-v-0c04cec0"),Ir=wr((i,n,r,o,s,l)=>(z(),H("svg",_i({class:i.svgClass,"aria-hidden":"true"},sn(i.$attrs)),[y("use",{"xlink:href":i.iconName,fill:i.iconColor},null,8,["xlink:href","fill"])],16)));var Ar=le(Cr,[["render",Ir],["__scopeId","data-v-0c04cec0"]]),Sr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ar});const Pr=$e({props:{fileDataList:{type:Array,default:()=>[]},sameFileReplace:{type:Boolean,default:!0}},emits:["uploadFileCtrl"],setup(i,{emit:n}){const r=Qe(i.fileDataList),o=()=>{r.value.length>0?n("uploadFileCtrl",r.value):tt.error("\u8BF7\u9009\u62E9\u9700\u8981\u4E0A\u4F20\u7684\u6587\u4EF6")},s=(g,x)=>{if(g.status==="ready"){let m=g.raw,v=m.size;if(v=Math.round(v/1024*100)/100,v>10*1024){x.pop(),tt.error("\u6587\u4EF6\u4E0D\u80FD\u5927\u4E8E10M");return}const w=u(g,x.slice(0,x.length-1));w>=0?i.sameFileReplace?(x[w]=g,x.pop(),c(x),tt.error(`${m.name}\u6587\u4EF6\u91CD\u590D\uFF0C\u5DF2\u8986\u76D6\u8BE5\u6587\u4EF6`)):(x.pop(),c(x),tt.error(`${m.name}\u6587\u4EF6\u91CD\u590D\uFF0C\u672A\u8986\u76D6\u8BE5\u6587\u4EF6`)):c(x)}},l=(g,x)=>{c(x)},c=g=>{r.value=g},u=(g,x)=>x.findIndex(m=>m.hasOwnProperty("raw")?m.raw.type===g.raw.type&&m.raw.name===g.raw.name&&m.raw.size===g.raw.size:m.name===g.raw.name);return{handleOnchange:s,handleBeforeUpload:g=>{console.log(g)},submitUpload:o,fileListCache:r,handleOnRemove:l}}}),Mr=he("\u9009\u62E9\u6587\u4EF6"),Gr=he("\u4E0A\u4F20"),Tr=y("div",{class:"el-upload__tip"}," \u6587\u4EF6\u4E0D\u80FD\u5927\u4E8E10M ",-1);function Wr(i,n,r,o,s,l){const c=K("el-button"),u=K("el-upload");return z(),H(u,{ref:"upload-com",class:"upload-demo",action:"",multiple:!1,"auto-upload":!1,"before-upload":i.handleBeforeUpload,"on-remove":i.handleOnRemove,"on-change":i.handleOnchange,"file-list":i.fileListCache},{trigger:_e(()=>[y(c,{size:"small",type:"primary"},{default:_e(()=>[Mr]),_:1})]),tip:_e(()=>[Tr]),default:_e(()=>[y(c,{style:{"margin-left":"10px"},size:"small",type:"success",onClick:i.submitUpload},{default:_e(()=>[Gr]),_:1},8,["onClick"])]),_:1},8,["before-upload","on-remove","on-change","file-list"])}var Vr=le(Pr,[["render",Wr]]),Rr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Vr});function Dr(i){const n={"./AreaCode/index.vue":lr,"./CIcon/index.vue":dr,"./DynamicCreateForm/index.tsx":pr,"./QuillEdit/index.vue":_r,"./SvgIcon/index.vue":Sr,"./UploadFile/index.vue":Rr};Object.keys(n).map(r=>{const o=r.split("/")[1];i.component(o,n[r].default)}),Array.prototype.arrDel=function(r){return r<0?this:this.slice(0,r).concat(this.slice(r+1,this.length))}}var da={bind(i){let n=i.querySelector(".el-dialog__header");const r=i;n.style.cssText+=";cursor:move;";const o=function(){return window.document.currentStyle?(s,l)=>s.currentStyle[l]:(s,l)=>getComputedStyle(s,null)[l]}();n.onmousedown=s=>{const l=s.clientX-n.offsetLeft,c=s.clientY-n.offsetTop,u=r.offsetWidth,d=r.offsetHeight,g=document.body.clientWidth,x=document.body.clientHeight,m=r.offsetLeft,v=g-r.offsetLeft-u,w=r.offsetTop,p=x-r.offsetTop-d;let C=o(r,"left"),S=o(r,"top");C.includes("%")?(C=+document.body.clientWidth*(+C.replace(/\%/g,"")/100),S=+document.body.clientHeight*(+S.replace(/\%/g,"")/100)):(C=+C.replace(/\px/g,""),S=+S.replace(/\px/g,"")),document.onmousemove=function(G){let P=G.clientX-l,I=G.clientY-c;-P>m?P=-m:P>v&&(P=v),-I>w?I=-w:I>p&&(I=p);const M=`;left:${P+C}px;top:${I+S}px;`;r.style.cssText+=M,r.setAttribute("data-pos",M)},document.onmouseup=function(G){document.onmousemove=null,document.onmouseup=null}}},update(i,n){if(n.value)i.style.cssText+=";left:0px;top:0px;";else{const r=i.getAttribute("data-pos");r&&(i.style.cssText+=r)}}};function Fr(i){i.directive("cust-drag-dialog",{mounted(n,r,o,s){const l=n.firstElementChild.firstElementChild;da.bind(l),da.update(l,r)}})}var Zr=$e({name:"App",setup(){return()=>y(ln,null,null)}});function Br(i){let n=i.querySelector(".el-dialog__header");const r=i;n.style.cssText+=";cursor:move;";const o=function(){return window.document.currentStyle?(s,l)=>s.currentStyle[l]:(s,l)=>getComputedStyle(s,null)[l]}();n.onmousedown=s=>{const l=s.clientX-n.offsetLeft,c=s.clientY-n.offsetTop,u=r.offsetWidth,d=r.offsetHeight,g=document.body.clientWidth,x=document.body.clientHeight,m=r.offsetLeft,v=g-r.offsetLeft-u,w=r.offsetTop,p=x-r.offsetTop-d;let C=o(r,"left"),S=o(r,"top");C.includes("%")?(C=+document.body.clientWidth*(+C.replace(/\%/g,"")/100),S=+document.body.clientHeight*(+S.replace(/\%/g,"")/100)):(C=+C.replace(/\px/g,""),S=+S.replace(/\px/g,"")),document.onmousemove=function(G){let P=G.clientX-l,I=G.clientY-c;-P>m?P=-m:P>v&&(P=v),-I>w?I=-w:I>p&&(I=p);const M=`;left:${P+C}px;top:${I+S}px;`;r.style.cssText+=M,r.setAttribute("data-pos",M)},document.onmouseup=function(G){document.onmousemove=null,document.onmouseup=null}}}var kr={bind:Br};const Er=he("\u6253\u5F00dialog"),Nr=he("\u6253\u5F00\u6307\u4EE4\u62D6\u62FD\u7684dialog"),Lr=he(" Click to open Dialog "),Xr={style:{display:"flex","align-items":"center"}},zr={style:{"margin-left":"10px"}},Hr=he(" Edit "),Ur=he(" Delete "),$r=y("span",null,"This is a message",-1),Yr={class:"dialog-footer"},Or=he("Cancel"),jr=he(" Confirm "),Qr=y("span",null,"\u4F7F\u7528\u6307\u4EE4\u5B9E\u73B0\u62D6\u62FD",-1),Jr={class:"dialog-footer"},Kr=he("\u53D6\u6D88"),qr=he(" \u786E\u5B9A "),eo=y("span",null,"It's a draggable Dialog",-1),to={class:"dialog-footer"},io=he("Cancel"),ao=he(" Confirm "),no=$e({expose:[],setup(i){let n=Qe("");mt(()=>{kr.bind(n.value.dialogRef)});const r=Qe(!1),o=Qe(!1),s=Qe(!1),l=()=>{console.log("open dailog."),o.value=!0},c=()=>{s.value=!0},u=m=>{ii.confirm("Are you sure to close this dialog?").then(()=>{m()}).catch(()=>{})},d=(m,v)=>{console.log(m,v)},g=(m,v)=>{console.log(m,v)},x=[{date:"2016-05-03",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-02",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-04",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-01",name:"Tom",address:"No. 189, Grove St, Los Angeles"}];return(m,v)=>{const w=K("el-button"),p=K("CIcon"),C=K("el-table-column"),S=K("el-tag"),G=K("el-popover"),P=K("el-table"),I=K("el-dialog"),M=cn("cust-drag-dialog");return z(),H("article",null,[y(w,{onClick:l},{default:_e(()=>[Er]),_:1}),y(w,{onClick:c},{default:_e(()=>[Nr]),_:1}),y(w,{text:"",onClick:v[1]||(v[1]=_=>r.value=!0)},{default:_e(()=>[Lr]),_:1}),y(P,{data:x,style:{width:"100%"}},{default:_e(()=>[y(C,{label:"Date",width:"180"},{default:_e(_=>[y("div",Xr,[y(p,{"icon-class":"bx:time-five","icon-color":"#333"}),y("span",zr,Ce(_.row.date),1)])]),_:1}),y(C,{label:"Name",width:"180"},{default:_e(_=>[y(G,{effect:"light",trigger:"hover",placement:"top",width:"auto"},{default:_e(()=>[y("div",null,"name: "+Ce(_.row.name),1),y("div",null,"address: "+Ce(_.row.address),1)]),reference:_e(()=>[y(S,null,{default:_e(()=>[he(Ce(_.row.name),1)]),_:2},1024)]),_:2},1024)]),_:1}),y(C,{label:"Operations"},{default:_e(_=>[y(w,{size:"small",onClick:b=>d(_.$index,_.row)},{default:_e(()=>[Hr]),_:2},1032,["onClick"]),y(w,{size:"small",type:"danger",onClick:b=>g(_.$index,_.row)},{default:_e(()=>[Ur]),_:2},1032,["onClick"])]),_:1})]),_:1}),y(I,{ref:n,modelValue:o.value,"onUpdate:modelValue":v[4]||(v[4]=_=>o.value=_),title:"Tips",width:"30%","before-close":u},{footer:_e(()=>[y("span",Yr,[y(w,{onClick:v[2]||(v[2]=_=>o.value=!1)},{default:_e(()=>[Or]),_:1}),y(w,{type:"primary",onClick:v[3]||(v[3]=_=>o.value=!1)},{default:_e(()=>[jr]),_:1})])]),default:_e(()=>[$r]),_:1},8,["modelValue"]),Ui(y("div",null,[y(I,{modelValue:s.value,"onUpdate:modelValue":v[7]||(v[7]=_=>s.value=_),title:"\u5F39\u6846",width:"30%","close-on-click-modal":!1},{footer:_e(()=>[y("span",Jr,[y(w,{onClick:v[5]||(v[5]=_=>s.value=!1)},{default:_e(()=>[Kr]),_:1}),y(w,{type:"primary",onClick:v[6]||(v[6]=_=>s.value=!1)},{default:_e(()=>[qr]),_:1})])]),default:_e(()=>[Qr]),_:1},8,["modelValue"])],512),[[M]]),y(I,{modelValue:r.value,"onUpdate:modelValue":v[10]||(v[10]=_=>r.value=_),title:"Tips",width:"30%",draggable:""},{footer:_e(()=>[y("span",to,[y(w,{onClick:v[8]||(v[8]=_=>r.value=!1)},{default:_e(()=>[io]),_:1}),y(w,{type:"primary",onClick:v[9]||(v[9]=_=>r.value=!1)},{default:_e(()=>[ao]),_:1})])]),default:_e(()=>[eo]),_:1},8,["modelValue"])])}}});var ro=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:no});function oo(){const i=Qe([]),n=je({projectName:"",projType:"",projCode:"",bussionPerson:"",dateline:"2021-12-22",finishDate:"2021-12-29",delivery:!1,notifPerson:"",remindLimit:!1,remindHourChose:!1,remindHourNum:"",indestry:"",areaCode:""}),r={labelName:"",modelValueName:"",type:"",slotName:"",colSpan:12,noElItem:!1,extraSlot:!1,custClass:"",overElLabel:!1,selectMultiple:!1,options:[],children:[]},o=je({modelName:n,modelNameCheckbox:i,formItem:[{labelName:"\u9879\u76EE\u540D\u79F0",modelValueName:"projectName",type:"el-input",colSpan:"",noElItem:!1,extraSlot:!1,custClass:"",slotName:"",children:[]},{labelName:"",modelValueName:"",type:"el-row",slotName:"",colSpan:"",noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"",modelValueName:"",type:"el-col",slotName:"",colSpan:12,noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"\u9879\u76EE\u7C7B\u578B",modelValueName:"projType",type:"el-select",slotName:"",colSpan:"",extraSlot:!1,custClass:"adjuest-width-hundred",selectMultiple:!0,options:[{label:"\u5185\u90E8\u9879\u76EE",value:"1"},{label:"\u8F6C\u5305\u9879\u76EE",value:"2"}]}]},{labelName:"",modelValueName:"",type:"el-col",slotName:"",colSpan:12,noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"\u9879\u76EE\u7F16\u53F7",modelValueName:"projCode",type:"el-input",slotName:"projectCodeSlot",colSpan:"",extraSlot:!0,custClass:"adjues-proj-code-width"}]}]},{labelName:"",modelValueName:"",type:"el-row",slotName:"",colSpan:"",noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"",modelValueName:"",type:"el-col",slotName:"",colSpan:12,noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"\u884C\u653F\u533A\u5212",modelValueName:"areaCode",type:"slot",slotName:"areaChooseslot",colSpan:"",noElItem:!1,extraSlot:!1,custClass:""}]},{labelName:"",modelValueName:"",type:"el-col",slotName:"",colSpan:12,noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"\u884C\u4E1A",modelValueName:"bussionPerson",type:"el-select",slotName:"",colSpan:"",noElItem:!1,extraSlot:!1,overElLabel:!0,custClass:"adjuest-width-hundred",options:[{label:"\u5F20\u4E09",value:"1"},{label:"\u674E\u56DB",value:"2"}]}]}]},{labelName:"",modelValueName:"",type:"el-row",slotName:"",colSpan:"",noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"",modelValueName:"",type:"el-col",slotName:"",colSpan:12,noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"\u5BA2\u6237\u5BF9\u8C61",modelValueName:"clientObj",type:"el-input",slotName:"",colSpan:"",noElItem:!1,extraSlot:!1,overElLabel:!0,custClass:""}]},{labelName:"",modelValueName:"",type:"el-col",slotName:"",colSpan:12,noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"\u5408\u540C\u91D1\u989D",modelValueName:"contectTotal",type:"el-input",slotName:"",colSpan:"",noElItem:!1,extraSlot:!1,overElLabel:!0,custClass:"adjuest-width-hundred",options:[]}]}]},{labelName:"",modelValueName:"",type:"el-row",slotName:"",colSpan:"",noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"",modelValueName:"",type:"el-col",slotName:"",colSpan:12,noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"\u6295\u6807\u65E5\u671F",modelValueName:"dateline",type:"el-date-picker",slotName:"",colSpan:"",overElLabel:!0,extraSlot:!1,custClass:"adjuest-width-hundred"}]},{labelName:"",modelValueName:"",type:"el-col",slotName:"",colSpan:12,noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"\u5408\u540C\u7B7E\u8BA2\u65E5\u671F",modelValueName:"finishDate",type:"el-date-picker",slotName:"",colSpan:"",noElItem:!1,extraSlot:!1,overElLabel:!0,custClass:"adjuest-width-hundred"}]}]},{labelName:"",modelValueName:"",type:"el-row",slotName:"",colSpan:"",noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"",modelValueName:"",type:"el-col",slotName:"",colSpan:12,noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"\u9879\u76EE\u7BA1\u7406\u4EBA",modelValueName:"proMange",type:"el-select",slotName:"",colSpan:"",overElLabel:!0,extraSlot:!1,noElItem:!1,custClass:"adjuest-width-hundred",options:[{label:"\u5236\u9020",value:"1"},{label:"\u6C34\u5229",value:"2"}]}]},{labelName:"",modelValueName:"",type:"el-col",slotName:"",colSpan:12,noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"\u5546\u52A1\u4EBA\u5458",modelValueName:"bussionMan",type:"el-select",slotName:"",colSpan:"",overElLabel:!0,extraSlot:!1,noElItem:!1,custClass:"adjuest-width-hundred",options:[{label:"\u5F20\u4E09",value:"1"},{label:"\u674E\u56DB",value:"2"}]}]}]},{labelName:"",modelValueName:"",type:"el-row",slotName:"",colSpan:"",noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"",modelValueName:"",type:"el-col",slotName:"",colSpan:6,noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"\u77E5\u4F1A\u76F8\u5173\u4EBA\u5458",modelValueName:"notifPerson",type:"el-switch",slotName:"",colSpan:"",extraSlot:!1,custClass:" "}]},{labelName:"",modelValueName:"",type:"el-col",slotName:"",colSpan:12,noElItem:!1,extraSlot:!1,custClass:"",children:[{labelName:"\u65F6\u9650",modelValueName:"bussionPerson",type:"slot",slotName:"remindLimitTime",colSpan:"",noElItem:!0,extraSlot:!1,custClass:""}]}]},{labelName:"\u6295\u6807\u5185\u5BB9\u7B80\u8FF0",modelValueName:"quillslotname",type:"slot",slotName:"quillslotname",colSpan:"",noElItem:!1,extraSlot:!1,custClass:"",overElLabel:!0,children:[]},{labelName:"\u4E0A\u4F20\u62DB\u6807\u4E66",modelValueName:"uploadAttach",type:"slot",slotName:"uploadAttachmentSlot",colSpan:"",extraSlot:!1,noElItem:!1,custClass:" ",options:[]},{labelName:"\u9875\u811A",modelValueName:"formfooter",type:"slot",slotName:"footer",colSpan:"",noElItem:!0,extraSlot:!1,custClass:"",children:[]}]});return{dynaform:n,dynaFormData:o,groupCheckboxArr:i,contentTemplate:r}}const Yt=class{static toAnyString(){return"xxxxx-xxxxx-4xxxx-yxxxx-xxxxx".replace(/[xy]/g,n=>{const r=Math.random()*16|0;return(n==="x"?r:r&3|8).toString()})}static isExternal(i){return/^(https?:|mailto:|tel:)/.test(i)}static param2Obj(i){const n=i.split("?")[1];return n?JSON.parse('{"'+decodeURIComponent(n).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"').replace(/\+/g," ")+'"}'):{}}static debounce(i,n,r=!1){let o,s,l,c,u;const d=function(){const g=+new Date-c;g<n&&g>0?o=setTimeout(d,n-g):(o=null,r||(u=i.apply(l,s),o||(l=s=null)))};return(...g)=>{l=this,c=+new Date;const x=r&&!o;return o||(o=setTimeout(d,n)),x&&(u=i.apply(l,g),l=g=null),u}}static parseTime(i,n){if(arguments.length===0)return null;const r=n||"{y}-{m}-{d} {h}:{i}:{s}";let o;typeof i=="object"?o=i:(typeof i=="string"&&/^[0-9]+$/.test(i)&&(i=parseInt(i)),typeof i=="number"&&i.toString().length===10&&(i=i*1e3),o=new Date(i));const s={y:o.getFullYear(),m:o.getMonth()+1,d:o.getDate(),h:o.getHours(),i:o.getMinutes(),s:o.getSeconds(),a:o.getDay()};return r.replace(/{([ymdhisa])+}/g,(c,u)=>{const d=s[u];return u==="a"?["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"][d]:d.toString().padStart(2,"0")})}static objectMerge(i,n){return typeof i!="object"&&(i={}),Array.isArray(n)?n.slice():(Object.keys(n).forEach(r=>{const o=n[r];typeof o=="object"?i[r]=Yt.objectMerge(i[r],o):i[r]=o}),i)}static objectDeepMerge(i,n){const r={},o=Yt.deepClone(i);return Object.keys(o).forEach(s=>{r[s]=o[s]}),Object.keys(r).forEach(s=>{n.hasOwnProperty(s)&&(r[s]=n[s])}),r}};let st=Yt;st.deepClone=i=>{const n=Object.keys(i);return Array.isArray(i)?n.reduce((r,o)=>{const s=i[o];return typeof s=="object"?r.push(Yt.deepClone(s)):r.push({[o]:s})},[]):n.reduce((r,o)=>{const s=i[o];return typeof s=="object"?Vt(Fe({},r),{[o]:Yt.deepClone(s)}):Vt(Fe({},r),{[o]:s})},{})};function ga(i){let n=window.sessionStorage.getItem(i);return JSON.parse(n)}const ma="/prod-basic-api";console.log(ma,"PATH_URLPATH_URLPATH_URL");const ri=ti.create({baseURL:ma,timeout:5e4,headers:{"Content-Type":"application/json;charset=UTF-8"}});ri.interceptors.request.use(i=>(ga("token")&&(i.headers.common.Authorization=`${ga("token")}`),i),i=>Promise.reject(i));ri.interceptors.response.use(i=>{const n=i.data;return n.code&&n.code!==0?((n.code===401||n.code===4001)&&(window.sessionStorage.clear(),lt.push("/login"),Xn(),ii.alert("\u4F60\u5DF2\u88AB\u767B\u51FA\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55","\u63D0\u793A",{}).then(()=>{}).catch(()=>{})),Promise.reject(ri.interceptors.response)):i.data},i=>(i.message.indexOf("timeout")!=-1?tt.error("\u7F51\u7EDC\u8D85\u65F6"):i.message=="Network Error"?tt.error("\u7F51\u7EDC\u8FDE\u63A5\u9519\u8BEF"):tt.error(i.message),Promise.reject(i)));function so(i){return ri({url:"/system/user/profile/test/upload/images",method:"post",data:i})}const lo="/prod-basic-api",co=$e({setup(){mt(()=>{c(),P()});const i=Qe(!1),n=je([]),r=Qe(),o=Qe(),s=Qe([]),l=je({showname:"",propertyname:"",newpropertyname:"",inputway:"",ismust:""}),c=()=>{let X=1;for(;X<7;){const j=`field${X}`;s.value.push({slotNameStr:j+"CodeSlot",modelValueName:j,labelName:"",type:""}),X++}},{dynaform:u,dynaFormData:d,groupCheckboxArr:g,contentTemplate:x}=oo(),m=[],v=Qe(),w=[];let p="";const C="",S=je({projectName:[{required:!0,trigger:"blur",message:"\u9879\u76EE\u540D\u4E0D\u80FD\u4E3A\u7A7A"}],projCode:[{required:!0,trigger:"blur",message:"\u9879\u76EE\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A"}],projType:[{required:!0,trigger:"change",message:"\u9879\u76EE\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A"}],areaCode:[{required:!0,trigger:"change",message:"\u884C\u653F\u533A\u5212\u4E0D\u80FD\u4E3A\u7A7A"}]}),G={propertyname:[{required:!0,trigger:"change",message:"\u8BF7\u9009\u62E9\u81EA\u5B9A\u4E49\u5B57\u6BB5"}],showname:[{required:!0,trigger:"blur",message:"\u5B57\u6BB5\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],inputway:[{required:!0,trigger:"change",message:"\u8BF7\u9009\u62E9\u8F93\u5165\u65B9\u5F0F"}],ismust:[{required:!0,trigger:"change",message:"\u8BF7\u9009\u62E9\u8F93\u5165\u662F\u5426\u5FC5\u586B"}]},P=()=>{["field1","field2","field3","field4","field5","field6"].forEach(j=>{n.push({label:j,value:j,disabled:!1})})},I=je({domains:[],defaultOption:""}),M=X=>{const j=I.domains.indexOf(X);j!==-1&&I.domains.splice(j,1)},_=()=>{I.domains.push({key:Date.now(),value:""})},b=async()=>{const X=pt(r);if(!!X)try{await X.validate(j=>{j&&(i.value=!1)})}catch(j){console.log(j)}},A=X=>{X!=="input"&&(i.value=!0)},F=async()=>{const X=pt(o);if(!!X)try{await X.validate(j=>{j&&W()&&Z()})}catch(j){console.log(j)}},T={input:{type:"el-input"},select:{type:"el-select",custClass:"adjuest-width-hundred"},multiSelect:{type:"el-select",selectMultiple:!0,custClass:"adjuest-width-hundred"},radio:{type:"el-radio-group"}},Z=()=>{const X=[];I.defaultOption&&(X.push({value:I.defaultOption,label:I.defaultOption}),I.domains.forEach(Ae=>{X.push({value:Ae.value,label:Ae.value})}));const{showname:j,propertyname:q,newpropertyname:ue,inputway:me,ismust:ce}=l,ge={slotName:q+"CodeSlot",colSpan:"",extraSlot:!0,custClass:"adjues-proj-code-width"},Ze=Fe(Vt(Fe({},T[me]),{labelName:j,modelValueName:q,overElLabel:!0,options:X}),ge);try{J(Ze)}catch(Ae){console.log(Ae)}},W=()=>{let X=!0;return l.inputway!=="input"&&(I.defaultOption||(X=!1,tt.error("\u8BF7\u4E3A\u8F93\u5165\u7C7B\u578B\u6DFB\u52A0\u9009\u9879"))),X},R=async()=>{var X=p.getHTML();const j=pt(v);if(!!j)try{await j.$refs.dynaFormDom.validate(q=>{q&&console.log("submit!",X,st.parseTime(u.dateline,"{y}-{m}-{d}"),pt(u),pt(g))})}catch(q){console.log(q)}},N=X=>{console.log(X)},B=X=>{p=X},Y=(X,j)=>{const q=$i.service();let ue=new FormData,me=X.name.split(".").pop();ue.append("fileObj",X),ue.append("fileSuffix",me+""),so(ue).then(ce=>{if(ce.code===200){const ge=lo+ce.address;j(ge)}else j(null);q.close()}).catch(ce=>{j(null),console.log(ce),q.close()})},L=X=>{u.areaCode=X.areaCode.join(","),console.log("receive area from children com:",X," dynaform-areaCode: ",u.areaCode)},J=X=>{const j=d.formItem;u[X.modelValueName]=l.inputway==="multiSelect"?[]:"",l.ismust==="1"&&(S[X.modelValueName]=[{required:!0,trigger:X.type==="input"?"blur":"change",message:X.labelName+"\u4E0D\u80FD\u4E3A\u7A7A"}]);const q=j[j.length-4];if(q.children.length<2){const me=st.objectDeepMerge(x,{type:"el-col"}),ce=st.objectDeepMerge(x,X);me.children.push(ce),q.children.push(me)}else{const me=st.objectDeepMerge(x,{type:"el-row"}),ce=st.objectDeepMerge(x,{type:"el-col",colSpan:12}),ge=st.objectDeepMerge(x,X);me.children.push(ce),ce.children.push(ge),j.splice(j.length-3,0,me)}pt(s).forEach(me=>{me.modelValueName===X.modelValueName&&(me.labelName=X.labelName,me.type=X.type)}),D()},D=()=>{I.domains=[],I.defaultOption="",n.forEach(j=>{j.value===l.propertyname&&(j.disabled=!0)}),pt(o).resetFields()},U=X=>{console.log(X)},te=(X,j,q,ue)=>{j.forEach((me,ce)=>{me.type===ue&&me.children.length<2?X?X.length-1>q?X[q+1].type===ue&&(X[q+1].children[0]?(me.children.push(X[q+1].children[0]),X[q+1].children.splice(0,1)):X.splice(q+1,1)):X.length<=1&&X.splice(q,1):me.children<=0?j.splice(ce,1):j.length-1>ce&&(j[ce+1]?j[ce+1].type===ue&&(j[ce+1].children[0]?(me.children.push(j[ce+1].children[0]),j[ce+1].children.splice(0,1)):j.splice(ce+1,1)):j.splice(ce,1)):me.children&&me.children.length>0&&te(j,me.children,ce,ue)})},ne=(X,j,q,ue)=>{j.forEach((me,ce)=>{const ge=me.modelValueName;ue===ge?X.splice(q,1):me.children&&me.children.length>0&&ne(j,me.children,ce,ue)})};return{formInline:l,dialogVisible:i,dynamicValidateForm:I,addOptionsForm:r,keepFieldArr:n,addDomain:_,removeDomain:M,confirmAddOptions:b,inputTypeChange:A,onSubmit:R,quillcontentData:C,contentchange:N,getQuillDom:B,uploadImgFn:Y,areaChooseItem:L,defaultAreaCode:w,fileDataList:m,dynaFormData:d,dynaform:u,groupCheckboxArr:g,dynaFormRules:S,dynaSonFormDom:v,uploadFileCtrl:U,customerRules:G,customerForm:o,confirmAddCustField:F,delKeepField:X=>{ii.confirm("\u786E\u5B9A\u5220\u9664\u3010"+X.labelName||"\u8BE5\u7EC4\u4EF6\u3011\u7EC4\u4EF6?","\u7CFB\u7EDF\u63D0\u793A",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(()=>{const j=d.formItem;ne("",j,0,X.modelValueName),te("",j,-1,"el-row"),n.forEach(q=>{q.value===X.modelValueName&&(q.disabled=!1)})}).catch(j=>{console.log(j),tt({type:"info",message:"Delete canceled"})})},keepFieldSlotArr:s}}}),Ve=fe("data-v-31a65f17");ye("data-v-31a65f17");const ho={class:"app-container"},uo={class:"dyn-form"},go={class:"icon-container"},mo=y("br",null,null,-1),po=y("span",null,"\u5C0F\u65F6\u540E",-1),fo=he("\u4FDD\u5B58\u6A21\u677F"),xo=he("\u53D6\u6D88"),vo={class:"icon-container"},yo={class:"customer-field"},bo=y("h3",{style:{"margin-bottom":"6px"}},"\u81EA\u5B9A\u4E49\u5B57\u6BB5",-1),_o=he("\u6DFB\u52A0"),Co={class:"dialog-footer"},wo=he("\u5173\u95ED"),Io=he("\u786E\u5B9A");be();const Ao=Ve((i,n,r,o,s,l)=>{const c=K("quill-edit"),u=K("area-code"),d=K("CIcon"),g=K("el-checkbox"),x=K("el-input"),m=K("el-form-item"),v=K("el-button"),w=K("upload-file"),p=K("dynamic-create-form"),C=K("el-option"),S=K("el-select"),G=K("el-form"),P=K("el-dialog");return z(),H("div",ho,[y("section",uo,[y(p,{ref:"dynaSonFormDom","dyna-form-data":i.dynaFormData,model:i.dynaform,rules:i.dynaFormRules,"label-width":"130px"},Yi({quillslotname:Ve(()=>[y(c,{"get-quill-dom":i.getQuillDom,content:i.quillcontentData,"onUpdate:content":n[1]||(n[1]=I=>i.quillcontentData=I),contentType:"html",defaultHeight:"400px",onTextChange:i.contentchange,"upload-img-fn":i.uploadImgFn},null,8,["get-quill-dom","content","onTextChange","upload-img-fn"])]),areaChooseslot:Ve(()=>[y(u,{onAreaChoose:i.areaChooseItem,modelValue:i.defaultAreaCode,"onUpdate:modelValue":n[2]||(n[2]=I=>i.defaultAreaCode=I),"area-leave":1},null,8,["onAreaChoose","modelValue"])]),projectCodeSlot:Ve(()=>[y("div",go,[y(d,{"icon-class":"ep:edit","icon-color":"#333","cust-class":"proj-add-iconfont"})])]),remindLimitTime:Ve(()=>[y(m,null,{default:Ve(()=>[y(g,{label:"\u77E5\u4F1A\u65F6\u9650",modelValue:i.dynaform.remindLimit,"onUpdate:modelValue":n[3]||(n[3]=I=>i.dynaform.remindLimit=I)},null,8,["modelValue"]),y(g,{label:"notifHour",modelValue:i.dynaform.remindHourChose,"onUpdate:modelValue":n[4]||(n[4]=I=>i.dynaform.remindHourChose=I)},{default:Ve(()=>[mo]),_:1},8,["modelValue"]),y(x,{modelValue:i.dynaform.remindHourNum,"onUpdate:modelValue":n[5]||(n[5]=I=>i.dynaform.remindHourNum=I),class:"adjuest-width-sixty"},null,8,["modelValue"]),po]),_:1})]),footer:Ve(()=>[y(m,{class:"cust-flooter"},{default:Ve(()=>[y(v,{type:"primary",onClick:i.onSubmit},{default:Ve(()=>[fo]),_:1},8,["onClick"]),y(v,null,{default:Ve(()=>[xo]),_:1})]),_:1})]),uploadAttachmentSlot:Ve(()=>[y(w,{onUploadFileCtrl:i.uploadFileCtrl,"file-data-list":i.fileDataList},null,8,["onUploadFileCtrl","file-data-list"])]),_:2},[nt(i.keepFieldSlotArr,(I,M)=>({name:I.slotNameStr,fn:Ve(()=>[y("div",vo,[y(d,{"icon-class":"el:remove-circle","icon-color":"#333","cust-class":"keep-field-iconfont",onClick:_=>i.delKeepField(I)},null,8,["onClick"])])])}))]),1032,["dyna-form-data","model","rules"])]),y("section",yo,[bo,y(G,{ref:"customerForm",inline:!0,model:i.formInline,rules:i.customerRules,class:"demo-form-inline"},{default:Ve(()=>[y(m,{label:"\u81EA\u5B9A\u4E49\u5B57\u6BB5",size:"mini",prop:"propertyname"},{default:Ve(()=>[y(S,{modelValue:i.formInline.propertyname,"onUpdate:modelValue":n[6]||(n[6]=I=>i.formInline.propertyname=I),placeholder:"\u9009\u62E9\u81EA\u5B9A\u4E49\u5B57\u6BB5"},{default:Ve(()=>[(z(!0),H(qe,null,nt(i.keepFieldArr,(I,M)=>(z(),H(C,{label:I.label,value:I.value,disabled:I.disabled,key:M},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1}),y(m,{label:"\u5B57\u6BB5\u540D\u79F0",size:"mini",prop:"showname"},{default:Ve(()=>[y(x,{placeholder:"\u8F93\u5165\u5B57\u6BB5\u540D\u79F0",modelValue:i.formInline.showname,"onUpdate:modelValue":n[7]||(n[7]=I=>i.formInline.showname=I)},null,8,["modelValue"])]),_:1}),y(m,{label:"\u8F93\u5165\u65B9\u5F0F",size:"mini",prop:"inputway"},{default:Ve(()=>[y(S,{modelValue:i.formInline.inputway,"onUpdate:modelValue":n[8]||(n[8]=I=>i.formInline.inputway=I),onChange:i.inputTypeChange,placeholder:"\u9009\u62E9\u8F93\u5165\u65B9\u5F0F"},{default:Ve(()=>[y(C,{label:"input\u6846\u8F93\u5165",value:"input"}),y(C,{label:"\u4E0B\u62C9(\u5355\u9009)\u8F93\u5165",value:"select"}),y(C,{label:"\u4E0B\u62C9(\u591A\u9009)\u8F93\u5165",value:"multiSelect"}),y(C,{label:"\u5355\u9009\u6846\u8F93\u5165",value:"radio"})]),_:1},8,["modelValue","onChange"])]),_:1}),y(m,{label:"\u662F\u5426\u5FC5\u586B",size:"mini",prop:"ismust"},{default:Ve(()=>[y(S,{modelValue:i.formInline.ismust,"onUpdate:modelValue":n[9]||(n[9]=I=>i.formInline.ismust=I),placeholder:"\u9009\u62E9\u662F\u5426\u5FC5\u586B"},{default:Ve(()=>[y(C,{label:"\u662F",value:"1"}),y(C,{label:"\u5426",value:"0"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),y("div",null,[y(v,{type:"primary",onClick:i.confirmAddCustField},{default:Ve(()=>[_o]),_:1},8,["onClick"])])]),y(P,{modelValue:i.dialogVisible,"onUpdate:modelValue":n[12]||(n[12]=I=>i.dialogVisible=I),title:"\u65B0\u589E\u9009\u9879\u5217\u8868",width:"380px","destroy-on-close":""},{footer:Ve(()=>[y("span",Co,[y(v,{onClick:n[11]||(n[11]=I=>i.dialogVisible=!1)},{default:Ve(()=>[wo]),_:1}),y(v,{type:"primary",onClick:i.confirmAddOptions},{default:Ve(()=>[Io]),_:1},8,["onClick"])])]),default:Ve(()=>[y(G,{ref:"addOptionsForm",model:i.dynamicValidateForm,"label-width":"120px",class:"demo-dynamic"},{default:Ve(()=>[y(m,{prop:"defaultOption",label:"\u9009\u9879\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5185\u5BB9",trigger:"blur"}]},{default:Ve(()=>[y(x,{modelValue:i.dynamicValidateForm.defaultOption,"onUpdate:modelValue":n[10]||(n[10]=I=>i.dynamicValidateForm.defaultOption=I)},null,8,["modelValue"])]),_:1}),(z(!0),H(qe,null,nt(i.dynamicValidateForm.domains,(I,M)=>(z(),H(m,{key:I.key,label:"\u9009\u9879\u540D\u79F0"+M+1,prop:"domains."+M+".value",rules:{required:!0,message:"\u9009\u9879\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:Ve(()=>[y(x,{modelValue:I.value,"onUpdate:modelValue":_=>I.value=_,style:{width:"76%"}},null,8,["modelValue","onUpdate:modelValue"]),y(v,{onClick:Rt(_=>i.removeDomain(I),["prevent"]),type:"danger",icon:"el-icon-delete",style:{float:"right"}},null,8,["onClick"])]),_:2},1032,["label","prop"]))),128)),y(m,null,{default:Ve(()=>[y(v,{onClick:i.addDomain,type:"primary",icon:"el-icon-plus",size:"mini"},null,8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])});var So=le(co,[["render",Ao],["__scopeId","data-v-31a65f17"]]),Po=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:So});function Mo(i){const n=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;let r=i.toLowerCase();if(n.test(r)){if(r.length===4){let s="#";for(let l=1;l<4;l+=1)s+=r.slice(l,l+1).concat(r.slice(l,l+1));r=s}const o=[];for(let s=1;s<7;s+=2)o.push(parseInt("0x"+r.slice(s,s+2)));return o}return[]}function Go(i){const n=Function;return new n("return "+i)()}let yt=null;class To{constructor(n){yt=n,this.init_data()}init_data(){this.viewer=null}init(n,r,o=[]){const s=n;let l=new yt.SingleTileImageryProvider({url:"https://mapv-data.oss-cn-hangzhou.aliyuncs.com/Cesium-1.82-hawk/background.png"});o.length!==0&&(l=this.setOneimageryProvider(o[0]));let c={imageryProvider:l,contextOptions:{webgl:{alpha:!1}},animation:!1,timeline:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,selectionIndicator:!1,shadow:!0,sceneMode:yt.SceneMode.SCENE3D,infoBox:!1,sceneModePicker:!1,navigationHelpButton:!1,projectionPicker:!1,baseLayerPicker:!1,shouldAnimate:!0,navigation:!1,showRenderLoopErrors:!0};c=Object.assign(c,r);const u=new yt.Viewer(s,c);if(!r.logo){const d=u.cesiumWidget.creditContainer;d.style.display="none"}return r.depthTest&&(u.scene.globe.depthTestAgainstTerrain=!0),r.initNavigate&&this.initCesiumNavigation(u),this.setConfigMapList(u,o),this.removeJagged(u),this.viewer=u,u}initCesiumNavigation(n){const r={};r.defaultResetView=new yt.Rectangle.fromDegrees(80,22,130,50),r.enableCompass=!0,r.enableZoomControls=!0,r.enableDistanceLegend=!0,r.enableCompassOuterRing=!0,new hn(n,r)}setOneimageryProvider(n){return n.classConfig.customTags&&(n.classConfig.customTags=Go("("+n.classConfig.customTags+")")),new yt[n.type](n.classConfig)}setConfigMapList(n,r){const o=n.imageryLayers;r.some((s,l)=>{if(l===0)return!1;o.addImageryProvider(this.setOneimageryProvider(s))}),r.some((s,l)=>{const c=n.imageryLayers.get(l);s.interfaceConfig&&Object.getOwnPropertyNames(s.interfaceConfig).forEach(function(d){c[d]=s.interfaceConfig[d]}),c.invertColor=s.invertswitch,c.filterRGB=[255,255,255],s.filterRGB!=="#000000"&&s.filterRGB!=="#ffffff"&&(c.filterRGB=Mo(s.filterRGB));const u=s.offset.split(",");if(u.length===2)try{const d=[parseFloat(u[0]),parseFloat(u[1])];c._imageryProvider._tilingScheme._rectangleNortheastInMeters.x+=d[0],c._imageryProvider._tilingScheme._rectangleNortheastInMeters.y+=d[1]}catch(d){console.log(d)}this.changeImageryProviderColors(n,c)})}removeJagged(n){if(n.scene.postProcessStages.fxaa.enabled=!1,n.scene.fxaa=!1,n.cesiumWidget._supportsImageRenderingPixelated){let o=window.devicePixelRatio;for(;o>=2;)o/=2;n.resolutionScale=o}}changeImageryProviderColors(n,r){const o=n.scene.globe._surfaceShaderSet.baseFragmentShaderSource.sources;for(let s=0;s<o.length;s++){const l=o[s],c=`color = czm_saturation(color, textureSaturation);
#endif
`;let u=`color = czm_saturation(color, textureSaturation);
#endif
`;r.invertColor&&(u+=`
          color.r = 1.0 - color.r;
          color.g = 1.0 - color.g;
          color.b = 1.0 - color.b;
        `,u+=`
        color.r = color.r * ${r.filterRGB[0]}.0/255.0;
        color.g = color.g * ${r.filterRGB[1]}.0/255.0;
        color.b = color.b * ${r.filterRGB[2]}.0/255.0;
        `),l.indexOf(c)!==-1&&(o[s]=o[s].replace(c,u))}}getCurCenterlonLat(n){let r=n.camera.pickEllipsoid(new yt.Cartesian2(n.canvas.clientWidth/2,n.canvas.clientHeight/2)),o=yt.Ellipsoid.WGS84.cartesianToCartographic(r),s=o.longitude*180/Math.PI,l=o.latitude*180/Math.PI;return{lon:s,lat:l}}}let ie=null;function oi(i,n){i&&(ie=n,this._graphicsLayer=new ie.CustomDataSource("graphicsLayer"),i&&i.dataSources.add(this._graphicsLayer))}oi.prototype={getPointGraphics:function(i){if(i=i||{},i)return new ie.PointGraphics({color:i.color||ie.Color.GREEN,pixelSize:i.pixelSize||5,outlineColor:i.outlineColor||ie.Color.WHITE,outlineWidth:i.outlineWidth||1})},getLineGraphics:function(i){if(i=i||{},i&&i.positions)return new ie.PolylineGraphics({show:!0,positions:i.positions,material:i.material||ie.Color.YELLOW,width:i.width||1,clampToGround:i.clampToGround||!1})},getPolygonGraphics:function(i){if(i=i||{},i&&i.positions)return new ie.PolygonGraphics({hierarchy:{positions:i.positions},material:i.material||ie.Color.RED.withAlpha(.2),clampToGround:i.clampToGround||!1})},getLabelGraphics:function(i){if(i=i||{},i&&i.l_text)return new ie.LabelGraphics({text:i.l_text,font:i.l_font||"14px sans-serif",fillColor:i.l_fillColor||ie.Color.GOLD,style:i.l_style||ie.LabelStyle.FILL_AND_OUTLINE,outlineWidth:i.l_outlineWidth||2,showBackground:i.l_showBackground||!1,backgroundColor:i.l_backgroundColor||new ie.Color(.165,.165,.165,.8),verticalOrigin:i.l_verticalOrigin||ie.VerticalOrigin.BOTTOM,pixelOffset:i.l_pixelOffset||new ie.Cartesian2(0,-30)})},getBillboardGraphics:function(i){if(i=i||{},i&&i.b_img)return new ie.BillboardGraphics({image:i.b_img,width:i.b_width||35,height:i.b_height||35,clampToGround:i.b_clampToGround||!0,scale:i.b_scale||1,pixelOffset:i.b_pixelOffset||new ie.Cartesian2(0,-20),scaleByDistance:i.b_scaleByDistance||void 0})},getPathGraphics:function(i){if(i=i||{},i)return new ie.PathGraphics({resolution:i.resolution||1,material:new ie.PolylineGlowMaterialProperty({glowPower:i.glowPower||.1,color:i.color||ie.Color.YELLOW}),width:i.width||30})},getModelGraphics:function(i){if(i=i||{},i)return new ie.ModelGraphics({uri:i.m_url,scale:i.m_scale||28,minimumPixelSize:i.m_minimumPixelSize||30,color:i.m_color||ie.Color.WHITE})},getEllipseGraphics:function(i){if(i=i||{},i)return new ie.EllipseGraphics({semiMajorAxis:i.e_semiMinorAxis||1e6,semiMinorAxis:i.e_semiMinorAxis||1e6,metarial:i.e_metarial||ie.Color.RED.withAlpha(.5),outline:i.e_outline||!0})},getEllipsoidGraphics:function(i){if(i=i||{},i){var n=i.radii||1e6;return new ie.EllipsoidGraphics({radii:new ie.Cartesian3(n,n,n),maximumCone:i.maximumCone||ie.Math.PI_OVER_TWO,stackPartitions:i.stackPartitions||56,slicePartitions:i.slicePartitions||56,outlineWidth:i.outlineWidth||2,outlineColor:i.outlineColor||ie.Color.YELLOW,outline:i.outline||!0,fill:i.fill||!0,material:i.material||ie.Color.RED.withAlpha(.1)})}},getBoxGraphics:function(i){if(i=i||{show:!0,outline:!1,fill:!0},i)return new ie.BoxGraphics({show:i.show,fill:i.fill,dimensions:i.dimensions||new ie.Cartesian3(0,0,0),material:i.material,outline:i.outline,outlineColor:i.outlineColor||ie.Color.BLACK,distanceDisplayCondition:i.distanceDisplayCondition||void 0})},getPlaneGraphics:function(i){if(i=i||{},i)return new ie.PlaneGraphics({plane:i.plane||new ie.Plane(ie.Cartesian3.UNIT_Y,0),dimensions:i.dimensions||new ie.Cartesian2(170,130),material:i.material||ie.Color.BLUE})},getCylinderGraphics:function(i){if(i=i||{},i)return new ie.CylinderGraphics({HeightReference:ie.HeightReference.RELATIVE_TO_GROUND,length:i.length||500/2,topRadius:i.topRadius||0,bottomRadius:i.bottomRadius||0,material:i.material||new ie.Color(0,1,1,.4),slices:i.slices||128})},createPointsGraphics:function(i){if(i&&i.positions){let n=[];for(let r in i.positions){let o=i.positions[r],s=this.createGraphics();s.name=i.name||"",s.oid=i.oid||"point",s.position=o,i.point&&(s.point=this.getPointGraphics()),i.billboard&&(s.billboard=this.getBillboardGraphics(i.billboard)),i.label&&(s.label=this.getLabelGraphics(i.label)),n.push(this._graphicsLayer.entities.add(s))}return n}},createLineGraphics:function(i){if(i&&i.positions){var n=this.createGraphics();return n.name=i.name||"",n.oid=i.oid||"line",n.position=i.positions,n.polyline=this.getLineGraphics(i),this._graphicsLayer.entities.add(n)}},createPolygonGraphics:function(i){if(i=i||{},i){var n=this.createGraphics();return n.polygon=this.getPolygonGraphics(i),n.clampToS3M=i.clampToS3M||!1,this._graphicsLayer.entities.add(n)}},createBoxGraphics:function(i){if(i=i||{},i){var n=this.createGraphics();return n.position=i.position,n.name=i.name||"box_graphic",n.box=this.getBoxGraphics(i.box),this._graphicsLayer.entities.add(n)}},createModelGraphics:function(i){if(i&&i.position){var n=this.createGraphics();return n.model=this.getModelGraphics(i),n.position=i.position,this._graphicsLayer.entities.add(n)}},craeteCorridorGraphics:function(i){if(i&&i.positions){var n=this.createGraphics();return n.corridor={positions:i.positions,height:i.height||6,width:i.width||15,material:i.material||new ie.Scene.WarnLinkMaterialProperty({freely:"cross",color:ie.Color.YELLOW,duration:1e3,count:1,direction:"+"})},this._graphicsLayer.entities.add(n)}},craeteDynamicPolyLineGraphics:function(i){if(i&&i.positions){var n=this.createGraphics();return n.polyline={show:!0,positions:[],material:i.material||ie.Color.CHARTREUSE,width:i.width||5,clampToGround:i.clampToGround||!1},n.polyline.positions=new ie.CallbackProperty(function(){return i.positions},!1),this._graphicsLayer.entities.add(n)}},craeteDynamicCylinderGraphics:function(i){var n={};if(i&&i.cylinder){var r=i.entity,o=i.cylinder,s=this;return n.cylinder=this.getCylinderGraphics(o),n.position=new ie.CallbackProperty(function(){var l=r.position.getValue(s._viewer.clock.currentTime),c=s._viewer.scene.globe.ellipsoid.cartesianToCartographic(l),u=ie.Math.toDegrees(c.latitude),d=ie.Math.toDegrees(c.longitude);return ie.Cartesian3.fromDegrees(d,u,0)},!1),n.cylinder.length=new ie.CallbackProperty(function(){var l=r.position.getValue(s._viewer.clock.currentTime),c=s._viewer.scene.globe.ellipsoid.cartesianToCartographic(l);return c.height*2},!1),n}},createFadeCylinderGraphics:function(i){if(i=i||{},i&&i.position){let n=this.createGraphics();return n.position=i.position,i.material=new ie.Scene.CircleFadeMaterialProperty({color:i.color||ie.Color.fromCssColorString("#02ff00"),duration:i.duration||2e3}),n.cylinder=this.getCylinderGraphics(i),this._drawLayer.entities.add(n)}},craeteRotateCylinderGraphics:function(i){if(i&&i.position){var n=this.createGraphics();return n.cylinder={HeightReference:ie.HeightReference.RELATIVE_TO_GROUND,length:i.length||500,topRadius:i.topRadius||500,bottomRadius:i.bottomRadius||500,material:i.material||new ie.ImageMaterialProperty({image:i.imge||"static/data/images/file/cc2.png",transparent:!0,repeat:{x:1,y:-1}}),slices:i.slices||128},n.position=i.position,this.setGraphicsRotate({entity:n,position:this.transformCartesianToWGS84(i.position),rotateAmount:4}),this._graphicsLayer.entities.add(n)}},craeteDynamicBlinkCircleGraphics:function(i){if(i&&i.position){var n=this.createGraphics(),r=i.alp||1,o=i.flog||!0;return n.position=i.position,n.ellipse={semiMinorAxis:i.semiMinorAxis||2e3,semiMajorAxis:i.semiMajorAxis||2e3,height:i.height||10,material:new ie.ColorMaterialProperty(new ie.CallbackProperty(function(){return o?(r=r-.05,r<=0&&(o=!1)):(r=r+.05,r>=1&&(o=!0)),ie.Color.RED.withAlpha(r)},!1))},this._graphicsLayer.entities.add(n)}},craeteDynamicCricleGraphics:function(i){if(i&&i.center){var n=this.createGraphics(),r=this,o=i.center,s=i.radius||800,l=i.rotateAmount||.05,c=0,u=i.height||1,d=0,g=0,x=0,m=i.scale||null,v=i.scale2||null,w=i.material||new ie.ImageMaterialProperty({image:i.imge||"static/data/images/Textures/circle_bg.png",transparent:!0});n.position=new ie.CallbackProperty(function(){return r.transformWGS84ToCartesian(o)},!1),n.orientation=new ie.CallbackProperty(function(){return ie.Transforms.headingPitchRollQuaternion(r.transformWGS84ToCartesian(o),new ie.HeadingPitchRoll(ie.Math.toRadians(d),ie.Math.toRadians(g),ie.Math.toRadians(x)))},!1);let S=s,G=!1;var p=()=>{(s>=m||s<=S)&&(G=!G),G?s+=2:s-=2},C=()=>{v>=s?s+=2:s=S};return n.ellipse={material:w,height:u,semiMajorAxis:new ie.CallbackProperty(function(){return s},!1),semiMinorAxis:new ie.CallbackProperty(function(){return s},!1),stRotation:new ie.CallbackProperty(function(){return l>0&&(c+=l,c>=360&&(c=0)),m&&p(),v&&C(),c},!1)},this._graphicsLayer.entities.add(n)}},craeteDynamicShadeWallGraphics:function(i){if(i&&i.positions){var n=i.alp||1,r=i.num||20,o=i.color||ie.Color.RED,s=i.speed||.003,l=this.createGraphics();return l.wall={positions:i.positions,material:new ie.ImageMaterialProperty({image:"static/data/images/Textures/fence.png",transparent:!0,color:new ie.CallbackProperty(function(){return r%2==0?n-=s:n+=s,(n<=.1||n>=1)&&r++,o.withAlpha(n)},!1)})},this._graphicsLayer.entities.add(l)}},createCustomDefBillboardGraphics:function(i){if(i&&i.position){var n=this,r=document.createElement("img");r.src=i.img||"static/data/images/file/div1.png";const o=function(s){if(!!s.image){var l=document.createElement("canvas");l.width=s.width||150,l.height=s.height||80;var c=l.getContext("2d");c.drawImage(s.image,0,0);var u=s.text;return c.font="15px bold \u5B8B\u4F53",c.fillStyle="#f4fff0",c.fillText(u,55,36),l}};r.onload=function(){i.image=r;var s=n._graphicsLayer.entities.add({position:i.position,billboard:{image:o(i),scaleByDistance:new ie.NearFarScalar(150,.7,15e6,.5),verticalOrigin:ie.VerticalOrigin.BOTTOM,pixelOffset:i.b_pixelOffset||new ie.Cartesian2(80,-35),width:140,height:100,scale:i.b_scale||1.5,disableDepthTestDistance:Number.POSITIVE_INFINITY,imageSubRegion:{x:0,y:0,width:200,height:150}}});typeof i.callback=="function"&&i.callback(s)}}},craeteRotatePlaneGraphics:function(i){if(i&&i.center&&i.positions){var n=this.createGraphics(),r=0,o=i.positions,s=o[0];return n.position=new ie.CallbackProperty(function(){return r==0?(s=o[0],r+=1):r<o.length-1?(s=o[r],r+=1):r==o.length-1&&(s=o[r],r=0),s},!1),n.plane={plane:new ie.Plane(ie.Cartesian3.UNIT_Y,0),dimensions:i.dimensions||new ie.Cartesian2(200,150),material:new ie.ImageMaterialProperty({image:i.image})},this._graphicsLayer.entities.add(n)}},createVideoPlaneGraphics:function(i){if(i&&i.position){var n=this.createGraphics();return n.position=i.position,n.plane={plane:new ie.Plane(i.normal||ie.Cartesian3.UNIT_Y,0),dimensions:i.dimensions||new ie.Cartesian2(200,150),material:new ie.ImageMaterialProperty({image:i.videoElement})},this._graphicsLayer.entities.add(n)}},createGifBillboardGraphics:function(i){if(Oi&&i&&i.position){var n=[],r=i.url,o=0,s=6;return function(c,u){var d=document.createElement("img");d.src=c,d.setAttribute("rel:animated_src",c),d.setAttribute("rel:auto_play","0"),document.body.appendChild(d);var g=new Oi({gif:d});return new Promise(x=>{g.load(()=>{for(let m=1;m<=g.get_length();m++)g.move_to(m),u.push(g.get_canvas().toDataURL());x(u)})})}(r,n),this._graphicsLayer.entities.add({position:i.position,billboard:{verticalOrigin:ie.VerticalOrigin.BASELINE,image:new ie.CallbackProperty(function(){return n.length?(o<s*(n.length-1)?o++:o=0,n[Math.floor(o/s)]):r},!1),scale:.2}})}},setGraphicsRotate:function(i){if(i&&i.entity&&i.rotateAmount){var n=i.entity,r=i.rotateAmount,o=i.position,s=this;o.heading=0,o.pitch=0,o.roll=0,n.position=new ie.CallbackProperty(function(){return s.transformWGS84ToCartesian(o)},!1),n.orientation=new ie.CallbackProperty(function(){return r>0&&(o.heading+=r,o.heading===360&&(o.heading=0)),ie.Transforms.headingPitchRollQuaternion(s.transformWGS84ToCartesian(o),new ie.HeadingPitchRoll(ie.Math.toRadians(o.heading),ie.Math.toRadians(o.pitch),ie.Math.toRadians(o.roll)))},!1)}},setGraphicsFloat:function(i){if(i&&i.entity&&i.maxHeiht)try{var n=i.entity,r=i.minHeiht||5,o=i.maxHeiht||100,s=i.cartesians,l=i.speed||.06,c=this,u=r,d=!1;s.length?n.positions=new ie.CallbackProperty(function(){var g=c.transformCartesianArrayToWGS84Array(s);for(var x in g){var m=g[x];(r>=o||r<=u)&&(d=!d),d?r+=l:r-=l,m.alt=r}return c.transformWGS84ArrayToCartesianArray(g)},!1):n.position=new ie.CallbackProperty(function(){var g=c.transformCartesianToWGS84(s);return(r>=o||r<=u)&&(d=!d),d?r+=l:r-=l,g.alt=r,c.transformWGS84ToCartesian(g)},!1)}catch(g){console.log(g)}},createCanvasGraphics:function(i){if(i&&i.positions){const n=function(){var r=0,o=document.createElement("canvas"),s=o.getContext("2d"),l=new Image;if(l.src=i.img||"../../images/ysCesium/logo.png",s.clearRect(0,0,i.cwidth,i.cheight),r<=i.cwidth)s.drawImage(l,r,0);else return r=0,r+=3,o};this._graphicsLayer.entities.add({rectangle:{coordinates:i.positions,material:new ie.ImageMaterialProperty({image:new ie.CallbackProperty(n,!1),transparent:!0})}}),typeof i.callback=="function"&&i.callback()}}};let pe=null;function pa(i,n){i&&(pe=n,this._installMaterial())}pa.prototype={addMaterialLineGraphics:function(i){if(this._viewer&&i&&i.image){this._initPolylineCustomMaterialProperty(i);var n=this.createGraphics();return n.polyline={positions:i.positions,material:new pe.PolylineCustomMaterialProperty({color:i.color||pe.Color.RED,duration:i.duration||500}),width:i.width},this._viewer.entities.add(n)}},getCustomMaterialLine:function(i){if(this._viewer&&i&&i.image)return this._initPolylineCustomMaterialProperty(i)},_initPolylineCustomMaterialProperty(i){if(i){var n=pe.Color,r=pe.defaultValue,o=pe.defined,s=Object.defineProperties,l=pe.Event,c=pe.createPropertyDescriptor,u=pe.Property,d=pe.Material,g=n.WHITE,x=i.MaterialType||"wallType"+parseInt(Math.random()*1e3);const m=function(v){v=r(v,r.EMPTY_OBJECT),this._definitionChanged=new l,this._color=void 0,this._colorSubscription=void 0,this.color=v.color||pe.Color.BLUE,this.duration=v.duration||1e3,this._time=void 0};return s(m.prototype,{isvarant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}},color:c("color")}),m.prototype.getType=function(){return x},m.prototype.getValue=function(v,w){return o(w)||(w={}),w.color=u.getValueOrClonedDefault(this._color,v,g,w.color),w.image=i.image,this._time===void 0&&(this._time=v.secondsOfDay),w.time=(v.secondsOfDay-this._time)*1e3/this.duration,w},m.prototype.equals=function(v){return this===v||v instanceof m&&u.equals(this._color,v._color)},d._materialCache.addMaterial(x,{fabric:{type:x,uniforms:{color:i.color||new pe.Color(1,0,0,.5),image:i.image,time:i.color.time||0},source:this._getDynamicLineShader({get:!0})},translucent:function(){return!0}}),new m(i)}},addMaterialWallGraphics:function(i){if(this._viewer&&i&&i.image){this._initWallCustomMaterialProperty(i);var n=this.createGraphics();return n.wall={positions:i.positions,material:new pe.Scene.WallLinkCustomMaterialProperty({color:i.color||pe.Color.RED,duration:i.duration||500}),width:i.width},this._viewer.entities.add(n)}},getCustomMaterialWall:function(i){if(this._viewer&&i&&i.image)return this._initWallCustomMaterialProperty(i)},_initWallCustomMaterialProperty(i){var n=pe.Color,r=pe.defaultValue,o=pe.defined,s=Object.defineProperties,l=pe.Event,c=pe.createPropertyDescriptor,u=pe.Property,d=pe.Material,g=i.MaterialType||"wallType"+parseInt(Math.random()*1e3);const x=function(m){m=r(m,r.EMPTY_OBJECT),this._definitionChanged=new l,this._color=void 0,this._colorSubscription=void 0,this.color=m.color||n.BLUE,this.duration=m.duration||3e3,this._time=new Date().getTime()};return s(x.prototype,{isvarant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}},color:c("color")}),x.prototype.getType=function(){return g},x.prototype.getValue=function(m,v){return o(v)||(v={}),v.color=u.getValueOrClonedDefault(this._color,m,n.WHITE,v.color),v.image=i.image,v.time=(new Date().getTime()-this._time)%this.duration/this.duration,v},x.prototype.equals=function(m){return this===m||m instanceof x&&u.equals(this._color,m._color)},d._materialCache.addMaterial(g,{fabric:{type:g,uniforms:{color:new n(1,0,0,.5),image:i.image,time:0},source:this._getDirectionWallShader({get:!0,count:i.count,freely:i.freely,direction:i.direction})},translucent:function(){return!0}}),pe.Scene.WallLinkCustomMaterialProperty=x,new x(i)},_installMaterial:function(){this._installWaveCircleMaterial(),this._installCircleFadeMaterial(),this._installCityLineMaterial(),this._installWarnMaterial(),this._installFlowMaterial()},_installWaveCircleMaterial:function(){var i=this,n=pe.Color,r=pe.defaultValue,o=Object.defineProperties,s=pe.Event,l=pe.Property,c=pe.Material;function u(d){d=d||{},this._definitionChanged=new s,this._color=void 0,this._colorSubscription=void 0,this._duration=void 0,this._durationSubscription=void 0,this.color=r(d.color,n.fromBytes(0,255,255,255)),this.duration=r(d.duration,45),this.count=Math.max(r(d.count,2),1),this.gradient=r(d.gradient,.1),this.gradient<0?this.gradient=0:this.gradient>1&&(this.gradient=1)}o(u.prototype,{isConstant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}}}),u.prototype.getType=function(){return c.CircleWaveType},u.prototype.getValue=function(d,g){return g||(g={}),g.color=l.getValueOrUndefined(this._color,d),g.duration=this._duration,g.count=this.count,g.gradient=this.gradient,g},u.prototype.equals=function(d){return this===d||d instanceof u&&pe.Property.equals(this._color,d._color)},o(u.prototype,{color:pe.createPropertyDescriptor("color"),duration:pe.createPropertyDescriptor("duration")}),pe.Scene.CircleWaveMaterialProperty=u,c.CircleWaveType="CircleWave",c._materialCache.addMaterial(c.CircleWaveType,{fabric:{type:c.CircleWaveType,uniforms:{color:new n(1,0,0,.7),duration:45,count:1,gradient:.1},source:i._getDynamicCircleShader({get:!0})},translucent:function(){return!0}})},_installCircleFadeMaterial:function(){var i=pe.Color,n=pe.defaultValue,r=Object.defineProperties,o=pe.Event,s=pe.Property,l=pe.Material,c=new i(0,0,0,0);function u(d){d=n(d,n.EMPTY_OBJECT),this._definitionChanged=new o,this._color=void 0,this._colorSubscription=void 0,this.color=n(d.color,c),this._duration=d.duration||1e3,this._time=void 0}r(u.prototype,{isConstant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}}}),u.prototype.getType=function(){return l.CircleFadeMaterialType},u.prototype.getValue=function(d,g){return g||(g={}),g.color=s.getValueOrClonedDefault(this._color,d,c,g.color),this._time===void 0&&(this._time=new Date().getTime()),g.time=(new Date().getTime()-this._time)/this._duration,g},u.prototype.equals=function(d){return this===d||d instanceof u&&pe.Property.equals(this._color,d._color)},r(u.prototype,{color:pe.createPropertyDescriptor("color")}),pe.Scene.CircleFadeMaterialProperty=u,l.CircleFadeMaterialType="CircleFadeMaterial",l._materialCache.addMaterial(l.CircleFadeMaterialType,{fabric:{type:l.CircleFadeMaterialType,uniforms:{color:new i(1,0,0,1),time:1},source:this._getCircleFadeShader({get:!0})},translucent:function(){return!0}})},_installCityLineMaterial:function(){var i=pe.Color,n=pe.defaultValue,r=pe.defined,o=Object.defineProperties,s=pe.Event,l=pe.createPropertyDescriptor,c=pe.Property,u=pe.Material,d=i.WHITE;function g(x){x=n(x,n.EMPTY_OBJECT),this._definitionChanged=new s,this._color=void 0,this._colorSubscription=void 0,this.color=x.color||pe.Color.BLUE,this.duration=x.duration||1e3,this._time=void 0,this._img=x.imgUrl||u.PolylineCityLinkImage}o(g.prototype,{isvarant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}},color:l("color")}),g.prototype.getType=function(){return u.PolylineCityLinkType},g.prototype.getValue=function(x,m){return r(m)||(m={}),m.color=c.getValueOrClonedDefault(this._color,x,d,m.color),m.image=this._img,this._time===void 0&&(this._time=x.secondsOfDay),m.time=(x.secondsOfDay-this._time)*1e3/this.duration,m},g.prototype.equals=function(x){return this===x||x instanceof g&&c.equals(this._color,x._color)},pe.Scene.PolylineCityLinkMaterialProperty=g,u.PolylineCityLinkType="PolylineCityLink",u.PolylineCityLinkImage="static/data/images/Textures/meteor_01.png",u._materialCache.addMaterial(u.PolylineCityLinkType,{fabric:{type:u.PolylineCityLinkType,uniforms:{color:new i(1,0,0,1),image:u.PolylineCityLinkImage,time:0},source:this._getDynamicLightLineShader({get:!0})},translucent:function(){return!0}})},_installWarnMaterial:function(){var i=pe.Color,n=pe.defaultValue,r=pe.defined,o=Object.defineProperties,s=pe.Event,l=pe.createPropertyDescriptor,c=pe.Property,u=pe.Material;function d(g){g=n(g,n.EMPTY_OBJECT),this._definitionChanged=new s,this._color=void 0,this._colorSubscription=void 0,this.color=g.color||i.BLUE,this.duration=g.duration||3e3,this._time=new Date().getTime()}o(d.prototype,{isvarant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}}}),d.prototype.getType=function(){return u.WarnLinkType},d.prototype.getValue=function(g,x){return r(x)||(x={}),x.color=c.getValueOrClonedDefault(this._color,g,i.WHITE,x.color),x.image=u.WarnLinkImage,x.time=(new Date().getTime()-this._time)%this.duration/this.duration,x},d.prototype.equals=function(g){return this===g||g instanceof d&&c.equals(this._color,g._color)},o(d.prototype,{color:l("color")}),pe.Scene.WarnLinkMaterialProperty=d,u.WarnLinkType="WarnWallLinkType",u.WarnLinkImage="static/data/images/Textures/jsx2.png",u._materialCache.addMaterial(u.WarnLinkType,{fabric:{type:u.WarnLinkType,uniforms:{color:new i(1,0,0,.5),image:u.WarnLinkImage,time:0},source:this._getDirectionWallShader({get:!0,count:10,freely:"cross",direction:"-"})},translucent:function(){return!0}})},_installFlowMaterial:function(){var i=pe.Color,n=pe.defaultValue,r=Object.defineProperties,o=pe.Event,s=pe.createPropertyDescriptor,l=pe.Property,c=pe.Material;function u(d){d=n(d,n.EMPTY_OBJECT),this._definitionChanged=new o,this._color=void 0,this._colorSubscription=void 0,this.color=d.color||i.fromBytes(0,255,255,255),this._duration=void 0,this._durationSubscription=void 0,this.duration=n(d.duration,45)}r(u.prototype,{isConstant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}}}),u.prototype.getType=function(){return c.PolylineFlowType},u.prototype.getValue=function(d,g){return g||(g={}),g.color=l.getValueOrClonedDefault(this._color,d,pe.Color.WHITE,g.color),g.duration=this._duration,g},u.prototype.equals=function(d){return this===d||d instanceof u&&l.equals(this._color,d._color)},r(u.prototype,{color:s("color"),duration:s("duration")}),pe.Scene.PolylineFlowMaterialProperty=u,c.PolylineFlowType="PolylineFlow",c._materialCache.addMaterial(c.PolylineFlowType,{fabric:{type:c.PolylineFlowType,uniforms:{color:new i(1,1,2,.7),duration:45},source:this._getFlowLineShader({get:!0})},translucent:function(){return!0}})}};function Pi(){}Pi.prototype={_getFlowLineShader:function(){return`uniform vec4 color;
              uniform float duration;
              
              czm_material czm_getMaterial(czm_materialInput materialInput){
                  czm_material material = czm_getDefaultMaterial(materialInput);
                  vec2 st = materialInput.st;
                  float t =fract(czm_frameNumber / duration);
                  t *= 1.03;
                  float alpha = smoothstep(t- 0.03, t, st.s) * step(-t, -st.s);
                  alpha += 0.1;
                  vec4 fragColor;
                  fragColor.rgb = (color.rgb) / 0.5;
                  fragColor = czm_gammaCorrect(fragColor);
                  material.diffuse = fragColor.rgb;
                  material.alpha = alpha;
                  material.emission = fragColor.rgb;
                  return material;
              }
              `},_getDynamicLineShader:function(i){if(i&&i.get)return`czm_material czm_getMaterial(czm_materialInput materialInput)
              {
                  czm_material material = czm_getDefaultMaterial(materialInput);
                  vec2 st = materialInput.st;
                  
                  if(texture2D(image, vec2(0.0, 0.0)).a == 1.0){
                      discard;
                  }else{
                      material.alpha = texture2D(image, vec2(1.0 - fract(time - st.s), st.t)).a * color.a;
                  }
                  
                  material.diffuse = max(color.rgb * material.alpha * 3.0, color.rgb);
                  
                  return material;
              }
              `},_getDynamicLightLineShader:function(i){if(i&&i.get)return`czm_material czm_getMaterial(czm_materialInput materialInput)
              {
                  czm_material material = czm_getDefaultMaterial(materialInput);
                  vec2 st = materialInput.st;
                  
                  vec4 colorImage = texture2D(image, vec2(fract(1.0 *st.s - time), fract(st.t)));
                  
                  vec4 fragColor;
                  fragColor.rgb = (colorImage.rgb+color.rgb) / 1.0;
                  fragColor = czm_gammaCorrect(fragColor);
                  material.diffuse = colorImage.rgb;
                  material.alpha = colorImage.a;
                  material.emission = fragColor.rgb;
                  
                  return material;
              }
              `},_getDirectionWallShader:function(i){if(i&&i.get){var n=`czm_material czm_getMaterial(czm_materialInput materialInput)
                  {
                  czm_material material = czm_getDefaultMaterial(materialInput);
                  vec2 st = materialInput.st;
                  
 `;return i.freely=="vertical"?n+="vec4 colorImage = texture2D(image, vec2(fract(float("+i.count+")*st.t "+i.direction+` time), fract(st.s)));
 `:n+="vec4 colorImage = texture2D(image, vec2(fract(float("+i.count+")*st.s "+i.direction+` time), fract(st.t)));
 `,n+=`vec4 fragColor;
                  fragColor.rgb = (colorImage.rgb+color.rgb) / 1.0;
                  fragColor = czm_gammaCorrect(fragColor);
 `,n+=` material.diffuse = colorImage.rgb;
                  material.alpha = colorImage.a;
                  material.emission = fragColor.rgb;
                  
                  return material;
                  }
                  `,n}},_getCircleFadeShader:function(i){if(i&&i.get)return`czm_material czm_getMaterial(czm_materialInput materialInput)
                
                  {
                    
                      czm_material material = czm_getDefaultMaterial(materialInput);
                    
                      material.diffuse = 1.5 * color.rgb;
                    
                      vec2 st = materialInput.st;
                    
                      float dis = distance(st, vec2(0.5, 0.5));
                    
                      float per = fract(time);
                    
                      if(dis > per * 0.5){
                        
                          //material.alpha = 0.0;
                        
                          discard;
                    
                      }else {
                            
                          material.alpha = color.a  * dis / per / 2.0;
                    
                      }
                    
                      return material;
                
                  }`},_getDynamicCircleShader:function(i){if(i&&i.get)return`uniform vec4 color;
              uniform float duration;
              uniform float count;
              uniform float gradient;
              
              czm_material czm_getMaterial(czm_materialInput materialInput)
              {
                  czm_material material = czm_getDefaultMaterial(materialInput);
                  material.diffuse = 1.5 * color.rgb;
                  vec2 st = materialInput.st;
                  vec3 str = materialInput.str;
                  float dis = distance(st, vec2(0.5, 0.5));
                  float per = fract(czm_frameNumber / duration);
                  if(abs(str.z) > 0.001){
                      discard;
                  }
                  if(dis > 0.5){
                      discard;
                  } else {
                      float perDis = 0.5 / count;
                      float disNum;
                      float bl = .0;
                      for (int i = 0; i <= 10; i++) {
                          if (float(i) <= count) {
                              disNum = perDis * float(i) - dis + per / count;
                              if (disNum > 0.0) {
                                  if (disNum < perDis) {
                                      bl = 1.0 - disNum / perDis;
                                  } else if (disNum - perDis < perDis) {
                                      bl = 1.0 - abs(1.0 - disNum / perDis);
                                  }
                                  material.alpha = pow(bl, gradient);
                              }
                          }
                      }
                  }
                  return material;
              }
              `},_getRadarScanShader:function(i){if(i&&i.get)return`uniform sampler2D colorTexture;
              uniform sampler2D depthTexture;
              varying vec2 v_textureCoordinates;
              uniform vec4 u_scanCenterEC;
              uniform vec3 u_scanPlaneNormalEC;
              uniform vec3 u_scanLineNormalEC;
              uniform float u_radius;
              uniform vec4 u_scanColor;
              
              vec4 toEye(in vec2 uv, in float depth){
              vec2 xy = vec2((uv.x * 2.0 - 1.0),(uv.y * 2.0 - 1.0));
              vec4 posInCamera =czm_inverseProjection * vec4(xy, depth, 1.0);
              posInCamera =posInCamera / posInCamera.w;
              return posInCamera;
              }
              
              bool isPointOnLineRight(in vec3 ptOnLine, in vec3 lineNormal, in vec3 testPt){
              vec3 v01 = testPt - ptOnLine;
              normalize(v01);
              vec3 temp = cross(v01, lineNormal);
              float d = dot(temp, u_scanPlaneNormalEC);
              return d > 0.5;
              }
              
              vec3 pointProjectOnPlane(in vec3 planeNormal, in vec3 planeOrigin, in vec3 point){
              vec3 v01 = point -planeOrigin;
              float d = dot(planeNormal, v01) ;
              return (point - planeNormal * d);
              }
              
              float distancePointToLine(in vec3 ptOnLine, in vec3 lineNormal, in vec3 testPt){
              vec3 tempPt = pointProjectOnPlane(lineNormal, ptOnLine, testPt);
              return length(tempPt - ptOnLine);
              }
              
              float getDepth(in vec4 depth){
              float z_window = czm_unpackDepth(depth);
              z_window = czm_reverseLogDepth(z_window);
              float n_range = czm_depthRange.near;
              float f_range = czm_depthRange.far;
              return (2.0 * z_window - n_range - f_range) / (f_range - n_range);
              }
              
              void main(){
              gl_FragColor = texture2D(colorTexture, v_textureCoordinates);
              float depth = getDepth( texture2D(depthTexture, v_textureCoordinates));
              vec4 viewPos = toEye(v_textureCoordinates, depth);
              vec3 prjOnPlane = pointProjectOnPlane(u_scanPlaneNormalEC.xyz, u_scanCenterEC.xyz, viewPos.xyz);
              float dis = length(prjOnPlane.xyz - u_scanCenterEC.xyz);
              float twou_radius = u_radius * 2.0;
              if(dis < u_radius){
                  float f0 = 1.0 -abs(u_radius - dis) / u_radius;
                  f0 = pow(f0, 64.0);
                  vec3 lineEndPt = vec3(u_scanCenterEC.xyz) + u_scanLineNormalEC * u_radius;
                  float f = 0.0;
                  if(isPointOnLineRight(u_scanCenterEC.xyz, u_scanLineNormalEC.xyz, prjOnPlane.xyz)){
                      float dis1= length(prjOnPlane.xyz - lineEndPt);
                      f = abs(twou_radius -dis1) / twou_radius;
                      f = pow(f, float(`+i.width+`));
                  }
                  if(float(`+i.border+`) > 0.0){
                      gl_FragColor = mix(gl_FragColor, u_scanColor, f + f0);
                  } else {
                      gl_FragColor = mix(gl_FragColor, u_scanColor, f);
                  }
                  }
              }
              `},_getCircleScanShader:function(i){if(i&&i.get)return`uniform sampler2D colorTexture;
              uniform sampler2D depthTexture;
              varying vec2 v_textureCoordinates;
              uniform vec4 u_scanCenterEC;
              uniform vec3 u_scanPlaneNormalEC;
              uniform float u_radius;
              uniform vec4 u_scanColor;
              
              vec4 toEye(in vec2 uv, in float depth){
                vec2 xy = vec2((uv.x * 2.0 - 1.0),(uv.y * 2.0 - 1.0));
                vec4 posInCamera = czm_inverseProjection * vec4(xy, depth, 1.0);
                posInCamera =posInCamera / posInCamera.w;
                return posInCamera;
              }
              
              vec3 pointProjectOnPlane(in vec3 planeNormal, in vec3 planeOrigin, in vec3 point){
                  vec3 v01 = point - planeOrigin;
                  float d = dot(planeNormal, v01) ;
                  return (point - planeNormal * d);
              }
              
              float getDepth(in vec4 depth){
                  float z_window = czm_unpackDepth(depth);
                  z_window = czm_reverseLogDepth(z_window);
                  float n_range = czm_depthRange.near;
                  float f_range = czm_depthRange.far;
                  return (2.0 * z_window - n_range - f_range) / (f_range - n_range);
              }
              
              void main(){
                  gl_FragColor = texture2D(colorTexture, v_textureCoordinates);
                  float depth = getDepth(texture2D(depthTexture, v_textureCoordinates));
                  vec4 viewPos = toEye(v_textureCoordinates, depth);
                  vec3 prjOnPlane = pointProjectOnPlane(u_scanPlaneNormalEC.xyz, u_scanCenterEC.xyz, viewPos.xyz);
                  float dis = length(prjOnPlane.xyz - u_scanCenterEC.xyz);
                  if(dis < u_radius){
                    float f = 1.0 - abs(u_radius - dis) / u_radius;
                    f = pow(f, float(`+i.border+`));
                    gl_FragColor = mix(gl_FragColor, u_scanColor, f);
                  }
                }
                `}};let O={};function rt(i,n){i&&(this._viewer=i,O=n,O.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJmYzkwZWEwYy1mMmIwLTQwYjctOWJlOC00OWU4ZWU1YTZhOTkiLCJpZCI6MTIxODIsInNjb3BlcyI6WyJhc3IiLCJnYyJdLCJpYXQiOjE1NjA0OTUyNDN9.wagvw7GxUjxvHXO6m2jjX5Jh9lN0UyTJhNGEcSm2pgE",this._drawLayer=new O.CustomDataSource("drawLayer"),i&&i.dataSources.add(this._drawLayer),this.myname="BASE",this._installBaiduImageryProvider(),this._installGooGleImageryProvider(),this._installAmapImageryProvider(),this._installTencentImageryProvider(),this._installTdtImageryProvider(),this._installGroundSkyBox())}rt.prototype={createGraphics:function(){return new O.Entity},setOneSkyBox:function(){return new O.SkyBox({sources:{positiveX:"static/data/images/SkyBox/00h+00.jpg",negativeX:"static/data/images/SkyBox/12h+00.jpg",positiveY:"static/data/images/SkyBox/06h+00.jpg",negativeY:"static/data/images/SkyBox/18h+00.jpg",positiveZ:"static/data/images/SkyBox/06h+90.jpg",negativeZ:"static/data/images/SkyBox/06h-90.jpg"}})},setTwoSkyBox:function(){return new O.SkyBox({sources:{positiveX:"static/data/images/SkyBox/Version2_dark_px.jpg",negativeX:"static/data/images/SkyBox/Version2_dark_mx.jpg",positiveY:"static/data/images/SkyBox/Version2_dark_py.jpg",negativeY:"static/data/images/SkyBox/Version2_dark_my.jpg",positiveZ:"static/data/images/SkyBox/Version2_dark_pz.jpg",negativeZ:"static/data/images/SkyBox/Version2_dark_mz.jpg"}})},setThreeSkyBox:function(){return new O.SkyBox({sources:{positiveX:"static/data/images/SkyBox/tycho2t3_80_pxs.jpg",negativeX:"static/data/images/SkyBox/tycho2t3_80_mxs.jpg",positiveY:"static/data/images/SkyBox/tycho2t3_80_pys.jpg",negativeY:"static/data/images/SkyBox/tycho2t3_80_mys.jpg",positiveZ:"static/data/images/SkyBox/tycho2t3_80_pzs.jpg",negativeZ:"static/data/images/SkyBox/tycho2t3_80_mzs.jpg"}})},setOneGroundSkyBox:function(){return new O.Scene.GroundSkyBox({sources:{positiveX:"static/data/images/SkyBox/rightav9.jpg",negativeX:"static/data/images/SkyBox/leftav9.jpg",positiveY:"static/data/images/SkyBox/frontav9.jpg",negativeY:"static/data/images/SkyBox/backav9.jpg",positiveZ:"static/data/images/SkyBox/topav9.jpg",negativeZ:"static/data/images/SkyBox/bottomav9.jpg"}})},setTwoGroundSkyBox:function(){return new O.Scene.GroundSkyBox({sources:{positiveX:"static/data/images/SkyBox/SunSetRight.png",negativeX:"static/data/images/SkyBox/SunSetLeft.png",positiveY:"static/data/images/SkyBox/SunSetFront.png",negativeY:"static/data/images/SkyBox/SunSetBack.png",positiveZ:"static/data/images/SkyBox/SunSetUp.png",negativeZ:"static/data/images/SkyBox/SunSetDown.png"}})},setThreeGroundSkyBox:function(){return new O.Scene.GroundSkyBox({sources:{positiveX:"static/data/images/SkyBox/Right.jpg",negativeX:"static/data/images/SkyBox/Left.jpg",positiveY:"static/data/images/SkyBox/Front.jpg",negativeY:"static/data/images/SkyBox/Back.jpg",positiveZ:"static/data/images/SkyBox/Up.jpg",negativeZ:"static/data/images/SkyBox/Down.jpg"}})},setDarkEffect:function(i){i=i||{};var n=`uniform sampler2D colorTexture;
varying vec2 v_textureCoordinates;
uniform float scale;
uniform vec3 offset;
void main() {
 // vec4 color = texture2D(colorTexture, v_textureCoordinates);
 vec4 color = texture2D(colorTexture, v_textureCoordinates);
 // float gray = 0.2989*color.r+0.5870*color.g+0.1140*color.b;
 // gl_FragColor = vec4(gray,gray,2.0*(gray+1.0), 1.0);
 gl_FragColor = vec4(color.r*0.2,color.g * 0.4,color.b*0.6, 1.0);
}
`;return this._viewer.scene.postProcessStages.add(new O.PostProcessStage({name:"darkEffect",fragmentShader:n,uniforms:{scale:1,offset:function(){return i.offset||new O.Cartesian3(.1,.2,.3)}}}))},setBlurBloom:function(i){if(this._viewer&&i){var n=`uniform float height;
uniform float width;
uniform sampler2D colorTexture1;

varying vec2 v_textureCoordinates;

const int SAMPLES = 9;
void main()
{
vec2 st = v_textureCoordinates;
float wr = float(1.0 / width);
float hr = float(1.0 / height);
vec4 result = vec4(0.0);
int count = 0;
for(int i = -SAMPLES; i <= SAMPLES; ++i){
for(int j = -SAMPLES; j <= SAMPLES; ++j){
vec2 offset = vec2(float(i) * wr, float(j) * hr);
result += texture2D(colorTexture1, st + offset);
}
}
result = result / float(count);
gl_FragColor = result;
}
`;return this._viewer.scene.postProcessStages.add(new O.PostProcessStage({name:"blur_x_direction",fragmentShader:n,uniforms:{width:i.width,height:i.height,colorTexture1:"Bright"}}))}},setRainEffect:function(){if(this._viewer){var i=`uniform sampler2D colorTexture;
                  varying vec2 v_textureCoordinates;
                  
                  float hash(float x){
                  return fract(sin(x*23.3)*13.13);
                  }
                  
                  void main(){
                      float time = czm_frameNumber / 60.0;
                      vec2 resolution = czm_viewport.zw;
                      vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);
                      vec3 c=vec3(.6,.7,.8);
                      float a=-.4;
                      float si=sin(a),co=cos(a);
                      uv*=mat2(co,-si,si,co);
                      uv*=length(uv+vec2(0,4.9))*.3+1.;
                      float v=1.-sin(hash(floor(uv.x*100.))*2.);
                      float b=clamp(abs(sin(20.*time*v+uv.y*(5./(2.+v))))-.95,0.,1.)*20.;
                      c*=v*b;
                      gl_FragColor = mix(texture2D(colorTexture, v_textureCoordinates), vec4(c, 1), 0.2);
                  }
                  `;return this._viewer.scene.postProcessStages.add(new O.PostProcessStage({name:"rainEffect",fragmentShader:i}))}},setSnowEffect:function(){if(this._viewer){var i=`uniform sampler2D colorTexture;
                      varying vec2 v_textureCoordinates;
                      
                      float snow(vec2 uv,float scale){
                          float time = czm_frameNumber / 60.0;
                          float w=smoothstep(1.,0.,-uv.y*(scale/10.));
                          if(w<.1)return 0.;
                          uv+=time/scale;
                          uv.y+=time*2./scale;
                          uv.x+=sin(uv.y+time*.5)/scale;
                          uv*=scale;
                          vec2 s=floor(uv),f=fract(uv),p;
                          float k=3.,d;
                          p=.5+.35*sin(11.*fract(sin((s+p+scale)*mat2(7,3,6,5))*5.))-f;
                          d=length(p);
                          k=min(d,k);
                          k=smoothstep(0.,k,sin(f.x+f.y)*0.01);
                          return k*w;
                      }
                      
                      void main(){
                          vec2 resolution = czm_viewport.zw;
                          vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);
                          vec3 finalColor=vec3(0);
                          float c = 0.0;
                          c+=snow(uv,30.)*.0;
                          c+=snow(uv,20.)*.0;
                          c+=snow(uv,15.)*.0;
                          c+=snow(uv,10.);
                          c+=snow(uv,8.);
                          c+=snow(uv,6.);
                          c+=snow(uv,5.);
                          finalColor=(vec3(c));
                          gl_FragColor = mix(texture2D(colorTexture, v_textureCoordinates), vec4(finalColor,1), 0.3);
                          
                      }
                      `;return this._viewer.scene.postProcessStages.add(new O.PostProcessStage({name:"snowEffect",fragmentShader:i}))}},setFogEffect:function(){if(this._viewer){var i=`float getDistance(sampler2D depthTexture, vec2 texCoords) 
{ 
    float depth = czm_unpackDepth(texture2D(depthTexture, texCoords)); 
    if (depth == 0.0) { 
        return czm_infinity; 
    } 
    vec4 eyeCoordinate = czm_windowToEyeCoordinates(gl_FragCoord.xy, depth); 
    return -eyeCoordinate.z / eyeCoordinate.w; 
} 
float interpolateByDistance(vec4 nearFarScalar, float distance) 
{ 
    float startDistance = nearFarScalar.x; 
    float startValue = nearFarScalar.y; 
    float endDistance = nearFarScalar.z; 
    float endValue = nearFarScalar.w; 
    float t = clamp((distance - startDistance) / (endDistance - startDistance), 0.0, 1.0); 
    return mix(startValue, endValue, t); 
} 
vec4 alphaBlend(vec4 sourceColor, vec4 destinationColor) 
{ 
    return sourceColor * vec4(sourceColor.aaa, 1.0) + destinationColor * (1.0 - sourceColor.a); 
} 
uniform sampler2D colorTexture; 
uniform sampler2D depthTexture; 
uniform vec4 fogByDistance; 
uniform vec4 fogColor; 
varying vec2 v_textureCoordinates; 
void main(void) 
{ 
    float distance = getDistance(depthTexture, v_textureCoordinates); 
    vec4 sceneColor = texture2D(colorTexture, v_textureCoordinates); 
    float blendAmount = interpolateByDistance(fogByDistance, distance); 
    vec4 finalFogColor = vec4(fogColor.rgb, fogColor.a * blendAmount); 
    gl_FragColor = alphaBlend(finalFogColor, sceneColor); 
} 
`;return this._viewer.scene.postProcessStages.add(new O.PostProcessStage({fragmentShader:i,uniforms:{fogByDistance:new O.Cartesian4(10,0,200,.3),fogColor:O.Color.AZURE}}))}},setDefSceneConfig:function(){this._viewer&&(this._viewer.scene.sun.show=!1,this._viewer.scene.moon.show=!1,this._viewer.scene.fxaa=!0,this._viewer.scene.globe.depthTestAgainstTerrain=!0,this._viewer.scene.undergroundMode=!1,this._viewer.scene.terrainProvider.isCreateSkirt=!1,this._viewer.scene.skyAtmosphere.show=!1,this._viewer.scene.globe.showGroundAtmosphere=!1,this._viewer.scene.globe.enableLighting=!0,this._viewer.scene.fog.enabled=!1,this._viewer.cesiumWidget.creditContainer.style.display="none")},setBloomLightScene:function(){this._viewer&&(this._viewer.scene.postProcessStages.bloom.enabled=!0,this._viewer.scene.postProcessStages.bloom.uniforms.contrast=119,this._viewer.scene.postProcessStages.bloom.uniforms.brightness=-.4,this._viewer.scene.postProcessStages.bloom.uniforms.glowOnly=!1,this._viewer.scene.postProcessStages.bloom.uniforms.delta=.9,this._viewer.scene.postProcessStages.bloom.uniforms.sigma=3.78,this._viewer.scene.postProcessStages.bloom.uniforms.stepSize=5,this._viewer.scene.postProcessStages.bloom.uniforms.isSelected=!1)},removePostProcessStage:function(i){i&&(Array.isArray(i)?i.forEach(n=>{this._viewer.scene.postProcessStages.contains(n)&&this._viewer.scene.postProcessStages.remove(n)}):this._viewer.scene.postProcessStages.contains(i)&&this._viewer.scene.postProcessStages.remove(i))},setView:function(i){if(this._viewer&&i&&i.position){if(i.distance){var n=new O.Cartesian3(0,i.distance,window.opt.distance);i.position=O.Cartesian3.add(i.position,n,new O.Cartesian3)}this._viewer.scene.camera.setView({destination:i.position,orientation:i.orientation||{heading:O.Math.toRadians(90),pitch:O.Math.toRadians(90),roll:O.Math.toRadians(0)}})}},flyTo:function(i){if(this._viewer&&i&&i.position){if(i.distance){var n=new O.Cartesian3(0,i.distance,i.distance);i.position=O.Cartesian3.add(i.position,n,new O.Cartesian3)}this._viewer.scene.camera.flyTo({destination:i.position,orientation:i.orientation||{heading:O.Math.toRadians(90),pitch:O.Math.toRadians(90),roll:O.Math.toRadians(0)},easingFunction:i.easingFunction||O.EasingFunction.LINEAR_NONE,duration:i.duration||3,complete:i.callback})}},transformCartesianToWGS84:function(i){if(this._viewer&&i){var n=O.Ellipsoid.WGS84,r=n.cartesianToCartographic(i);return{lng:O.Math.toDegrees(r.longitude),lat:O.Math.toDegrees(r.latitude),alt:r.height}}},transformWGS84ArrayToCartesianArray:function(i,n){if(this._viewer&&i){var r=this;return i?i.map(function(o){return r.transformWGS84ToCartesian(o,n)}):[]}},transformWGS84ToCartesian:function(i,n){if(this._viewer)return i?O.Cartesian3.fromDegrees(i.lng||i.lon,i.lat,i.alt=n||i.alt,O.Ellipsoid.WGS84):O.Cartesian3.ZERO},transformCartesianArrayToWGS84Array:function(i){if(this._viewer){var n=this;return i?i.map(function(r){return n.transformCartesianToWGS84(r)}):[]}},setCameraEotateHeading(i){if(i){let n=this._viewer,r=O.Cartesian3.fromDegrees(i.lng,i.lat,i.height),o=O.Math.toRadians(-30),s=360/30,l=5e3,c=O.JulianDate.fromDate(new Date);n.clock.startTime=c.clone(),n.clock.currentTime=c.clone(),n.clock.clockRange=O.ClockRange.CLAMPED,n.clock.clockStep=O.ClockStep.SYSTEM_CLOCK;let u=n.camera.heading,d=function(){let x=O.JulianDate.secondsDifference(n.clock.currentTime,n.clock.startTime),m=O.Math.toRadians(x*s)+u;n.scene.camera.setView({destination:r,orientation:{heading:m,pitch:o}}),n.scene.camera.moveBackward(l),O.JulianDate.compare(n.clock.currentTime,n.clock.stopTime)>=0&&n.clock.onTick.removeEventListener(d)};n.clock.onTick.addEventListener(d)}},transformWGS84ToCartographic:function(i){return i?O.Cartographic.fromDegrees(i.lng||i.lon,i.lat,i.alt):O.Cartographic.ZERO},getCatesian3FromPX:function(i){if(this._viewer&&i){var n=this._viewer.scene.pick(i),r=null,o=!1,s=!1;if(n instanceof O.Cesium3DTileFeature&&(o=!0),o&&(r=this._viewer.scene.pickPosition(i),r)){let c=O.Cartographic.fromCartesian(r);c.height<0&&(c.height=0);let u=O.Math.toDegrees(c.longitude),d=O.Math.toDegrees(c.latitude),g=c.height;r=this.transformWGS84ToCartesian({lng:u,lat:d,alt:g})}if(!n){var l=this._viewer.scene.camera.getPickRay(i);if(!l)return null;r=this._viewer.scene.globe.pick(l,this._viewer.scene),s=!0}if(!o&&!s&&(r=this._viewer.scene.camera.pickEllipsoid(i,this._viewer.scene.globe.ellipsoid)),r){let c=this.transformCartesianToWGS84(r);return c.alt<0&&(r=this.transformWGS84ToCartesian(c,.1)),r}return!1}},getCameraPosition:function(){if(this._viewer){var i=this._viewer.scene.camera.pickEllipsoid(new O.Cartesian2(this._viewer.canvas.clientWidth/2,this._viewer.canvas.clientHeight/2));if(i){var n=O.Ellipsoid.WGS84.cartesianToCartographic(i),r=n.longitude*180/Math.PI,o=n.latitude*180/Math.PI,s=this._viewer.camera._direction,l=O.Math.toDegrees(s.x),c=O.Math.toDegrees(s.y),u=O.Math.toDegrees(s.z),d=this._viewer.camera.positionCartographic.height,g=O.Math.toDegrees(this._viewer.camera.heading),x=O.Math.toDegrees(this._viewer.camera.pitch),m=O.Math.toDegrees(this._viewer.camera.roll),v=this._viewer.camera.computeViewRectangle(),w=v.west/Math.PI*180,p=v.north/Math.PI*180,C=v.east/Math.PI*180,S=v.south/Math.PI*180,G=(w+C)/2,P=(p+S)/2;return{lon:r,lat:o,height:d,heading:g,pitch:x,roll:m,position:this._viewer.camera.position,cameraHeading:this._viewer.camera.heading,cameraPitch:this._viewer.camera.pitch,cameraRoll:this._viewer.camera.roll,center:{x:G,y:P},direction:new O.Cartesian3(l,c,u)}}}},updateCameraState:function(i){this._viewer.scene._screenSpaceCameraController.enableRotate=i,this._viewer.scene._screenSpaceCameraController.enableTranslate=i,this._viewer.scene._screenSpaceCameraController.enableZoom=i,this._viewer.scene._screenSpaceCameraController.enableTilt=i,this._viewer.scene._screenSpaceCameraController.enableLook=i},bindHandelEvent:function({leftClick:i,mouseMove:n,doubleClick:r,leftDown:o,mouseWheel:s,leftUp:l}){if(this._viewer){var c=new O.ScreenSpaceEventHandler(this._viewer.canvas);i&&c.setInputAction(function(u){i(u,c)},O.ScreenSpaceEventType.LEFT_CLICK),n&&c.setInputAction(function(u){n(u,c)},O.ScreenSpaceEventType.MOUSE_MOVE),r&&c.setInputAction(function(u){r(u,c)},O.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),o&&c.setInputAction(function(u){o(u,c)},O.ScreenSpaceEventType.LEFT_DOWN),s&&c.setInputAction(function(u){s(u,c)},O.ScreenSpaceEventType.WHEEL),l&&c.setInputAction(function(u){l(u,c)},O.ScreenSpaceEventType.LEFT_UP)}},getHandelPosition:function(i){if(this._viewer){var n=new O.ScreenSpaceEventHandler(this._viewer.scene.canvas),r=this;n.setInputAction(function(o){var s=r._viewer.scene.camera.pickEllipsoid(o.endPosition,r._viewer.scene.globe.ellipsoid);typeof i=="function"&&i(r.transformCartesianToWGS84(s),n)},O.ScreenSpaceEventType.MOUSE_MOVE)}},saveSceneImages:function(){if(this._viewer){const l=function(c){for(var u=c.split(","),d=u[0].match(/:(.*?);/)[1],g=atob(u[1]),x=g.length,m=new Uint8Array(x);x--;)m[x]=g.charCodeAt(x);return new Blob([m],{type:d})};var i=this._viewer.scene.canvas,n=i.toDataURL("image/png").replace("image/png","image/octet-stream"),r=document.createElement("a"),o=l(n),s=URL.createObjectURL(o);r.download="scene.png",r.href=s,r.click()}},_installAmapImageryProvider:function(){const i="https://webst{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",n="http://webrd{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}";function r(o){return o.url=o.style==="img"?i:n,o.subdomains||(o.subdomains=["01","02","03","04"]),new O.UrlTemplateImageryProvider(o)}O.Scene.AmapImageryProvider=r},_installTdtImageryProvider:function(){const i="http://t{s}.tianditu.gov.cn/{layer}_c/wmts?service=WMTS&version=1.0.0&request=GetTile&tilematrix={TileMatrix}&layer={layer}&style={style}&tilerow={TileRow}&tilecol={TileCol}&tilematrixset={TileMatrixSet}&format=tiles&tk={key}";function n(r){return new O.UrlTemplateImageryProvider({url:i.replace(/\{layer\}/g,r.style||"vec").replace(/\{key\}/g,r.key||""),style:"default",format:"tiles",tileMatrixSetID:"c",matrixSet:"c",wrapX:!0,crossOrigin:"anonymous",subdomains:[...Array(6).keys()].map(o=>(o+1).toString()),tileMatrixLabels:[...Array(18).keys()].map(o=>(o+1).toString()),tilingScheme:new O.GeographicTilingScheme,maximumLevel:18})}O.Scene.TdtImageryProvider=n},_installTencentImageryProvider:function(){const i="https://p2.map.gtimg.com/sateTiles/{z}/{sx}/{sy}/{x}_{reverseY}.jpg?version=229",n="https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}";function r(o){return(o.layer="img")?(o.url=i,o.subdomains||(o.subdomains=["0","1","2"]),o.customTags={sx:function(s,l,c,u){return l>>4},sy:function(s,l,c,u){return(1<<u)-c>>4}}):o.url=n,new O.UrlTemplateImageryProvider(o)}O.Scene.TencentImageryProvider=r},_installGooGleImageryProvider:function(){const i="http://mt{s}.google.cn/vt/lyrs=m@207000000&hl=zh-CN&gl=CN&src=app&x={x}&y={y}&z={z}&s=Galile",n="http://mt{s}.google.cn/vt/lyrs=s&hl=zh-CN&x={x}&y={y}&z={z}&s=Gali",r="http://mt{s}.google.cn/vt/lyrs=t@131,r@227000000&hl=zh-CN&gl=cn&x={x}&y={y}&z={z}&s=Galile";function o(s){return s.url=s.style==="img"?n:s.style==="ter"?r:i,s.subdomains||(s.subdomains=["1","2","3","4","5"]),new O.UrlTemplateImageryProvider(s)}O.Scene.GoogleImageryProvider=o},_installBaiduImageryProvider:function(){var i="http://api{s}.map.bdimg.com/customimage/tile?&x={x}&y={y}&z={z}&scale=1&customid={style}";function n(r){i=r.temp_url||i,this._url=i,this._tileWidth=256,this._tileHeight=256,this._maximumLevel=18,this._minimumLevel=1,this._tilingScheme=new O.WebMercatorTilingScheme({rectangleSouthwestInMeters:new O.Cartesian2(-33554054,-33746824),rectangleNortheastInMeters:new O.Cartesian2(33554054,33746824)}),this._rectangle=this._tilingScheme.rectangle,this._credit=void 0,this._style=r.style||"normal"}Object.defineProperties(n.prototype,{url:{get:function(){return this._url}},token:{get:function(){return this._token}},tileWidth:{get:function(){if(!this.ready)throw new O.DeveloperError("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},tileHeight:{get:function(){if(!this.ready)throw new O.DeveloperError("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},maximumLevel:{get:function(){if(!this.ready)throw new O.DeveloperError("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},minimumLevel:{get:function(){if(!this.ready)throw new O.DeveloperError("minimumLevel must not be called before the imagery provider is ready.");return 0}},tilingScheme:{get:function(){if(!this.ready)throw new O.DeveloperError("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},rectangle:{get:function(){if(!this.ready)throw new O.DeveloperError("rectangle must not be called before the imagery provider is ready.");return this._rectangle}},ready:{get:function(){return!!this._url}},credit:{get:function(){return this._credit}}}),n.prototype.requestImage=function(r,o,s){if(!this.ready)throw new O.DeveloperError("requestImage must not be called before the imagery provider is ready.");var l=this._tilingScheme.getNumberOfXTilesAtLevel(s),c=this._tilingScheme.getNumberOfYTilesAtLevel(s),u=this._url.replace("{x}",r-l/2).replace("{y}",c/2-o-1).replace("{z}",s).replace("{s}",1).replace("{style}",this._style);return O.ImageryProvider.loadImage(this,u)},O.Scene.BaiduImageryProvider=n},_installGroundSkyBox:function(){var i=O.BoxGeometry,n=O.Cartesian3,r=O.defaultValue,o=O.defined,s=O.destroyObject,l=O.DeveloperError,c=O.GeometryPipeline,u=O.Matrix3,d=O.Matrix4,g=O.Transforms,x=O.VertexFormat,m=O.BufferUsage,v=O.CubeMap,w=O.DrawCommand,p=O.loadCubeMap,C=O.RenderState,S=O.VertexArray,G=O.BlendingState,P=O.SceneMode,I=O.ShaderProgram,M=O.ShaderSource,_=`uniform samplerCube u_cubeMap;
                    varying vec3 v_texCoord;
                    void main()
                    {
                    vec4 color = textureCube(u_cubeMap, normalize(v_texCoord));
                    gl_FragColor = vec4(czm_gammaCorrect(color).rgb, czm_morphTime);
                    }
                    `,b=`attribute vec3 position;
                    varying vec3 v_texCoord;
                    uniform mat3 u_rotateMatrix;
                    void main()
                    {
                    vec3 p = czm_viewRotation * u_rotateMatrix * (czm_temeToPseudoFixed * (czm_entireFrustum.y * position));
                    gl_Position = czm_projection * vec4(p, 1.0);
                    v_texCoord = position.xyz;
                    }
                    `;o(d.getRotation)||(d.getRotation=d.getMatrix3);function A(T){this.sources=T.sources,this._sources=void 0,this.show=r(T.show,!0),this._command=new w({modelMatrix:d.clone(d.IDENTITY),owner:this}),this._cubeMap=void 0,this._attributeLocations=void 0,this._useHdr=void 0}var F=new u;A.prototype.update=function(T,Z){var W=this;if(!!this.show&&!(T.mode!==P.SCENE3D&&T.mode!==P.MORPHING)&&!!T.passes.render){var R=T.context;if(this._sources!==this.sources){this._sources=this.sources;var N=this.sources;if(!o(N.positiveX)||!o(N.negativeX)||!o(N.positiveY)||!o(N.negativeY)||!o(N.positiveZ)||!o(N.negativeZ))throw new l("this.sources is required and must have positiveX, negativeX, positiveY, negativeY, positiveZ, and negativeZ properties.");if(typeof N.positiveX!=typeof N.negativeX||typeof N.positiveX!=typeof N.positiveY||typeof N.positiveX!=typeof N.negativeY||typeof N.positiveX!=typeof N.positiveZ||typeof N.positiveX!=typeof N.negativeZ)throw new l("this.sources properties must all be the same type.");typeof N.positiveX=="string"?p(R,this._sources).then(function(D){W._cubeMap=W._cubeMap&&W._cubeMap.destroy(),W._cubeMap=D}):(this._cubeMap=this._cubeMap&&this._cubeMap.destroy(),this._cubeMap=new v({context:R,source:N}))}var B=this._command;if(B.modelMatrix=g.eastNorthUpToFixedFrame(T.camera._positionWC),!o(B.vertexArray)){B.uniformMap={u_cubeMap:function(){return W._cubeMap},u_rotateMatrix:function(){return d.getRotation(B.modelMatrix,F)}};var Y=i.createGeometry(i.fromDimensions({dimensions:new n(2,2,2),vertexFormat:x.POSITION_ONLY})),L=this._attributeLocations=c.createAttributeLocations(Y);B.vertexArray=S.fromGeometry({context:R,geometry:Y,attributeLocations:L,bufferUsage:m._DRAW}),B.renderState=C.fromCache({blending:G.ALPHA_BLEND})}if(!o(B.shaderProgram)||this._useHdr!==Z){var J=new M({defines:[Z?"HDR":""],sources:[_]});B.shaderProgram=I.fromCache({context:R,vertexShaderSource:b,fragmentShaderSource:J,attributeLocations:this._attributeLocations}),this._useHdr=Z}if(!!o(this._cubeMap))return B}},A.prototype.isDestroyed=function(){return!1},A.prototype.destroy=function(){var T=this._command;return T.vertexArray=T.vertexArray&&T.vertexArray.destroy(),T.shaderProgram=T.shaderProgram&&T.shaderProgram.destroy(),this._cubeMap=this._cubeMap&&this._cubeMap.destroy(),s(this)},O.Scene.GroundSkyBox=A},removeHandler(){this._viewer.screenSpaceEventHandler.removeInputAction(O.ScreenSpaceEventType.LEFT_CLICK),this._viewer.screenSpaceEventHandler.removeInputAction(O.ScreenSpaceEventType.MOUSE_MOVE),this._viewer.screenSpaceEventHandler.removeInputAction(O.ScreenSpaceEventType.RIGHT_CLICK)}};let ae={};function si(i,n){i&&(this._viewer=i,ae=n)}si.prototype={splitCartesians3:function(i){for(var n=[],r=0;r<i.length;r+=3){var o=new ae.Cartesian3(i[r],i[r+1],i[r+2]);n.push(o)}return n.push(n[0]),n},getLinkedPointList:function(i,n,r,o){if(this._viewer){var s=[],l=ae.Cartographic.fromCartesian(i),c=ae.Cartographic.fromCartesian(n),u=l.longitude*180/Math.PI,d=l.latitude*180/Math.PI,g=c.longitude*180/Math.PI,x=c.latitude*180/Math.PI,m=Math.sqrt((u-g)*(u-g)+(d-x)*(d-x)),v=m*r,w=ae.Cartesian3.clone(i),p=ae.Cartesian3.clone(n),C=ae.Cartesian3.distance(w,ae.Cartesian3.ZERO),S=ae.Cartesian3.distance(p,ae.Cartesian3.ZERO);if(ae.Cartesian3.normalize(w,w),ae.Cartesian3.normalize(p,p),ae.Cartesian3.distance(w,p)==0)return s;var G=ae.Cartesian3.angleBetween(w,p);s.push(i);for(var P=1;P<o-1;P++){var I=P*1/(o-1),M=1-I,_=Math.sin(M*G)/Math.sin(G),b=Math.sin(I*G)/Math.sin(G),A=ae.Cartesian3.multiplyByScalar(w,_,new ae.Cartesian3),F=ae.Cartesian3.multiplyByScalar(p,b,new ae.Cartesian3),T=ae.Cartesian3.add(A,F,new ae.Cartesian3),Z=I*Math.PI,W=C*M+S*I+Math.sin(Z)*v;T=ae.Cartesian3.multiplyByScalar(T,W,T),s.push(T)}return s.push(n),s}},getPositionsAngle:function(i){if(i){var n=i.position1,r=i.position2,o=ae.Transforms.eastNorthUpToFixedFrame(n),s=ae.Matrix4.inverse(o,new ae.Matrix4),l=ae.Matrix4.multiplyByPoint(s,n,new ae.Cartesian3),c=ae.Matrix4.multiplyByPoint(s,r,new ae.Cartesian3),u;i.type==="pitch"?u=Math.atan2(c.z-l.z,c.x-l.x):i.type==="heading "&&(u=Math.atan2(c.y-l.y,c.x-l.x));var d=u*(180/Math.PI);return d<0&&(d=d+360),d}},getPositionsArea:function(i){let n=0;if(i){let r=0,o=ae.Ellipsoid.WGS84;i.push(i[0]);for(let s=1;s<i.length;s++){let l=o.cartographicToCartesian(this.transformWGS84ToCartographic(i[s-1])),c=o.cartographicToCartesian(this.transformWGS84ToCartographic(i[s]));r+=l.x*c.y-c.x*l.y}n=Math.abs(r).toFixed(2)}return n},getPolygonArea:function(i){if(this._viewer){for(var n=function(x,m){var v=x.lat*radiansPerDegree,w=x.lon*radiansPerDegree,p=m.lat*radiansPerDegree,C=m.lon*radiansPerDegree,S=-Math.atan2(Math.sin(w-C)*Math.cos(p),Math.cos(v)*Math.sin(p)-Math.sin(v)*Math.cos(p)*Math.cos(w-C));return S<0&&(S+=Math.PI*2),S=S*degreesPerRadian,S},r=function(x,m,v){var w=n(m,x),p=n(m,v),C=w-p;return C<0&&(C+=360),C},o=0,s=0;s<i.length-2;s++){var l=(s+1)%i.length,c=(s+2)%i.length,u=r(i[s],i[l],i[c]),d=this.getPositionsDistance(positions[s],positions[l]),g=this.getPositionsDistance(positions[l],positions[c]);o+=d*g*Math.abs(Math.sin(u))}return(o/1e6).toFixed(4)}},getPointDistance:function(i,n){if(this._viewer){var r=ae.Cartographic.fromCartesian(i),o=ae.Cartographic.fromCartesian(n),s=new ae.EllipsoidGeodesic;s.setEndPoints(r,o);var l=s.surfaceDistance;return l=Math.sqrt(Math.pow(l,2)+Math.pow(o.height-r.height,2)),l}},getPositionDistance:function(i){let n=0;for(let r=0;r<i.length-1;r++){let o=this.transformWGS84ToCartographic(i[r]),s=this.transformWGS84ToCartographic(i[r+1]),l=new ae.EllipsoidGeodesic;l.setEndPoints(o,s);let c=l.surfaceDistance;c=Math.sqrt(Math.pow(c,2)+Math.pow(s.height-o.height,2)),n=n+c}return n.toFixed(3)},getIntersectObj:function(i,n,r=[],o=!1){if(this._viewer){var s=ae.Cartesian3.normalize(ae.Cartesian3.subtract(n,i,new ae.Cartesian3),new ae.Cartesian3),l=new ae.Ray(i,s),c=[];if(o)c=this._viewer.scene.drillPickFromRay(l,10,r);else{var u=this._viewer.scene.pickFromRay(l,r);ae.defined(u)&&(c=[u])}return c}},getPointOnEllipsoid:function(i,n,r,o,s,l,c,u,d,g){if(this._viewer){var x=new ae.Cartesian3,m=new ae.Cartesian3,v=new ae.Quaternion,w=new ae.Matrix3,p=i+n;ae.Cartesian3.multiplyByScalar(o,Math.cos(p),x),ae.Cartesian3.multiplyByScalar(r,Math.sin(p),m),ae.Cartesian3.add(x,m,x);var C=Math.cos(i);C=C*C;var S=Math.sin(i);S=S*S;var G=l/Math.sqrt(c*C+s*S),P=G/u;return ae.Quaternion.fromAxisAngle(x,P,v),ae.Matrix3.fromQuaternion(v,w),ae.Matrix3.multiplyByVector(w,d,g),ae.Cartesian3.normalize(g,g),ae.Cartesian3.multiplyByScalar(g,u,g),g}},raisePositionsToHeight:function(i,n,r){if(this._viewer){for(var o=new ae.Cartesian3,s=new ae.Cartesian3,l=new ae.Cartesian3,c=new ae.Cartesian3,u=n.ellipsoid,d=n.height,g=n.extrudedHeight,x=r?i.length/3*2:i.length/3,m=new Float64Array(x*3),v=i.length,w=r?v:0,p=0;p<v;p+=3){var C=p+1,S=p+2,G=ae.Cartesian3.fromArray(i,p,o);u.scaleToGeodeticSurface(G,G);var P=ae.Cartesian3.clone(G,s),I=u.geodeticSurfaceNormal(G,c),M=ae.Cartesian3.multiplyByScalar(I,d,l);ae.Cartesian3.add(G,M,G),r&&(ae.Cartesian3.multiplyByScalar(I,g,M),ae.Cartesian3.add(P,M,P),m[p+w]=P.x,m[C+w]=P.y,m[S+w]=P.z),m[p]=G.x,m[C]=G.y,m[S]=G.z}return m}},computeEllipseEdgePositions:function(i){if(this._viewer){var n=new ae.Cartesian3,r=new ae.Cartesian3,o=new ae.Cartesian3,s=new ae.Cartesian3,l=i.semiMinorAxis,c=i.semiMajorAxis,u=i.rotation,d=i.center,g=i.granularity&&typeof i.granularity=="number"?i.granularity:Math.PI/180;g>Math.PI/12&&(g=Math.PI/12),g<Math.PI/180&&(g=Math.PI/180);var x=l*l,m=c*c,v=c*l,w=ae.Cartesian3.magnitude(d),p=ae.Cartesian3.normalize(d,n),C=ae.Cartesian3.cross(ae.Cartesian3.UNIT_Z,d,r);C=ae.Cartesian3.normalize(C,C);var S=ae.Cartesian3.cross(p,C,o),G=Math.ceil(ae.Math.PI*2/g),P=g,I=0,M=s,_,b=0,A=[];for(_=0;_<G;_++)I=_*P,M=this.getPointOnEllipsoid(I,u,S,C,x,v,m,w,p,M),A[b++]=M.x,A[b++]=M.y,A[b++]=M.z;var F={};return F.numPts=G,F.outerPositions=A,F}},computeSectorEdgePositions:function(i){if(this._viewer){var n=new ae.Cartesian3,r=new ae.Cartesian3,o=new ae.Cartesian3,s=new ae.Cartesian3,l=i.semiMinorAxis,c=i.semiMajorAxis,u=i.rotation,d=i.angle?i.angle:Math.PI*2,g=i.center,x=i.granularity&&typeof i.granularity=="number"?i.granularity:Math.PI/180;x>Math.PI/12&&(x=Math.PI/12),x<Math.PI/180&&(x=Math.PI/180);var m=l*l,v=c*c,w=c*l,p=ae.Cartesian3.magnitude(g),C=ae.Cartesian3.normalize(g,n),S=ae.Cartesian3.cross(ae.Cartesian3.UNIT_Z,g,r);S=ae.Cartesian3.normalize(S,S);var G=ae.Cartesian3.cross(C,S,o),P=Math.ceil(d/x),I=x,M=0,_=s,b,A=0,F=[];for(b=0;b<P;b++)M=b*I,_=this.getPointOnEllipsoid(M,u,G,S,m,w,v,p,C,_),F[A++]=_.x,F[A++]=_.y,F[A++]=_.z;var T={};return T.numPts=P,T.outerPositions=F,T}},computeLonlatPointsTerrainData:function(i,n){if(this._viewer){for(var r=[],o=0;o<i.length;o++)r.push(ae.Cartographic.fromDegrees(i[o].lon,i[o].lat));var s=this._viewer.scene.clampToHeightMostDetailed(r);s.then(function(l){n(l)})}},computeCartographicPointsTerrainData:function(i,n){if(this._viewer){if(i.length<=0)return;for(var r=[],o=0;o<i.length;o++)r.push(ae.Cartesian3.fromRadians(i[o].longitude,i[o].latitude,i[o].height));var s=this._viewer.scene.clampToHeightMostDetailed(r),l=this;s.then(function(c){for(var u=[],d=l._viewer.scene.globe.ellipsoid,g=0;g<c.length;g++)u.push(d.cartesianToCartographic(c[g]));n(u)}).otherwise(function(c){console.log(c)})}},_checkLonDegree:function(i){return!(i>180||i<-180)},_checkLatDegree:function(i){return!(i>90||i<-90)},computeInterpolateLineLonlat:function(i,n){if(!i||!n||i.lon||!i.lat||!n.lon||!n.lat||!this._checkLonDegree(i.lon)||!this._checkLonDegree(n.lon)||!this._checkLatDegree(i.lat)||!this._checkLatDegree(n.lat))return null;var r=[];r.push([i.lon,i.lat]);var o=Math.sqrt(Math.pow(n.lon-i.lon,2)+Math.pow(n.lat-i.lat,2));if(o<=1e-5)return r.push([n.lon,n.lat]),r;for(var s=o/1e-5,l=(n.lon-i.lon)/s,c=(n.lat-i.lat)/s,u=0;u<s;u++){var d=i.lon+(u+1)*l,g=i.lat+(u+1)*c;r.push([d,g])}return r},computeInterpolateLineCartographic:function(i,n,r){if(!i||!n||!i.longitude||!i.latitude||!n.longitude||!n.latitude)return null;var o=[];o.push(new ae.Cartographic(i.longitude,i.latitude));var s=Math.sqrt(Math.pow(n.longitude-i.longitude,2)+Math.pow(n.latitude-i.latitude,2)),l=r&&typeof r=="number"?r:1e-5*Math.PI/180;if(s<=l)return o.push(new ae.Cartographic(n.longitude,n.latitude)),o;for(var c=s/l,u=(n.longitude-i.longitude)/c,d=(n.latitude-i.latitude)/c,g=0;g<c;g++){var x=i.longitude+(g+1)*u,m=i.latitude+(g+1)*d;o.push(new ae.Cartographic(x,m))}return o.push(new ae.Cartographic(n.longitude,n.latitude,n.height)),o},computeInterpolateLineHeightCartographic:function(i,n){if(!i||!n||!i.longitude||!i.latitude||!n.longitude||!n.latitude)return null;var r=[];r.push(new ae.Cartographic(i.longitude,i.latitude,i.height));var o=Math.sqrt(Math.pow(n.longitude-i.longitude,2)+Math.pow(n.latitude-i.latitude,2));if(o<=1e-5*Math.PI/180)return r.push(new ae.Cartographic(n.longitude,n.latitude,n.height)),r;for(var s=o/1e-5*Math.PI/180,l=(n.longitude-i.longitude)/s,c=(n.latitude-i.latitude)/s,u=(n.height-i.height)/s,d=0;d<s;d++){var g=i.longitude+(d+1)*l,x=i.latitude+(d+1)*c,m=i.height+(d+1)*u;r.push(new ae.Cartographic(g,x,m))}return r.push(new ae.Cartographic(n.longitude,n.latitude,n.height)),r},computeInterpolate2IndexLineHeightCartographic:function(i,n,r,o){if(!i||!n||!i.longitude||!i.latitude||!n.longitude||!n.latitude)return null;var s=[];s.push(new ae.Cartographic(i.longitude,i.latitude,i.height));for(var l=(n.longitude-i.longitude)/r,c=(n.latitude-i.latitude)/r,u=(n.height-i.height)/r,d=0;d<o;d++){var g=i.longitude+(d+1)*l,x=i.latitude+(d+1)*c,m=i.height+(d+1)*u;s.push(new ae.Cartographic(g,x,m))}return s},computeInterpolateIndexLineHeightCartographic:function(i,n,r,o){if(!i||!n||!i.longitude||!i.latitude||!n.longitude||!n.latitude)return null;var s=(n.longitude-i.longitude)/r,l=(n.latitude-i.latitude)/r,c=(n.height-i.height)/r,u=i.longitude+o*s,d=i.latitude+o*l,g=i.height+o*c,x=new ae.Cartographic(u,d,g);return x}};let V=null;function Mi(i,n){i&&(this._viewer=i,V=n,this._installPrimitives())}Mi.prototype={_installPrimitives:function(){this._installProbingPrimitive(),this._installTexturePrimitive(),this._installWaterPrimitive(),this._installPointsPrimitive(),this._installShadowPrimitive(),this._installArrowPolylinePrimitive(),this._installXyzAxisPrimitive(),this._installTetrahedronPrimitive(),this._installCustomPrimitive()},_installCustomPrimitive:function(){},_installTetrahedronPrimitive:function(){try{var i=V.Cartesian3,n=V.ComponentDatatype,r=V.PrimitiveType,o=V.BoundingSphere,s=V.GeometryAttribute,l=V.GeometryPipeline,c=V.Geometry,u=V.defined,d=V.RenderState,g=V.ShaderSource,x=V.ShaderProgram,m=V.DrawCommand,v=V.Pass,w=V.Appearance,p=V.BufferUsage,C=V.Color,S=V.VertexArray,G=V.buildModuleUrl,P=V.Matrix4,I=V.Matrix3,M=V.Texture,_=V.Resource,b=V.Transforms,A=V.defaultValue,F=this._viewer;const T=function(D){this.show=!0,this._command=void 0,this._enuMatrix=void 0,this._scaleMatrix=void 0,this._localPosition=D.position,this._createCommand=Z,this._angle=0,this._distance=A(D.distance,1),this._setInterval=void 0,this._viewer=F,this._speed=A(D.speed,1),this._color=A(D.color,new C(1,1,0,.8)),this._scale=A(D.scale,new i(10,10,15)),this._texture=void 0,this._imageUrl=G("static/data/images/Textures/fence.png"),this._modelMatrix=L(this),this._height=J(this),Y(this)};T.prototype.update=function(D){!this.show||(u(this._command)||(this._command=this._createCommand(D.context,this),this._command.pickId="v_pickColor"),u(this._command)&&D.commandList.push(this._command))},T.prototype.isDestroyed=function(){return!1},T.prototype.destroy=function(){return u(this._command)&&(this._command.shaderProgram=this._command.shaderProgram&&this._command.shaderProgram.destroy()),destroyObject(this)},T.prototype.startAnimate=function(){let D=this;this._setInterval=setInterval(U,5);function U(){D._angle=D._angle+.01,Math.sin(D._angle)>0?D._height=.01:D._height=-.01;let te=new V.Cartesian3(0,0,D._height);P.multiplyByTranslation(D._modelMatrix,te,D._modelMatrix);let ne=P.fromRotationTranslation(I.fromRotationZ(V.Math.toRadians(D._speed)));P.multiply(D._modelMatrix,ne,D._modelMatrix)}},T.prototype.closeAnimate=function(){clearInterval(this._setInterval)};const Z=function(D,U){var te=!1,ne=!0,Q=N(),X=B(),j=w.getDefaultRenderState(te,ne,void 0),q=d.fromCache(j),ue=new g({sources:[Q]}),me=new g({sources:[X]}),ce={color:function(){return U._color},myImage:function(){return u(U._texture)?U._texture:U._viewer.scene.context.defaultTexture}};let ge={position:0,textureCoordinates:1};var Ze=x.fromCache({context:D,vertexShaderSource:ue,fragmentShaderSource:me,attributeLocations:ge});return new m({vertexArray:W(D),primitiveType:r.TRIANGLES,renderState:q,shaderProgram:Ze,uniformMap:ce,owner:this,pass:v.TRANSLUCENT,modelMatrix:U._modelMatrix})},W=function(D){let U={position:0,textureCoordinates:1};var te=R(),ne=new c({attributes:{position:new s({componentDatatype:n.FLOAT,componentsPerAttribute:3,values:te.positions}),textureCoordinates:new s({componentDatatype:n.FLOAT,componentsPerAttribute:2,values:te.sts})},indices:te.indices,primitiveType:r.TRIANGLES,boundingSphere:o.fromVertices(te.positions)}),Q=l.computeNormal(ne),X=S.fromGeometry({context:D,geometry:Q,attributeLocations:U,bufferUsage:p.STATIC_DRAW});return X},R=function(){var D=new Float64Array(5*3);D[0]=0,D[1]=1,D[2]=0,D[3]=-1,D[4]=0,D[5]=0,D[6]=0,D[7]=-1,D[8]=0,D[9]=1,D[10]=0,D[11]=0,D[12]=0,D[13]=0,D[14]=-1;var U=new Uint16Array(6*3);U[0]=4,U[1]=2,U[2]=3,U[3]=4,U[4]=3,U[5]=0,U[6]=4,U[7]=0,U[8]=1,U[9]=4,U[10]=1,U[11]=2,U[12]=1,U[13]=2,U[14]=3,U[15]=1,U[16]=3,U[17]=0;var te=new Float32Array([0,0,1,0,1,1,0,1,.5,.5]);return{indices:U,positions:D,sts:te}},N=function(){var D=`
                    attribute vec3 position;
                    attribute vec3 normal;
                    attribute vec2 st;
                    attribute float batchId;
                    varying vec3 v_positionEC;
                    varying vec3 v_normalEC;
                    varying vec2 v_st;
                    varying vec4 v_pickColor;
                    void main()
                    {
                        v_positionEC = (czm_modelView * vec4(position, 1.0)).xyz;       // position in eye coordinates
                        v_normalEC = czm_normal * normal;                               // normal in eye coordinates
                        v_st = st;
                        //v_pickColor = czm_batchTable_pickColor(batchId);
                        gl_Position = czm_modelViewProjection * vec4(position, 1.0);
                    }
                    `;return D},B=function(){var D=`
                    varying vec3 v_positionEC;
                    varying vec3 v_normalEC;
                    varying vec2 v_st;
                    uniform vec4 color;
                    varying vec4 v_pickColor;
                    uniform sampler2D myImage;
                    void main()
                    {
                        vec3 positionToEyeEC = -v_positionEC;
                        vec3 normalEC = normalize(v_normalEC);
                    #ifdef FACE_FORWARD
                        normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);
                    #endif
                        czm_materialInput materialInput;
                        materialInput.normalEC = normalEC;
                        materialInput.positionToEyeEC = positionToEyeEC;
                        materialInput.st = v_st;
                        vec2 st = materialInput.st;
                        czm_material material = czm_getDefaultMaterial(materialInput);
                        float dt_a11 = fract(czm_frameNumber / 100.0) * 3.14159265 * 2.0;
                        float dt_a12 = sin(dt_a11);
                        float vst=smoothstep(0.7, 1.0, dt_a12)+0.4;
                        vec4 colorImage = texture2D(myImage, vec2(fract(st.s- czm_frameNumber*0.003), st.t));
                        material.alpha =mix(0.1,1.0,clamp((1.0-st.t) * color.a,0.0,1.0)) +(1.0-sign(st.t-czm_frameNumber*0.001))*0.2*(1.0-colorImage.r)+0.4 ;
                        material.diffuse =(1.0-colorImage.a)*vec3(1.0,2.0,1.0)+colorImage.rgb*vec3(1.0,2.0,1.0);
                    #ifdef FLAT
                        gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);
                    #else
                        gl_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);
                    #endif
                    }
                    `;return D},Y=function(D){_.createIfNeeded(D._imageUrl).fetchImage().then(function(U){var te,ne=D._viewer.scene.context;u(U.internalFormat)?te=new M({context:ne,pixelFormat:U.internalFormat,width:U.naturalWidth,height:U.naturalHeight,source:{arrayBufferView:U.bufferView}}):te=new M({context:ne,source:U}),D._texture=te})},L=function(D){let U=b.eastNorthUpToFixedFrame(D._localPosition),te=P.fromScale(D._scale),ne=P.multiply(U,te,new P);return D._scaleMatrix=te,D._enuMatrix=U,ne},J=function(D){let U=i.fromElements(0,0,D._distance,new V.Cartesian3),te=V.Matrix4.multiplyByPoint(D._enuMatrix,U,new i),ne=P.multiplyByPoint(D._viewer.scene.camera._viewMatrix,te,new i),Q=P.multiplyByPoint(D._viewer.scene.camera.frustum.projectionMatrix,ne,new i);return i.normalize(Q,new i).z};V.Scene.TetrahedronPrimitive=T}catch(T){console.log(T)}},_installXyzAxisPrimitive:function(){function i(n){this._viewer=n.viewer,this._model=n.model,this._matrix=n.matrix,this._radius=void 0,this._layer=new V.CustomDataSource("xyz-axis"),this._viewer.dataSources.add(this._layer),this._handler=new V.ScreenSpaceEventHandler(this._viewer.scene.canvas),this._xyzState=!1,this._xyzPid=void 0,this._build()}i.prototype={_build(){this._createAxisXYZ(),this._bindHandler()},remove(){this._layer._primitives.removeAll(),this._handler.distory()},_createAxisXYZ:function(){this._model.readyPromise.then(n=>{const r=V.Matrix4.getTranslation(n.modelMatrix,new V.Cartesian3),o=n.boundingSphere,s=o.radius,l=new V.ArrowPolylinePrimitive({id:"axisZ",color:V.Color.RED,position:r,width:3,headWidth:5,length:s*2+50,headLength:10}),c=new V.ArrowPolylinePrimitive({id:"axisX",color:V.Color.GREEN,position:r,width:3,headWidth:5,length:s*2+50,headLength:10}),u=new V.ArrowPolylinePrimitive({id:"axisY",color:V.Color.BLUE,position:r,width:3,headWidth:5,length:s*2+50,headLength:10}),d=V.Matrix3.fromRotationY(V.Math.toRadians(90));this._rotationX=V.Matrix4.fromRotationTranslation(d),V.Matrix4.multiply(c.geometryInstances[0].modelMatrix,this._rotationX,c.geometryInstances[0].modelMatrix),V.Matrix4.multiply(c.geometryInstances[1].modelMatrix,this._rotationX,c.geometryInstances[1].modelMatrix);const g=V.Matrix3.fromRotationX(V.Math.toRadians(90));this._rotationY=V.Matrix4.fromRotationTranslation(g),V.Matrix4.multiply(u.geometryInstances[0].modelMatrix,this._rotationY,u.geometryInstances[0].modelMatrix),V.Matrix4.multiply(u.geometryInstances[1].modelMatrix,this._rotationY,u.geometryInstances[1].modelMatrix),this._layer._primitives.add(l),this._layer._primitives.add(c),this._layer._primitives.add(u),this._radius=o.radius,this._createAxisSphere()})},_createAxisSphere:function(){const n=[];for(let l=0;l<=360;l+=3){const c=Math.sin(V.Math.toRadians(l)),u=Math.cos(V.Math.toRadians(l)),d=this._radius*u,g=this._radius*c;n.push(new V.Cartesian3(d,g,0))}const r=this._createAxisSpheres("axisSphereZ",n,this._matrix,V.Color.RED);this._layer._primitives.add(r);const o=this._createAxisSpheres("axisSphereY",n,this._matrix,V.Color.GREEN);this._layer._primitives.add(o),V.Matrix4.multiply(o.geometryInstances.modelMatrix,this._rotationY,o.geometryInstances.modelMatrix);const s=this._createAxisSpheres("axisSphereX",n,this._matrix,V.Color.BLUE);this._layer._primitives.add(s),V.Matrix4.multiply(s.geometryInstances.modelMatrix,this._rotationX,s.geometryInstances.modelMatrix)},_createAxisSpheres:function(n,r,o,s){const l=new V.PolylineGeometry({positions:r,width:10}),c=new V.GeometryInstance({geometry:l,id:n,attributes:{color:V.ColorGeometryInstanceAttribute.fromColor(s)}});return new V.Primitive({geometryInstances:c,appearance:new V.PolylineColorAppearance({translucent:!1}),modelMatrix:o})},_updateAxis(n){if(this._layer){let o=this._layer._primitives._primitives;for(let s=1,l=o.length;s<l;s++){let c=o[s];const u=V.Matrix4.fromTranslation(new V.Cartesian3(n.x,n.y,n.z));V.Matrix4.multiply(c.modelMatrix,u,c.modelMatrix)}}const r=V.Matrix4.fromTranslation(new V.Cartesian3(n.x,n.y,n.z));V.Matrix4.multiply(this._model.modelMatrix,r,this._model.modelMatrix)},_updateAxisSphere(n){if(this._layer){let o=this._layer._primitives._primitives;for(let s=1,l=o.length;s<l;s++){let c=o[s];const u=V.Matrix4.fromRotationTranslation(n);V.Matrix4.multiply(c.modelMatrix,u,c.modelMatrix)}}const r=V.Matrix4.fromRotationTranslation(n);V.Matrix4.multiply(this._model.modelMatrix,r,this._model.modelMatrix)},_bindHandler(){this._handler.setInputAction(n=>{if(this._xyzState&&this._xyzPid)switch(this._xyzPid){case"axisX-line":this._updateAxis({x:-1,y:0,z:0});break;case"axisY-line":this._updateAxis({x:0,y:-1,z:0});break;case"axisZ-line":this._updateAxis({x:0,y:0,z:-1});break;case"axisX-arrow":this._updateAxis({x:1,y:0,z:0});break;case"axisY-arrow":this._updateAxis({x:0,y:1,z:0});break;case"axisZ-arrow":this._updateAxis({x:0,y:0,z:1});break;case"axisSphereX":this._updateAxisSphere(V.Matrix3.fromRotationX(V.Math.toRadians(1)));break;case"axisSphereY":this._updateAxisSphere(V.Matrix3.fromRotationY(V.Math.toRadians(1)));break;case"axisSphereZ":this._updateAxisSphere(V.Matrix3.fromRotationZ(V.Math.toRadians(1)));break}},V.ScreenSpaceEventType.MOUSE_MOVE),this._handler.setInputAction(n=>{let r=viewer.scene.pick(n.position);r&&r.id&&(this._xyzPid=r.id,this._xyzState=!0)},V.ScreenSpaceEventType.LEFT_DOWN),this._handler.setInputAction(()=>{this._xyzState=!1,this._xyzPid=void 0},V.ScreenSpaceEventType.LEFT_UP)}},V.Scene.XyzAxisPrimitive=i},_installArrowPolylinePrimitive:function(){function i(r={}){this._color=r.color||V.Color.RED,this._width=r.width||3,this._headWidth=r.headWidth||2*this._width,this._length=r.length||300,this._headLength=r.headLength||10,this._inverse=r.inverse||!1,this.position=r.position;const o=r.id,s=V.CylinderGeometry.createGeometry(new V.CylinderGeometry({length:this._length,topRadius:this._width,bottomRadius:this._width})),l=V.CylinderGeometry.createGeometry(new V.CylinderGeometry({length:this._headLength,topRadius:0,bottomRadius:this._headWidth}));let c=(this._length+this._headLength)/2;return this._inverse&&(c=-c),n(l,[0,0,c]),new V.Primitive({modelMatrix:V.Transforms.eastNorthUpToFixedFrame(this.position),geometryInstances:[new V.GeometryInstance({id:o+"-line",geometry:s}),new V.GeometryInstance({id:o+"-arrow",geometry:l})],appearance:new V.MaterialAppearance({material:V.Material.fromType("Color",{color:this._color})})})}let n=function(r,o){const s=new V.Cartesian3;o.length?(s.x=o[0],s.y=o[1],s.z=o[2]):V.Cartesian3.clone(o,s);for(let l=0;l<r.attributes.position.values.length;l+=3)r.attributes.position.values[l]+=s.x,r.attributes.position.values[l+1]+=s.y,r.attributes.position.values[l+2]+=s.z};V.Scene.ArrowPolylinePrimitive=i},_installShadowPrimitive:function(){const i=`ttribute vec3 position;
            uniform mat4 u_modelViewMatrix;
            void main()
            {
            gl_Position = czm_projection* u_modelViewMatrix* vec4(position.xyz,1.0);
            }
            `,n=`uniform vec4 u_bgColor;
            void main()
            {
            gl_FragColor = u_bgColor;
            }
            `;function r(o){o=V.defaultValue(o,V.defaultValue.EMPTY_OBJECT);var s=o.scene;if(!V.defined(s))throw new V.DeveloperError("scene is required.");this._scene=s;var l=s._context;if(!V.defined(l))throw new V.DeveloperError("context is required.");if(!V.defined(o.viewerPosition))throw new V.DeveloperError("this view position is required.");this._viewerPosition=o.viewerPosition,this._positions=void 0,this._indices=void 0,this._drawLineCommand=void 0,this._depthCamera=new V.Camera(s),this._depthCamera.position=this._viewerPosition,this._direction=0,this._pitch=0,this._horizontalFov=V.defaultValue(o.horizontalFov,60),this._verticalFov=V.defaultValue(o.verticalFov,45),this._cameraUpdated=!1,this._targetPoint=this._viewerPosition.clone();var c=new V.Cartesian3(0,0,100),u=V.Transforms.eastNorthUpToFixedFrame(this._viewerPosition);V.Matrix4.multiplyByPoint(u,c,this._targetPoint),this._distance=100,this._cameraUpdated=!1,this._modelMatrix=new V.Matrix4,this._shadowMap=new V.ShadowMap({context:l,enabled:!0,lightCamera:this._depthCamera,cascadesEnabled:!1}),this.show=!0,this._invisiblyColor=V.Color.RED,this._visiblyColor=V.Color.GREEN,this._shadowMap.useCustomColor=!0,this.shadowMap._customColor={invisibly:V.Color.RED,visibly:V.Color.GREEN},this._initialize=function(){this._positions=new Float32Array(633),this._indices=new Uint16Array(408);var d=this._indices,g=0;d[g++]=0,d[g++]=1,d[g++]=0,d[g++]=21,d[g++]=0,d[g++]=85,d[g++]=0,d[g++]=105;for(var x=0,m=0;m<5;++m){x++;for(var v=0;v<20;++v)d[g++]=x++,d[g++]=x}x++;for(var w=0;w<20;++w)for(var p=0;p<5;++p)d[g++]=x,d[g++]=5+x++;this._initialized=!0},this._debugLightFrustum=void 0,this._debugShow=!0}Object.defineProperties(r.prototype,{shadowMap:{get:function(){return this._shadowMap}},debugLightFrustum:{get:function(){return this._debugLightFrustum}},debugShow:{get:function(){return this._debugShow},set:function(o){this.shadowMap.debugShow=o,this._debugShow=o}},invisiblyColor:{get:function(){return this._invisiblyColor},set:function(o){this._invisiblyColor=o;var s=this.shadowMap;s._customColor.invisibly=o}},visiblyColor:{get:function(){return this._visiblyColor},set:function(o){this._visiblyColor=o;var s=this.shadowMap;s._customColor.visibly=o}},viewerPosition:{get:function(){return this._viewerPosition},set:function(o){this._viewerPosition=o,this._cameraUpdated=!1}},direction:{get:function(){return this._direction},set:function(o){this._direction=o,this._cameraUpdated=!1}},pitch:{get:function(){return this._pitch},set:function(o){this._pitch=o,this._cameraUpdated=!1}},horizontalFov:{get:function(){return this._horizontalFov},set:function(o){this._horizontalFov=o,this._cameraUpdated=!1,this._hintLineUpdated=!1}},verticalFov:{get:function(){return this._verticalFov},set:function(o){this._verticalFov=o,this._cameraUpdated=!1,this._hintLineUpdated=!1}},distance:{get:function(){return this._distance},set:function(o){this._distance=o,this._cameraUpdated=!1}}}),r.prototype.setDebugFrustumEffect=function(o,s){if(!!this.debugShow){var l=this.debugLightFrustum._planesPrimitives,c=this.debugLightFrustum._outlinePrimitives;l.forEach(function(u){u.show=o}),c.forEach(function(u){u.show=s})}},r.prototype.update=function(o){if(!!this.show){this._cameraUpdated||(this._updateCamera(),this.debugShow&&(V.defined(this.debugLightFrustum)||(this._debugLightFrustum=new V.DebugCameraPrimitive({camera:this._depthCamera,color:V.Color.YELLOW,updateOnChange:!0}),this.setDebugFrustumEffect(!1,!0))));var s=o.frustumSplits[1];o.frustumSplits[1]=this._distance,this._debugLightFrustum.update(o),o.frustumSplits[1]=s,o.shadowMaps.push(this.shadowMap)}},r.prototype._updateCamera=function(){this._depthCamera.frustum.near=.001*this._distance,this._depthCamera.frustum.far=this._distance,this._depthCamera.frustum.fov=V.Math.toRadians(Math.max(this._horizontalFov,this._verticalFov)),this._depthCamera.frustum.aspectRatio=this._horizontalFov/this._verticalFov,this._depthCamera.setView({destination:this._viewerPosition,orientation:{heading:V.Math.toRadians(this._direction),pitch:V.Math.toRadians(this._pitch)}}),this._modelMatrix=this._depthCamera.inverseViewMatrix,this._cameraUpdated=!0},r.prototype.setPoseByTargetPoint=function(o){this.distance=V.Cartesian3.distance(this._viewerPosition,o);var s=new V.Cartesian3,l=V.Transforms.eastNorthUpToFixedFrame(this._viewerPosition);V.Matrix4.inverse(l,l),V.Matrix4.multiplyByPoint(l,o,s),V.Cartesian3.normalize(s,s),this.direction=V.Math.toDegrees(Math.atan2(s.x,s.y)),this.pitch=V.Math.toDegrees(Math.asin(s.z))},r.prototype._updateHintLine=function(o){var s,l,c,u,d=this._positions,g=V.Math.toRadians(this._horizontalFov),x=V.Math.toRadians(this._verticalFov),m=Math.tan(.5*g),v=Math.tan(.5*x);l=this._distance*m,u=this._distance*v,s=-l,c=-u;var w=new V.Cartesian3(s,c,-this._distance),p=new V.Cartesian3(l,u,0);V.Matrix4.multiplyByPoint(this._modelMatrix,w,w),V.Matrix4.multiplyByPoint(this._modelMatrix,p,p);var C=V.BoundingSphere.fromCornerPoints(w,p);if(o.cullingVolume.computeVisibility(C)===Intersect.OUTSIDE)return void(this._valid=!1);this._valid=!0;var S=0;d[S++]=0,d[S++]=0,d[S++]=0;for(var G,P,I=Math.PI-.5*g,M=g/4,_=0;_<5;++_){G=I+_*M;for(var b=u/(this._distance/Math.cos(G)),A=Math.atan(b),F=-A,T=A/10,Z=0;Z<21;++Z)P=F+Z*T,d[S++]=this._distance*Math.cos(P)*Math.sin(G),d[S++]=this._distance*Math.sin(P),d[S++]=this._distance*Math.cos(P)*Math.cos(G)}M=g/20;for(var W=0;W<21;++W){G=I+W*M;for(var b=u/(this._distance/Math.cos(G)),A=Math.atan(b),F=-A,T=A/2,R=0;R<5;++R)P=F+R*T,d[S++]=this._distance*Math.cos(P)*Math.sin(G),d[S++]=this._distance*Math.sin(P),d[S++]=this._distance*Math.cos(P)*Math.cos(G)}var N=o.context,B=V.Buffer.createIndexBuffer({context:N,typedArray:new Uint32Array(this._indices),usage:V.BufferUsage.STATIC_DRAW,indexDatatype:IndexDatatype.UNSIGNED_INT}),Y=V.Buffer.createVertexBuffer({context:N,typedArray:V.ComponentDatatype.createTypedArray(V.ComponentDatatype.FLOAT,this._positions),usage:V.BufferUsage.STATIC_DRAW}),L=[];L.push({index:0,vertexBuffer:Y,componentDatatype:V.ComponentDatatype.FLOAT,componentsPerAttribute:3,normalize:!1});var J=new V.VertexArray({context:N,attributes:L,indexBuffer:B});if(V.defined(this._drawLineCommand))this._drawLineCommand.vertexArray.destroy(),this._drawLineCommand.vertexArray=J,this._drawLineCommand.modelMatrix=this._modelMatrix,this._drawLineCommand.boundingVolume=C;else{var D=V.ShaderProgram.fromCache({context:N,vertexShaderSource:i,fragmentShaderSource:n}),U=V.RenderState.fromCache({depthTest:{enabled:!0}}),te=this,ne={u_bgColor:function(){return te._lineColor},u_modelViewMatrix:function(){return N.uniformState.modelView}};this._drawLineCommand=new V.DrawCommand({boundingVolume:C,modelMatrix:te._modelMatrix,primitiveType:V.PrimitiveType.LINES,vertexArray:J,shaderProgram:D,castShadows:!1,receiveShadows:!1,uniformMap:ne,renderState:U,pass:V.Pass.OPAQUE})}this._hintLineUpdated=!0},V.Scene.ShadowPrimitive=r},_installPointsPrimitive:function(){function i(n){n&&n.viewer&&n.Cartesians&&(this._vertexShader=this.getVSPolylie(),this._fragmentShader=this.getFSPolyline(),this._geometry=null,this._appearance=null,this._viewer=n.viewer,this.build(n))}i.prototype={build:function(n){if(n.Cartesians&&n.Cartesians.length>=2){var r=[],o=[],s=[];if(n.Colors&&n.Colors.length===n.Cartesians.length*4){for(var l=0;l<n.Cartesians.length;l++)r.push(n.Cartesians[l].x),r.push(n.Cartesians[l].y),r.push(n.Cartesians[l].z);o=n.Colors}else for(var c=0;c<n.Cartesians.length;c++)r.push(n.Cartesians[c].x),r.push(n.Cartesians[c].y),r.push(n.Cartesians[c].z),o.push(0),o.push(0),o.push(1),o.push(1);for(var u=0;u<n.Cartesians.length;u++)s.push(u);this.positionArr=new Float64Array(r),this.colorArr=new Float32Array(o),this.indiceArr=new Uint16Array(s)}else{var d=V.Cartesian3.fromDegrees(0,0,-10),g=V.Cartesian3.fromDegrees(0,.001,-10);this.positionArr=new Float64Array([d.x,d.y,d.z,g.x,g.y,g.z]),this.colorArr=new Float32Array([0,0,1,1,0,0,1,1]),this.indiceArr=new Uint16Array([0,1])}this._geometry=this.createGeometry(this.positionArr,this.colorArr,this.indiceArr),this._appearance=this.createAppearence(this._fragmentShader,this._vertexShader),this.primitive=this._viewer.scene.primitives.add(new V.Primitive({geometryInstances:new V.GeometryInstance({geometry:this._geometry}),appearance:this._appearance,asynchronous:!1}))},getVSPolylie:function(){return"attribute vec3 position3DHigh;                attribute vec3 position3DLow;                attribute vec4 color;                varying vec4 v_color;                attribute float batchId;                void main()                {                    vec4 p = czm_computePosition();                    v_color =color;                    p = czm_modelViewProjectionRelativeToEye * p;                    gl_Position = p;                    gl_PointSize=4.0;                }                "},getFSPolyline:function(){return"varying vec4 v_color;                void main()                {                      float d = distance(gl_PointCoord, vec2(0.5,0.5));                      if(d < 0.5){                        gl_FragColor = v_color;                      }else{                        discard;                      }                }                "},createAppearence:function(n,r){return new V.Appearance({renderState:{blending:V.BlendingState.PRE_MULTIPLIED_ALPHA_BLEND,depthTest:{enabled:!0},depthMask:!0},fragmentShaderSource:n,vertexShaderSource:r})},createGeometry:function(n,r,o){return new V.Geometry({attributes:{position:new V.GeometryAttribute({componentDatatype:V.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:n}),color:new V.GeometryAttribute({componentDatatype:V.ComponentDatatype.FLOAT,componentsPerAttribute:4,values:r})},indices:o,primitiveType:V.PrimitiveType.POINTS,boundingSphere:V.BoundingSphere.fromVertices(n)})},remove:function(){this.primitive!=null&&(this._viewer.scene.primitives.remove(this.primitive),this.primitive=null)},updateCartesianPosition:function(n){if(this.primitive!=null){if(this._viewer.scene.primitives.remove(this.primitive),n&&n.length<2)return;if(n.length===this.positionArr.length/3){var r=n[0],o=n[1];this.positionArr=new Float64Array([r.x,r.y,r.z,o.x,o.y,o.z]),this._geometry=this.createGeometry(this.positionArr,this.colorArr,this.indiceArr)}else{for(var s=[],l=[],c=[],u=0;u<n.length;u++)s.push(n[u].x),s.push(n[u].y),s.push(n[u].z),l.push(0),l.push(0),l.push(1),l.push(1);for(var d=0;d<n.length;d++)c.push(d);this.positionArr=new Float64Array(s),this.colorArr=new Float32Array(l),this.indiceArr=new Uint16Array(c),geometry=this.createGeometry(this.positionArr,this.colorArr,this.indiceArr),appearance=this.createAppearence(this._fragmentShader,this._vertexShader)}this.primitive=this._viewer.scene.primitives.add(new V.Primitive({geometryInstances:new V.GeometryInstance({geometry:this._geometry}),appearance:this._appearance,asynchronous:!1}))}else return},updateCartesianPositionColor:function(n,r){if(r.length===n.length*4)if(this.primitive!=null){if(viewer.scene.primitives.remove(this.primitive),n&&n.length<2)return;if(n.length===this.positionArr.length/3){var o=n[0],s=n[1];this.positionArr=new Float64Array([o.x,o.y,o.z,s.x,s.y,s.z]),this.colorArr=new Float32Array(r),geometry=CreateGeometry(this.positionArr,this.colorArr,this.indiceArr)}else{for(var l=[],c=[],u=0;u<n.length;u++)l.push(n[u].x),l.push(n[u].y),l.push(n[u].z);for(var u=0;u<n.length;u++)c.push(u);this.positionArr=new Float64Array(l),this.colorArr=new Float32Array(r),this.indiceArr=new Uint16Array(c),this._geometry=this.createGeometry(this.positionArr,this.colorArr,this.indiceArr),this._appearance=this.createAppearence(this._fragmentShader,this._vertexShader)}this.primitive=viewer.scene.primitives.add(new V.Primitive({geometryInstances:new V.GeometryInstance({geometry:this._geometry}),appearance:this._appearance,asynchronous:!1}))}else return}},V.Scene.PointsPrimitive=i},_installWaterPrimitive:function(){const i=function(n){this._positions=n.positions,this._url=n.normalMapUrl||"static/data/images/Textures/waterNormals.jpg",this._frequency=n.frequency||1e3,this._animationSpeed=n.animationSpeed||.01,this._amplitude=n.amplitude||10,this._extrudedHeight=n.extrudedHeight||0,this._fs=this.getFS()};i.prototype.build=function(){this._geometry=this._createGeometry(),this._appearance=this._createAppearence(),this.primitive=this._viewer.scene.primitives.add(new V.Primitive({allowPicking:!1,geometryInstances:new V.GeometryInstance({geometry:this._geometry}),appearance:this._appearance,asynchronous:!1}))},i.prototype._createAppearence=function(){return new V.EllipsoidSurfaceAppearance({material:new V.Material({fabric:{type:"Water",uniforms:{normalMap:this._url,frequency:this._frequency,animationSpeed:this._animationSpeed,amplitude:this._amplitude}}}),fragmentShaderSource:this._fs})},i.prototype._createGeometry=function(){return new V.PolygonGeometry({polygonHierarchy:new V.PolygonHierarchy(V.Cartesian3.fromDegreesArrayHeights(this._positions)),extrudedHeight:this._extrudedHeight,perPositionHeight:!0})},i.prototype.getFS=function(){return`varying vec3 v_positionMC;
                varying vec3 v_positionEC;
                varying vec2 v_st;
                
                void main()
                {
                    czm_materialInput materialInput;
                    vec3 normalEC = normalize(czm_normal3D * czm_geodeticSurfaceNormal(v_positionMC, vec3(0.0), vec3(1.0)));
                #ifdef FACE_FORWARD
                    normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);
                #endif
                    materialInput.s = v_st.s;
                    materialInput.st = v_st;
                    materialInput.str = vec3(v_st, 0.0);
                    materialInput.normalEC = normalEC;
                    materialInput.tangentToEyeMatrix = czm_eastNorthUpToEyeCoordinates(v_positionMC, materialInput.normalEC);
                    vec3 positionToEyeEC = -v_positionEC;
                    materialInput.positionToEyeEC = positionToEyeEC;
                    czm_material material = czm_getMaterial(materialInput);
                #ifdef FLAT
                    gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);
                #else
                    gl_FragColor = czm_phong(normalize(positionToEyeEC), material);
                    gl_FragColor.a = 0.5;
                #endif
                }
                `},Mi.prototype.updateDegreesPosition=function(n,r){if(this.primitive!=null){if(this._viewer.scene.primitives.remove(this.primitive),n&&n.length<3)return;var o=this._createGeometry(n,r||0);this.primitive=this._viewer.scene.primitives.add(new V.Primitive({allowPicking:!1,geometryInstances:new V.GeometryInstance({geometry:o}),appearance:this._appearance,asynchronous:!1}))}else return},V.Scene.WaterPrimitive=i},_installTexturePrimitive:function(){function i(n){this._vertexShader=this.getVS(),this._fragmentShader=this.getFS(),this._materialShader=this.getMS(),this._url=n.url,this._cartesians=n.cartesians,this._id=n.id||""}i.prototype.build=function(){for(var n=[],r=[0,0,1,0,1,1,0,1],o=[0,1,2,0,2,3],s=0;s<this._cartesians.length;s++)n.push(this._cartesians[s].x),n.push(this._cartesians[s].y),n.push(this._cartesians[s].z);this._positionArr=new Float32Array(n),this._sts=new Uint8Array(r),this._indiceArr=new Uint16Array(o),this._geometry=this._createGeometry(),this._appearance=this._createAppearence(),this.primitive=this._viewer.scene.primitives.add(new V.Primitive({geometryInstances:new V.GeometryInstance({geometry:this._geometry,id:this._id}),appearance:this._appearance,asynchronous:!1}))},i.prototype._createGeometry=function(){var n=new V.GeometryAttribute({componentDatatype:V.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:this._sts});return new V.Geometry({attributes:{position:new V.GeometryAttribute({componentDatatype:V.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:this._positions}),st:n},indices:this._indices,primitiveType:V.PrimitiveType.TRIANGLES,boundingSphere:V.BoundingSphere.fromVertices(positions)})},i.prototype._createAppearence=function(){return new V.Appearance({material:new V.Material({fabric:{uniforms:{image:this._url},source:this._materialShader}}),aboveGround:!0,faceForward:!0,flat:!0,translucent:!1,renderState:{blending:V.BlendingState.PRE_MULTIPLIED_ALPHA_BLEND,depthTest:{enabled:!0},depthMask:!0},fragmentShaderSource:this._fragmentShader,vertexShaderSource:this._vertexShader})},i.prototype.getVS=function(){return"attribute vec3 position3DHigh;                attribute vec3 position3DLow;                attribute vec2 st;                attribute float batchId;                varying vec2 v_st;                void main()                {                    vec4 p = czm_computePosition();                    v_st=st;                    p = czm_modelViewProjectionRelativeToEye * p;                    gl_Position = p;                }                "},i.prototype.getFS=function(){return"varying vec2 v_st;                void main()                {                    czm_materialInput materialInput;                    czm_material material=czm_getMaterial(materialInput,v_st);                    vec4 color=vec4(material.diffuse + material.emission,material.alpha);                    if(color.x==1.0&&color.y==1.0&&color.z==1.0&&color.w==1.0) color=vec4(vec3(0.0,0.0,0.0),0.0);                    gl_FragColor =color;                }                "},i.prototype.getMS=function(){return"czm_material czm_getMaterial(czm_materialInput materialInput,vec2 v_st)                    {                        vec4 color = texture2D(image, v_st);                        czm_material material = czm_getDefaultMaterial(materialInput);                        material.diffuse= color.rgb;                        material.alpha=color.a;                        return material;                    }                    "},V.Scene.TexturePrimitive=i},_installProbingPrimitive:function(){var i={color:new V.Color(1,0,1,.8),repeat:30,offset:0,thickness:.3,center:V.Cartesian3.fromDegrees(116.39,39.9),length:4e5,bottom:1e3,top:0},n=this._viewer;function r(o){this._viewer=n,this._length=o.length||i.length,this._center=o.center||i.center,this._color=o.color||i.color,this._repeat=o.repeat||i.repeat,this._offset=o.offset||i.offset,this._thickness=o.thickness||i.thickness,this._bottom=o.bottom||i.bottom,this._top=o.top||i.top,this._radar=void 0,this.build()}r.prototype.build=function(){var o=new V.CylinderGeometry({length:this._length,topRadius:this._top,bottomRadius:this._bottom,vertexFormat:V.MaterialAppearance.MaterialSupport.TEXTURED.vertexFormat}),s=new V.GeometryInstance({geometry:o,modelMatrix:this.getModelMatrix()}),l=new V.MaterialAppearance({material:this.getMaterial(),faceForward:!1,closed:!0}),c=this;this._radar=this._viewer.scene.primitives.add(new V.Primitive({geometryInstances:[s],appearance:l})),this._viewer.scene.preUpdate.addEventListener(function(){var u=c._radar.appearance.material.uniforms.offset;u-=.001,u>1&&(u=0),c._radar.appearance.material.uniforms.offset=u})},r.prototype.getModelMatrix=function(){return V.Matrix4.multiplyByTranslation(V.Transforms.eastNorthUpToFixedFrame(this._center),new V.Cartesian3(0,0,this._length*.5),new V.Matrix4)},r.prototype.updateModelMatrix=function(){},r.prototype.getMaterial=function(){var o=`uniform vec4 color; 
            uniform float repeat; 
            uniform float offset; 
            uniform float thickness;

            czm_material czm_getMaterial(czm_materialInput materialInput){
                czm_material material = czm_getDefaultMaterial(materialInput);
                float sp = 1.0/repeat;
                vec2 st = materialInput.st;
                float dis = distance(st, vec2(0.5));
                float m = mod(dis + offset, sp);
                float a = step(sp*(1.0-thickness), m); 

                material.diffuse = color.rgb;
                material.alpha = a * color.a;
                return material;
            }`;return new V.Material({fabric:{type:"radarPrimitive",uniforms:{color:this._color,repeat:this._repeat,offset:this._offset,thickness:this._thickness},source:o},translucent:!1})},r.prototype.remove=function(){this._radar&&this._viewer.scene.primitives.remove(this._radar)},V.Scene.ProbingPrimitive=r}};let ee=null;function Gi(i,n){i&&(ee=n,this._drawLayer=new ee.CustomDataSource("drawLayer"),this.$graphics=new oi(i,n),i&&i.dataSources.add(this._drawLayer))}Gi.prototype={drawPointGraphics:function(i){if(i=i||{},i.style=i.style||{image:"static/data/images/file/location4.png",width:35,height:40,clampToGround:!0,scale:1,pixelOffset:new ee.Cartesian2(0,-20)},this._viewer&&i){var n=new ee.Entity,r,o=[],s,l=this,c=new ee.ScreenSpaceEventHandler(this._viewer.scene.canvas);c.setInputAction(function(u){var d=l._viewer.scene.camera.pickEllipsoid(u.position,l._viewer.scene.globe.ellipsoid);d&&d.x&&(r=d,o.push(d))},ee.ScreenSpaceEventType.LEFT_CLICK),c.setInputAction(function(u){c.destroy(),c=null,typeof i.callback=="function"&&i.callback(l.transformCartesianArrayToWGS84Array(o),s)},ee.ScreenSpaceEventType.RIGHT_CLICK),n.billboard=i.style,n.position=new ee.CallbackProperty(function(){return r},!1),s=this._drawLayer.entities.add(n)}},drawLineGraphics:function(i){if(i=i||{},this._viewer&&i){var n=[],r=new ee.Entity,o=this,s,l=new ee.ScreenSpaceEventHandler(this._viewer.scene.canvas);l.setInputAction(function(u){var d=o.getCatesian3FromPX(u.position);d&&d.x&&(n.length==0&&n.push(d.clone()),i.measure&&c(d),n.length==2&&i.type==="straightLine"&&(l.destroy(),l=null,typeof i.callback=="function"&&i.callback(o.transformCartesianArrayToWGS84Array(n),s)),n.push(d))},ee.ScreenSpaceEventType.LEFT_CLICK),l.setInputAction(function(u){var d=o.getCatesian3FromPX(u.endPosition);n.length>=2&&d&&d.x&&(n.pop(),n.push(d))},ee.ScreenSpaceEventType.MOUSE_MOVE),l.setInputAction(function(u){l.destroy(),l=null;var d=o.getCatesian3FromPX(u.position);i.measure&&c(d),typeof i.callback=="function"&&i.callback(o.transformCartesianArrayToWGS84Array(n),s)},ee.ScreenSpaceEventType.RIGHT_CLICK),r.polyline={width:i.width||5,material:i.material||ee.Color.BLUE.withAlpha(.8),clampToGround:i.clampToGround||!1,clampToS3M:i.clampToS3M||!1},r.polyline.positions=new ee.CallbackProperty(function(){return n},!1),s=this._drawLayer.entities.add(r);const c=function(u){var d=new ee.Entity;d.position=u,d.point={pixelSize:10,outlineColor:ee.Color.BLUE,outlineWidth:5},d.label={text:(o.getPositionDistance(o.transformCartesianArrayToWGS84Array(n))/1e3).toFixed(4)+"\u516C\u91CC",show:!0,showBackground:!0,font:"14px monospace",horizontalOrigin:ee.HorizontalOrigin.LEFT,verticalOrigin:ee.VerticalOrigin.BOTTOM,pixelOffset:new ee.Cartesian2(-20,-80)},o._drawLayer.entities.add(d)}}},drawPolygonGraphics:function(i){if(i=i||{},i.style=i.style||{width:3,material:ee.Color.BLUE.withAlpha(.8),clampToGround:!0},this._viewer&&i){var n=[],r=new ee.PolygonHierarchy,o=new ee.Entity,s=this,l=null,c=new ee.ScreenSpaceEventHandler(this._viewer.scene.canvas);const u=function(){o.polyline=i.style,o.polyline.positions=new ee.CallbackProperty(function(){return n},!1),o.polygon={hierarchy:new ee.CallbackProperty(function(){return r},!1),material:ee.Color.WHITE.withAlpha(.1),clampToGround:i.clampToGround||!1},o.clampToS3M=!0,l=s._drawLayer.entities.add(o)},d=function(g){var x=new ee.Entity;x.position=g,x.point={pixelSize:10,outlineColor:ee.Color.BLUE,outlineWidth:5},x.label={text:(s.getPositionsArea(s.transformCartesianArrayToWGS84Array(n))/1e6).toFixed(4)+"\u5E73\u65B9\u516C\u91CC",show:!0,showBackground:!0,font:"14px monospace",horizontalOrigin:ee.HorizontalOrigin.LEFT,verticalOrigin:ee.VerticalOrigin.BOTTOM,pixelOffset:new ee.Cartesian2(-20,-50)},s._drawLayer.entities.add(x)};c.setInputAction(function(g){var x=s.getCatesian3FromPX(g.position);x&&x.x&&(n.length==0&&(r.positions.push(x.clone()),n.push(x.clone())),n.push(x.clone()),r.positions.push(x.clone()),l||u())},ee.ScreenSpaceEventType.LEFT_CLICK),c.setInputAction(function(g){var x=s.getCatesian3FromPX(g.endPosition);n.length>=2&&x&&x.x&&(n.pop(),n.push(x),r.positions.pop(),r.positions.push(x))},ee.ScreenSpaceEventType.MOUSE_MOVE),c.setInputAction(function(){c.destroy(),n.push(n[0]),i.height&&(o.polygon.extrudedHeight=i.height,o.polygon.material=ee.Color.BLUE.withAlpha(.5)),i.measure&&d(n[0]),typeof i.callback=="function"&&i.callback(s.transformCartesianArrayToWGS84Array(n),l)},ee.ScreenSpaceEventType.RIGHT_CLICK)}},drawRectangleGraphics:function(i){if(i=i||{},i.style=i.style||{width:3,material:ee.Color.BLUE.withAlpha(.5),clampToGround:!0},this._viewer&&i){var n=[],r=new ee.Entity,o=new ee.Rectangle,s=this,l,c=new ee.ScreenSpaceEventHandler(this._viewer.scene.canvas);c.setInputAction(function(u){var d=s.getCatesian3FromPX(u.position);d&&d.x&&(n.length==0?n.push(d.clone()):(c.destroy(),n.push(d.clone()),o=ee.Rectangle.fromCartesianArray([...n,d],ee.Ellipsoid.WGS84),typeof i.callback=="function"&&i.callback(s.transformCartesianArrayToWGS84Array(n),l)))},ee.ScreenSpaceEventType.LEFT_CLICK),c.setInputAction(function(u){var d=s.getCatesian3FromPX(u.endPosition);d&&(o=ee.Rectangle.fromCartesianArray([...n,d],ee.Ellipsoid.WGS84))},ee.ScreenSpaceEventType.MOUSE_MOVE),r.rectangle=i.style,i.height&&(r.rectangle.extrudedHeight=i.height),r.rectangle.coordinates=new ee.CallbackProperty(function(){return o},!1),l=this._drawLayer.entities.add(r)}},drawCircleGraphics:function(i){if(i=i||{},i.style=i.style||{width:3,material:ee.Color.BLUE.withAlpha(.5),clampToGround:!0},this._viewer&&i){var n=void 0,r=new ee.Entity,o=this,s,l=1,c=new ee.ScreenSpaceEventHandler(this._viewer.scene.canvas);const u=function(g,x){let m=ee.Cartographic.fromCartesian(g),v=ee.Cartographic.fromCartesian(x),w=new ee.EllipsoidGeodesic;w.setEndPoints(m,v);let p=w.surfaceDistance;l=Math.sqrt(Math.pow(p,2)+Math.pow(v.height-m.height,2))},d=function(){r.ellipse=i.style,r.ellipse.semiMajorAxis=new ee.CallbackProperty(function(){return l},!1),r.ellipse.semiMinorAxis=new ee.CallbackProperty(function(){return l},!1),r.position=new ee.CallbackProperty(function(){return n},!1),r.point={pixelSize:5,outlineColor:ee.Color.RED,outlineWidth:3},i.height&&(r.ellipse.extrudedHeight=i.height),s=o._drawLayer.entities.add(r)};c.setInputAction(function(g){var x=o.getCatesian3FromPX(g.position);x&&x.x&&(n?(u(n,x),c.destroy(),typeof i.callback=="function"&&i.callback({center:n,radius:l},s)):(n=x,d()))},ee.ScreenSpaceEventType.LEFT_CLICK),c.setInputAction(function(g){var x=o._viewer.scene.camera.pickEllipsoid(g.endPosition,o._viewer.scene.globe.ellipsoid);n&&x&&x.x&&u(n,x)},ee.ScreenSpaceEventType.MOUSE_MOVE)}},drawTrianglesGraphics:function(i){if(i=i||{},i.style=i.style||{width:3,material:ee.Color.BLUE.withAlpha(.5)},this._viewer&&i){var n=new ee.Entity,r=new ee.Entity,o=new ee.Entity,s=[],l=[],c=[],u=this,d=new ee.ScreenSpaceEventHandler(this._viewer.scene.canvas);const g=function(m,v){if(!m&&!v||ee.Cartesian3.equals(m,v))return 0;let w=ee.Cartographic.fromCartesian(m);return(ee.Cartographic.fromCartesian(v).height-w.height).toFixed(2)},x=function(m){let v=ee.Cartographic.fromCartesian(m[0]),w=ee.Cartographic.fromCartesian(m[1]);return ee.Cartesian3.fromDegrees(ee.Math.toDegrees(v.longitude),ee.Math.toDegrees(v.latitude),w.height)};d.setInputAction(function(m){var v=u.getCatesian3FromPX(m.position);if(!v)return!1;s.length==0?(s.push(v.clone()),s.push(v.clone()),l.push(v.clone()),l.push(v.clone())):(d.destroy(),typeof i.callback=="function"&&i.callback({e:n,e2:r,e3:o}))},ee.ScreenSpaceEventType.LEFT_CLICK),d.setInputAction(function(m){var v=u.getCatesian3FromPX(m.endPosition);if(v&&s.length>0){s.pop(),s.push(v.clone());let w=x(s);l.pop(),l.push(w.clone()),c.pop(),c.pop(),c.push(v.clone()),c.push(w.clone())}},ee.ScreenSpaceEventType.MOUSE_MOVE),n.polyline=Fe({positions:new ee.CallbackProperty(function(){return s},!1)},i.style),n.position=new ee.CallbackProperty(function(){return s[0]},!1),n.point={pixelSize:5,outlineColor:ee.Color.BLUE,outlineWidth:5},n.label={text:new ee.CallbackProperty(function(){return"\u76F4\u7EBF:"+u.getPositionDistance(u.transformCartesianArrayToWGS84Array(s))+"\u7C73"},!1),show:!0,showBackground:!0,font:"14px monospace",horizontalOrigin:ee.HorizontalOrigin.LEFT,verticalOrigin:ee.VerticalOrigin.BOTTOM,pixelOffset:new ee.Cartesian2(50,-100)},r.polyline=Fe({positions:new ee.CallbackProperty(function(){return l},!1)},i.style),r.position=new ee.CallbackProperty(function(){return c[1]},!1),r.point={pixelSize:5,outlineColor:ee.Color.BLUE,outlineWidth:5},r.label={text:new ee.CallbackProperty(function(){return"\u9AD8\u5EA6:"+g(l[0],l[1])+"\u7C73"},!1),show:!0,showBackground:!0,font:"14px monospace",horizontalOrigin:ee.HorizontalOrigin.LEFT,verticalOrigin:ee.VerticalOrigin.BOTTOM,pixelOffset:new ee.Cartesian2(-20,100)},o.polyline=Fe({positions:new ee.CallbackProperty(function(){return c},!1)},i.style),o.position=new ee.CallbackProperty(function(){return s[1]},!1),o.point={pixelSize:5,outlineColor:ee.Color.BLUE,outlineWidth:5},o.label={text:new ee.CallbackProperty(function(){return"\u6C34\u5E73\u8DDD\u79BB:"+u.getPositionDistance(u.transformCartesianArrayToWGS84Array(c))+"\u7C73"},!1),show:!0,showBackground:!0,font:"14px monospace",horizontalOrigin:ee.HorizontalOrigin.LEFT,verticalOrigin:ee.VerticalOrigin.BOTTOM,pixelOffset:new ee.Cartesian2(-150,-20)},this._drawLayer.entities.add(o),this._drawLayer.entities.add(r),this._drawLayer.entities.add(n)}},drawWallGraphics:function(i){if(i=i||{},i.style=i.style||{material:ee.Color.BLUE.withAlpha(.5),outline:!0,outlineColor:ee.Color.WHITE},this._viewer&&i){var n=this;this.drawPolygonGraphics({callback:function(r,o){var s=n._drawLayer.entities.add({wall:Fe({positions:n.transformWGS84ArrayToCartesianArray(r)},i.style)});typeof i.callback=="function"&&i.callback(r,s)}})}},drawEllipsoidGraphics:function(i){if(i=i||{},i.style=i.style||{},this._viewer&&i){var n=this;this.drawCircleGraphics({callback:function(r,o){var s=n.createGraphics();s.ellipsoid=n.$graphics.getEllipsoidGraphics({radii:r.radius}),s.position=r.center,n._drawLayer.entities.remove(o);var l=n._drawLayer.entities.add(s);typeof i.callback=="function"&&i.callback({center:r.center,radius:r.radius},l)}})}},drawCylinderGraphics:function(i){if(i=i||{},i.style=i.style||{},this._viewer&&i){var n=this;this.drawCircleGraphics({callback:function(r,o){var s=n._drawLayer.entities.add({position:r.center,cylinder:{length:r.radius*2||i.length,topRadius:i.topRadius||r.radius,bottomRadius:i.bottomRadius||r.radius,material:ee.Color.BLUE.withAlpha(.5),outline:!0,outlineColor:ee.Color.WHITE}});n._drawLayer.entities.remove(o),typeof i.callback=="function"&&i.callback({center:r.center,radius:r.radius},s)}})}},drawCorridorGraphics:function(i){if(i=i||{},i.style=i.style||{},this._viewer&&i){var n=this;n.drawLineGraphics({callback:function(r,o){var s=n.createGraphics();s.corridor={positions:n.transformWGS84ArrayToCartesianArray(r),height:i.height||1,width:i.width||100,cornerType:ee.CornerType.BEVELED,extrudedHeight:i.extrudedHeight||1,material:ee.Color.BLUE.withAlpha(.5),outline:!0,outlineColor:ee.Color.WHITE},n._drawLayer.entities.remove(o);var l=n._drawLayer.entities.add(s);typeof i.callback=="function"&&i.callback(r,l)}})}},drawPolylineVolumeGraphics:function(i){i=i||{},i.style=i.style||{};const n=i.circleRadius||20,r=i.arms||7,o=i.rOuter||150,s=i.rInner||75;if(this._viewer&&i){var l=this;l.drawLineGraphics({callback:function(c,u){var d=l.createGraphics();let g=i.shape==="fivePoint"?l.computeStar2d(r,o,s):l.computeCircleShap(n);d.polylineVolume={positions:l.transformWGS84ArrayToCartesianArray(c),shape:g,cornerType:ee.CornerType.MITERED,material:i.color||ee.Color.RED},l._drawLayer.entities.remove(u);var x=l._drawLayer.entities.add(d);typeof i.callback=="function"&&i.callback(c,x)}})}}};let li={};function fa(i,n){i&&(this._viewer=i,li=n)}fa.prototype={mathDistance2d:function(i,n){return Math.sqrt(Math.pow(i[0]-n[0],2)+Math.pow(i[1]-n[1],2))},getCirclePoints2d:function(i,n,r,o){for(var s=[],l=Math.PI/180*Math.round(360/o),c=0;c<o;c++){var u=n+i*Math.sin(l*c),d=r+i*Math.cos(l*c);s.unshift({x:u,y:d})}return s},wholeDistance2d:function(i){let n=0;return i&&Array.isArray(i)&&i.length>0&&i.forEach((r,o)=>{o<i.length-1&&(n+=this.mathDistance2d(r,i[o+1]))}),n},getBaseLength2d:function(i){return Math.pow(this.wholeDistance2d(i),.99)},computeStar2d(i,n,r){for(var o=Math.PI/i,s=2*i,l=new Array(s),c=0;c<s;c++){var u=c%2==0?n:r;l[c]=new li.Cartesian2(Math.cos(c*o)*u,Math.sin(c*o)*u)}return l},computeCircleShap(i){let n=[];for(let r=0;r<360;r++){let o=li.Math.toRadians(r);n.push(new li.Cartesian2(i*Math.cos(o),i*Math.sin(o)))}return n},mid2d:function(i,n){return[(i[0]+n[0])/2,(i[1]+n[1])/2]},getCircleCenterOfThreePoints2d:function(i,n,r){let o=[(i[0]+n[0])/2,(i[1]+n[1])/2],s=[o[0]-i[1]+n[1],o[1]+i[0]-n[0]],l=[(i[0]+r[0])/2,(i[1]+r[1])/2],c=[l[0]-i[1]+r[1],l[1]+i[0]-r[0]];return this.getIntersectPoint2d(o,s,l,c)},getIntersectPoint2d:function(i,n,r,o){if(i[1]===n[1]){let g=(o[0]-r[0])/(o[1]-r[1])*(i[1]-r[1])+r[0],x=i[1];return[g,x]}if(r[1]===o[1]){let g=(n[0]-i[0])/(n[1]-i[1])*(r[1]-i[1])+i[0],x=r[1];return[g,x]}let s=(n[0]-i[0])/(n[1]-i[1]),l=(o[0]-r[0])/(o[1]-r[1]),c=(s*i[1]-i[0]-l*r[1]+r[0])/(s-l);return[s*c-s*i[1]+i[0],c]},getAzimuth2d:function(i,n){let r,o=Math.asin(Math.abs(n[1]-i[1])/this.mathDistance2d(i,n));return n[1]>=i[1]&&n[0]>=i[0]?r=o+Math.PI:n[1]>=i[1]&&n[0]<i[0]?r=Math.PI*2-o:n[1]<i[1]&&n[0]<i[0]?r=o:n[1]<i[1]&&n[0]>=i[0]&&(r=Math.PI-o),r},getAngleOfThreePoints2d:function(i,n,r){let o=this.getAzimuth2d(n,i)-this.getAzimuth2d(n,r);return o<0?o+Math.PI*2:o},isClockWise2d:function(i,n,r){return(r[1]-i[1])*(n[0]-i[0])>(n[1]-i[1])*(r[0]-i[0])},getPointOnLine2d:function(i,n,r){let o=n[0]+i*(r[0]-n[0]),s=n[1]+i*(r[1]-n[1]);return[o,s]},getCubicValue2d:function(i,n,r,o,s){i=Math.max(Math.min(i,1),0);let[l,c]=[1-i,i*i],u=c*i,d=l*l,g=d*l,x=g*n[0]+3*d*i*r[0]+3*l*c*o[0]+u*s[0],m=g*n[1]+3*d*i*r[1]+3*l*c*o[1]+u*s[1];return[x,m]},getThirdPoint2d:function(i,n,r,o,s){let l=this.getAzimuth2d(i,n),c=s?l+r:l-r,u=o*Math.cos(c),d=o*Math.sin(c);return[n[0]+u,n[1]+d]},inherits2d:function(i,n){function r(){}r.prototype=n.prototype,i.superClass_=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.base=function(o,s,l){let c=Array.prototype.slice.call(arguments,2);return n.prototype[s].apply(o,c)}},getArcPoints2d:function(i,n,r,o){let[s,l,c,u]=[null,null,[],o-r];u=u<0?u+Math.PI*2:u;for(let d=0;d<=100;d++){let g=r+u*d/100;s=i[0]+n*Math.cos(g),l=i[1]+n*Math.sin(g),c.push([s,l])}return c},getBisectorNormals2d:function(i,n,r,o){let s=this.getNormal2d(n,r,o),[l,c,u,d,g]=[null,null,null,null,null],x=Math.sqrt(s[0]*s[0]+s[1]*s[1]),m=s[0]/x,v=s[1]/x,w=this.mathDistance2d(n,r),p=this.mathDistance2d(r,o);return x>1e-4?this.isClockWise(n,r,o)?(u=i*w,d=r[0]-u*v,g=r[1]+u*m,l=[d,g],u=i*p,d=r[0]+u*v,g=r[1]-u*m,c=[d,g]):(u=i*w,d=r[0]+u*v,g=r[1]-u*m,l=[d,g],u=i*p,d=r[0]-u*v,g=r[1]+u*m,c=[d,g]):(d=r[0]+i*(n[0]-r[0]),g=r[1]+i*(n[1]-r[1]),l=[d,g],d=r[0]+i*(o[0]-r[0]),g=r[1]+i*(o[1]-r[1]),c=[d,g]),[l,c]},getNormal2d:function(i,n,r){let o=i[0]-n[0],s=i[1]-n[1],l=Math.sqrt(o*o+s*s);o/=l,s/=l;let c=r[0]-n[0],u=r[1]-n[1],d=Math.sqrt(c*c+u*u);c/=d,u/=d;let g=o+c,x=s+u;return[g,x]},getLeftMostControlPoint2d:function(i,n){let[r,o,s,l,c]=[i[0],i[1],i[2],null,null],d=this.getBisectorNormals2d(0,r,o,s)[0],g=this.getNormal2d(r,o,s);if(Math.sqrt(g[0]*g[0]+g[1]*g[1])>1e-4){let m=this.mid2d(r,o),v=r[0]-m[0],w=r[1]-m[1],p=this.mathDistance2d(r,o),C=2/p,S=-C*w,G=C*v,P=S*S-G*G,I=2*S*G,M=G*G-S*S,_=d[0]-m[0],b=d[1]-m[1];l=m[0]+P*_+I*b,c=m[1]+I*_+M*b}else l=r[0]+n*(o[0]-r[0]),c=r[1]+n*(o[1]-r[1]);return[l,c]},getRightMostControlPoint2d:function(i,n){let r=i.length,o=i[r-3],s=i[r-2],l=i[r-1],u=this.getBisectorNormals2d(0,o,s,l)[1],d=this.getNormal2d(o,s,l),g=Math.sqrt(d[0]*d[0]+d[1]*d[1]),[x,m]=[null,null];if(g>1e-4){let v=this.mid2d(s,l),w=l[0]-v[0],p=l[1]-v[1],C=this.mathDistance2d(s,l),S=2/C,G=-S*p,P=S*w,I=G*G-P*P,M=2*G*P,_=P*P-G*G,b=u[0]-v[0],A=u[1]-v[1];x=v[0]+I*b+M*A,m=v[1]+M*b+_*A}else x=l[0]+n*(s[0]-l[0]),m=l[1]+n*(s[1]-l[1]);return[x,m]},getCurvePoints2d:function(i,n){let r=this.getLeftMostControlPoint2d(n,i),[o,s,l,c,u]=[null,null,null,[r],[]];for(let g=0;g<n.length-2;g++){[o,s,l]=[n[g],n[g+1],n[g+2]];let x=this.getBisectorNormals2d(i,o,s,l);c=c.concat(x)}let d=this.getRightMostControlPoint2d(n,i);d&&c.push(d);for(let g=0;g<n.length-1;g++){o=n[g],s=n[g+1],u.push(o);for(let x=0;x<100;x++){let m=this.getCubicValue2d(x/100,o,c[g*2],c[g*2+1],s);u.push(m)}u.push(s)}return u},getBezierPoints2d:function(i){if(i.length<=2)return i;{let n=[],r=i.length-1;for(let o=0;o<=1;o+=.01){let[s,l]=[0,0];for(let c=0;c<=r;c++){let u=this.getBinomialFactor2d(r,c),d=Math.pow(o,c),g=Math.pow(1-o,r-c);s+=u*d*g*i[c][0],l+=u*d*g*i[c][1]}n.push([s,l])}return n.push(i[r]),n}},getFactorial2d:function(i){let n=1;switch(i){case i<=1:n=1;break;case i===2:n=2;break;case i===3:n=6;break;case i===24:n=24;break;case i===5:n=120;break;default:for(let r=1;r<=i;r++)n*=r;break}return n},getBinomialFactor2d:function(i,n){return this.getFactorial2d(i)/(this.getFactorial2d(n)*this.getFactorial2d(i-n))},getQBSplinePoints2d:function(i){if(i.length<=2)return i;{let[n,r]=[2,[]],o=i.length-n-1;r.push(i[0]);for(let s=0;s<=o;s++)for(let l=0;l<=1;l+=.05){let[c,u]=[0,0];for(let d=0;d<=n;d++){let g=this.getQuadricBSplineFactor2d(d,l);c+=g*i[s+d][0],u+=g*i[s+d][1]}r.push([c,u])}return r.push(i[i.length-1]),r}},getQuadricBSplineFactor2d:function(i,n){let r=0;return i===0?r=Math.pow(n-1,2)/2:i===1?r=(-2*Math.pow(n,2)+2*n+1)/2:i===2&&(r=Math.pow(n,2)/2),r}};let Ge=null;function xa(i,n){i&&(this._viewer=i,Ge=n)}xa.prototype={setCircleScanEffect:function(i){if(i&&i.position){var n=i.id||"CircleScan"+parseInt(Math.random()*1e3),r=i.position,o=i.radius,s=i.color||Ge.Color.RED,l=i.duration||1500,c=this,u=i.circleMode||"CircleScan",d=i.border||4,g=r,x=new Ge.Cartesian4(g.x,g.y,g.z,1),m=this.transformCartesianToWGS84(r),v=this.transformWGS84ToCartesian({lng:m.lng,lat:m.lat,alt:m.alt+500}),w=new Ge.Cartesian4(v.x,v.y,v.z,1),p=new Date().getTime(),C=new Ge.PostProcessStage({name:n,fragmentShader:this._getCircleScanShader({get:!0,border:d}),uniforms:{u_scanCenterEC:function(){return Ge.Matrix4.multiplyByVector(c._viewer.camera._viewMatrix,x,new Ge.Cartesian4)},u_scanPlaneNormalEC:function(){var S=Ge.Matrix4.multiplyByVector(c._viewer.camera._viewMatrix,x,new Ge.Cartesian4),G=Ge.Matrix4.multiplyByVector(c._viewer.camera._viewMatrix,w,new Ge.Cartesian4),P=new Ge.Cartesian3;return P.x=G.x-S.x,P.y=G.y-S.y,P.z=G.z-S.z,Ge.Cartesian3.normalize(P,P),P},u_radius:function(){return u=="CircleScan"?o*((new Date().getTime()-p)%l)/l:o},u_scanColor:s}});return this._viewer.scene.postProcessStages.add(C),C}},setRadarScanEffect:function(i){if(i&&i.position){var n=i.id||"radarScan"+parseInt(Math.random()*1e3),r=i.position,o=i.radius,s=i.color||Ge.Color.RED,l=i.duration||1500,c=this,u=i.border||1,d=i.width||3,g=r,x=new Ge.Cartesian4(g.x,g.y,g.z,1),m=this.transformCartesianToWGS84(r),v=this.transformWGS84ToCartesian({lng:m.lng,lat:m.lat,alt:m.alt+500}),w=new Ge.Cartesian4(v.x,v.y,v.z,1),p=this.transformWGS84ToCartesian({lng:m.lng+.001,lat:m.lat,alt:m.alt}),C=new Ge.Cartesian4(p.x,p.y,p.z,1),S=new Date().getTime(),G=new Ge.Quaternion,P=new Ge.Matrix3,I=new Ge.Cartesian4,M=new Ge.Cartesian4,_=new Ge.Cartesian4,b=new Ge.Cartesian3,A=new Ge.Cartesian3,F=new Ge.PostProcessStage({name:n,fragmentShader:this._getRadarScanShader({border:u,width:d,get:!0}),uniforms:{u_scanCenterEC:function(){return Ge.Matrix4.multiplyByVector(c._viewer.camera._viewMatrix,x,I)},u_scanPlaneNormalEC:function(){var T=Ge.Matrix4.multiplyByVector(c._viewer.camera._viewMatrix,x,I),Z=Ge.Matrix4.multiplyByVector(c._viewer.camera._viewMatrix,w,M);return b.x=Z.x-T.x,b.y=Z.y-T.y,b.z=Z.z-T.z,Ge.Cartesian3.normalize(b,b),b},u_scanLineNormalEC:function(){var T=Ge.Matrix4.multiplyByVector(c._viewer.camera._viewMatrix,x,I),Z=Ge.Matrix4.multiplyByVector(c._viewer.camera._viewMatrix,w,M),W=Ge.Matrix4.multiplyByVector(c._viewer.camera._viewMatrix,C,_);b.x=Z.x-T.x,b.y=Z.y-T.y,b.z=Z.z-T.z,Ge.Cartesian3.normalize(b,b),A.x=W.x-T.x,A.y=W.y-T.y,A.z=W.z-T.z;var R=(new Date().getTime()-S)%l/l;return Ge.Quaternion.fromAxisAngle(b,R*Ge.Math.PI*2,G),Ge.Matrix3.fromQuaternion(G,P),Ge.Matrix3.multiplyByVector(P,A,A),Ge.Cartesian3.normalize(A,A),A},u_radius:o,u_scanColor:s}});return this._viewer.scene.postProcessStages.add(F),F}}};var va=["RGVwdGhGdW5jdGlvbg==","TEVTUw==","Q3VsbEZhY2U=","QkFDSw==","dW5pZm9ybU1hcA==","cHJvamVjdGlvbk1hdHJpeA==","dW5pZm9ybVN0YXRl","cHJvamVjdGlvbg==","bW9kZWxWaWV3TWF0cml4","bW9kZWxWaWV3","c2hpbmluZXNz","ZW1pc3Npb24=","c3BlY3VsYXI=","aXNMaW5l","cGlja2Vk","cGlja2VkQ29sb3I=","bm9ybWFsTWF0cml4","Z2xvd1Bvd2Vy","ZXh0ZW5kMkNhcnRlc2lhbkFycmF5","UmFkYXJQcmltaXRpdmU=","X2FuZ2xl","YW5nbGU=","X3JhZGl1cw==","X3RvcFNob3c=","dG9w","X3RvcE91dGxpbmU=","dG9wT3V0bGluZQ==","dXBkYXRlR3JvdW5kQ2lyY2xlUmFkaXVz","X2dyb3VuZF9yYWRpdXM=","X3RyYWNrZWRFbnRpdHlQb3NpdGlvbg==","ZGlzdGFuY2U=","UG9seWxpbmVEYXNoTWF0ZXJpYWxQcm9wZXJ0eQ==","Q1lBTg==","bWF0cml4","Z2V0SGVhZGluZ1BpdGNoUm9sbEZvckxpbmU=","Z2V0VG9wR2VvbWV0cnk=","Z2V0VG9wT3V0bGluZUdlb21ldHJ5","X3RvcEdlb21ldHJ5","X3RvcE91dGxpbmVHZW9tZXRyeQ==","ZWxsaXBzZQ==","CnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOwp2YXJ5aW5nIHZlYzMgdl9ub3JtYWw7CnVuaWZvcm0gZmxvYXQgcGlja2VkOwp1bmlmb3JtIHZlYzQgIHBpY2tlZENvbG9yOwp1bmlmb3JtIHZlYzQgIGRlZmF1bHRDb2xvcjsKdW5pZm9ybSBmbG9hdCBzcGVjdWxhcjsKdW5pZm9ybSBmbG9hdCBzaGluaW5lc3M7CnVuaWZvcm0gdmVjMyAgZW1pc3Npb247CnZhcnlpbmcgdmVjMiB2X3N0Owp1bmlmb3JtIGJvb2wgaXNMaW5lOwp1bmlmb3JtIGZsb2F0IGdsb3dQb3dlcjsKdm9pZCBtYWluKCkgewogICAgdmVjMyBwb3NpdGlvblRvRXllRUM9IC12X3Bvc2l0aW9uOyAKICAgIHZlYzMgbm9ybWFsRUMgPW5vcm1hbGl6ZSh2X25vcm1hbCk7CiAgICB2ZWM0IGNvbG9yPWRlZmF1bHRDb2xvcjsKICAgIGlmKHBpY2tlZCE9MC4wKXsKICAgICAgICBjb2xvciA9IHBpY2tlZENvbG9yOwogICAgfQogICAgLy9pZih2X3N0Lng8MC41KXsKICAgIC8vICAgIGNvbG9yLmEgPTAuNzUtdl9zdC54OyAKICAgIC8vfQogICAgLy9lbHNlICB7CiAgICAvLyAgICBjb2xvci5hID12X3N0LngtMC4yNTsgCiAgICAvL30KICAgIGN6bV9tYXRlcmlhbCBtYXRlcmlhbDsKICAgIG1hdGVyaWFsLnNwZWN1bGFyID0gc3BlY3VsYXI7CiAgICBtYXRlcmlhbC5zaGluaW5lc3MgPSBzaGluaW5lc3M7CiAgICBtYXRlcmlhbC5ub3JtYWwgPSAgbm9ybWFsRUM7CiAgICBtYXRlcmlhbC5lbWlzc2lvbiA9ZW1pc3Npb247Ly92ZWMzKDAuMiwwLjIsMC4yKTsKICAgIG1hdGVyaWFsLmRpZmZ1c2UgPSBjb2xvci5yZ2IgOwogICAgaWYoaXNMaW5lKXsKICAgICAgICBtYXRlcmlhbC5hbHBoYSA9IDEuMDsgCiAgICB9CiAgICBlbHNlewogICAgICAgIG1hdGVyaWFsLmFscGhhID0gIGNvbG9yLmE7IAogICAgfQogICAgICAgIC8vZmxvYXQgZ2xvdyA9IGdsb3dQb3dlciAvIGFicyh2X3N0LnQgICkgLSAoZ2xvd1Bvd2VyIC8gMC41KTsgCiAgICAgICAgLy8gCiAgICAgICAgLy9tYXRlcmlhbC5lbWlzc2lvbiA9IG1heCh2ZWMzKGdsb3cgLSAxLjAgKyBjb2xvci5yZ2IpLCBjb2xvci5yZ2IpOyAKICAgICAgICAvL2lmKGlzTGluZSkKICAgICAgICAvLyAgICBtYXRlcmlhbC5hbHBoYSA9IGNsYW1wKDAuMCwgMS4wLCBnbG93KSAqIGNvbG9yLmE7IAogICAgICAgICAKICAgIGlmKHZfc3QueD09MC4wKXsgCiAgICAgICAgICBnbF9GcmFnQ29sb3IgPWNvbG9yIDsKICAgIH1lbHNlIHsgCiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gY3ptX3Bob25nKG5vcm1hbGl6ZShwb3NpdGlvblRvRXllRUMpLCBtYXRlcmlhbCxjem1fbGlnaHREaXJlY3Rpb25FQykgOyAKICAgIH0gCn0=","CiNpZmRlZiBHTF9FUwogICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CiNlbmRpZgoKYXR0cmlidXRlIHZlYzMgcG9zaXRpb247CmF0dHJpYnV0ZSB2ZWMyIHN0OwphdHRyaWJ1dGUgdmVjMyBub3JtYWw7CnVuaWZvcm0gbWF0NCBtb2RlbFZpZXdNYXRyaXg7CnVuaWZvcm0gbWF0MyBub3JtYWxNYXRyaXg7CnVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uTWF0cml4Owp2YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjsKdmFyeWluZyB2ZWMzIHZfbm9ybWFsOwp2YXJ5aW5nIHZlYzIgdl9zdDsKCnZhcnlpbmcgdmVjMyB2X2xpZ2h0MERpcmVjdGlvbjsKCnZvaWQgbWFpbih2b2lkKSAKewogICAgdmVjNCBwb3MgPSAgbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sMS4wKTsKICAgIHZfbm9ybWFsID0gIG5vcm1hbE1hdHJpeCAqICBub3JtYWw7CiAgICB2X3N0ID0gc3Q7CiAgICB2X3Bvc2l0aW9uID0gcG9zLnh5ejsKICAgIHZfbGlnaHQwRGlyZWN0aW9uID0gbWF0MyggbW9kZWxWaWV3TWF0cml4KSAqIHZlYzMoMS4wLDEuMCwxLjApOwogICAgZ2xfUG9zaXRpb24gPSAgcHJvamVjdGlvbk1hdHJpeCAqIHBvczsKfQ==","VFJBTlNMVUNFTlQ=","TElORV9TVFJJUA==","UmVjdGFuZ3VsYXJTZW5zb3JQcmltaXRpdmU=","b2JqZWN0","ZXhwb3J0cw==","YW1k","Q2VzaXVtR2VvbWV0cnk=","Y2FsbA==","ZGVmYXVsdA==","Y29tYmluZQ==","ZGVzdHJveU9iamVjdA==","RGV2ZWxvcGVyRXJyb3I=","QnVmZmVy","U2hhZGVyU291cmNl","TWF0ZXJpYWw=","VmVydGV4Rm9ybWF0","SnVsaWFuRGF0ZQ==","Qm94R2VvbWV0cnk=","RWxsaXBzb2lkR2VvbWV0cnk=","YXRhbg==","YXNpbg==","RU1QVFlfT0JKRUNU","c2xpY2U=","bW9kZWxNYXRyaXg=","X2NvbXB1dGVkTW9kZWxNYXRyaXg=","X2NvbXB1dGVkU2NhblBsYW5lTW9kZWxNYXRyaXg=","UE9TSVRJVkVfSU5GSU5JVFk=","eEhhbGZBbmdsZQ==","X3hIYWxmQW5nbGU=","eUhhbGZBbmdsZQ==","X3lIYWxmQW5nbGU=","V0hJVEU=","c2hvd1NlY3RvckxpbmVz","c2hvd1NlY3RvclNlZ21lbnRMaW5lcw==","c2hvd0xhdGVyYWxTdXJmYWNlcw==","bWF0ZXJpYWw=","ZnJvbVR5cGU=","Q29sb3JUeXBl","X21hdGVyaWFs","X3RyYW5zbHVjZW50","bGF0ZXJhbFN1cmZhY2VNYXRlcmlhbA==","X2xhdGVyYWxTdXJmYWNlTWF0ZXJpYWw=","X2xhdGVyYWxTdXJmYWNlVHJhbnNsdWNlbnQ=","c2hvd0RvbWVTdXJmYWNlcw==","ZG9tZVN1cmZhY2VNYXRlcmlhbA==","X2RvbWVTdXJmYWNlTWF0ZXJpYWw=","c2hvd0RvbWVMaW5lcw==","c2hvd0ludGVyc2VjdGlvbg==","aW50ZXJzZWN0aW9uQ29sb3I=","aW50ZXJzZWN0aW9uV2lkdGg=","c2hvd1Rocm91Z2hFbGxpcHNvaWQ=","X3Nob3dUaHJvdWdoRWxsaXBzb2lk","c2hvd1NjYW5QbGFuZQ==","c2NhblBsYW5lQ29sb3I=","c2NhblBsYW5lTW9kZQ==","aG9yaXpvbnRhbA==","c2NhblBsYW5lUmF0ZQ==","X3NjYW5lUGxhbmVYSGFsZkFuZ2xl","X3NjYW5lUGxhbmVZSGFsZkFuZ2xl","X3RpbWU=","bm93","X2JvdW5kaW5nU3BoZXJl","X2JvdW5kaW5nU3BoZXJlV0M=","X3NlY3RvckZyb250Q29tbWFuZA==","X3NlY3RvckJhY2tDb21tYW5k","X3NlY3RvclZB","X3NlY3RvckxpbmVDb21tYW5k","X3NlY3RvckxpbmVWQQ==","X3NlY3RvclNlZ21lbnRMaW5lQ29tbWFuZA==","X3NlY3RvclNlZ21lbnRMaW5lVkE=","X2RvbWVGcm9udENvbW1hbmQ=","X2RvbWVCYWNrQ29tbWFuZA==","X2RvbWVWQQ==","X2RvbWVMaW5lQ29tbWFuZA==","X2RvbWVMaW5lVkE=","X3NjYW5QbGFuZUZyb250Q29tbWFuZA==","X3NjYW5QbGFuZUJhY2tDb21tYW5k","X3NjYW5SYWRpYWxDb21tYW5k","X2NvbG9yQ29tbWFuZHM=","X2Zyb250RmFjZVJT","X2JhY2tGYWNlUlM=","X3Nw","X3VuaWZvcm1z","X3NjYW5Vbmlmb3Jtcw==","aGFsZkFuZ2xlIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHplcm8u","dGhpcy5yYWRpdXMgbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gemVyby4=","bXVsdGlwbHlCeVVuaWZvcm1TY2FsZQ==","dHJhbnNmb3Jt","aXNUcmFuc2x1Y2VudA==","c2Vjb25kc0RpZmZlcmVuY2U=","bWF4","ZnJvbVJvdGF0aW9uWA==","ZnJvbVJvdGF0aW9uWQ==","bXVsdGlwbHlCeU1hdHJpeDM=","cGFzc2Vz","cmVuZGVy","em95","em94","bWFw","bXVsdGlwbHlCeVZlY3Rvcg==","cmV2ZXJzZQ==","Y29uY2F0","YXBwbHk=","Y3JlYXRlVmVydGV4QnVmZmVy","QllURVNfUEVSX0VMRU1FTlQ=","UE9TSVRJT05fT05MWQ==","RWxsaXBzb2lkT3V0bGluZUdlb21ldHJ5","UElfT1ZFUl9UV08=","X3NjYW5QbGFuZVZB","c2hhZGVyU291cmNl","dW5pZm9ybQ==","X3BpY2tTUA==","X3NjYW5lUGxhbmVTUA==","RlJPTlQ=","X3BpY2tSUw==","dV9ub3JtYWxEaXJlY3Rpb24=","cGFzcw==","dV90eXBl","Q2hlY2s=","R2VvbWV0cnlBdHRyaWJ1dGVz","SW5kZXhEYXRhdHlwZQ==","cm91bmQ=","c3RhY2tQYXJ0aXRpb25z","c2xpY2VQYXJ0aXRpb25z","dHlwZU9m","bnVtYmVy","dmVydGV4Rm9ybWF0","REVGQVVMVA==","X3N0YWNrUGFydGl0aW9ucw==","X3NsaWNlUGFydGl0aW9ucw==","X3ZlcnRleEZvcm1hdA==","ZnJvbURpbWVuc2lvbnM=","Z3JlYXRlclRoYW5PckVxdWFscw==","Y3JlYXRlVHlwZWRBcnJheQ==","VFdPX1BJ","dGltZUVuZA==","Q29uaWNBcmNTZW5zb3JHZW9tZXRyeQ==","c3ViZGl2aXNpb25z","b3B0aW9ucy5zdGFja1BhcnRpdGlvbnMgY2Fubm90IGJlIGxlc3MgdGhhbiAx","b3B0aW9ucy5zbGljZVBhcnRpdGlvbnMgY2Fubm90IGJlIGxlc3MgdGhhbiAw","b3B0aW9ucy5zdWJkaXZpc2lvbnMgbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gemVyby4=","X3N1YmRpdmlzaW9ucw==","Q29uaWNBcmNTZW5zb3JPdXRsaW5lR2VvbWV0cnk=","RXZlbnQ=","Y3JlYXRlTWF0ZXJpYWxQcm9wZXJ0eURlc2NyaXB0b3I=","Y3JlYXRlUHJvcGVydHlEZXNjcmlwdG9y","X2FuZ2xlU3Vic2NyaXB0aW9u","X3JhZGl1c1N1YnNjcmlwdGlvbg==","X3N0YWNr","X3N0YWNrU3Vic2NyaXB0aW9u","X3NsaWNl","X3NsaWNlU3Vic2NyaXB0aW9u","X2NvbG9y","X2NvbG9yU3Vic2NyaXB0aW9u","X3Nob3dTdWJzY3JpcHRpb24=","X2ZpbGw=","X2ZpbGxTdWJzY3JpcHRpb24=","X21hdGVyaWFsU3Vic2NyaXB0aW9u","X291dGxpbmVTdWJzY3JpcHRpb24=","X291dGxpbmVDb2xvcg==","X291dGxpbmVDb2xvclN1YnNjcmlwdGlvbg==","X291dGxpbmVXaWR0aA==","X291dGxpbmVXaWR0aFN1YnNjcmlwdGlvbg==","X3NoYWRvd3M=","X3NoYWRvd3NTdWJzY3JpcHRpb24=","X2Rpc3RhbmNlRGlzcGxheUNvbmRpdGlvbg==","X2Rpc3RhbmNlRGlzcGxheUNvbmRpdGlvblN1YnNjcmlwdGlvbg==","X2RlZmluaXRpb25DaGFuZ2Vk","X2dhemU=","X2dhemVTdWJzY3JpcHRpb24=","bWVyZ2U=","c3RhY2s=","ZmlsbA==","b3V0bGluZUNvbG9y","b3V0bGluZVdpZHRo","c2hhZG93cw==","ZGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9u","Z2F6ZQ==","c291cmNlIGlzIHJlcXVpcmVkLg==","Q29uaWNBcmNTZW5zb3JHcmFwaGljcw==","a2V5cw==","UmVjdGFuZ3VsYXJTZW5zb3JHcmFwaGljcw==","UmVjdGFuZ3VsYXJTZW5zb3JWaXN1YWxpemVy","Q29uaWNBcmNTZW5zb3JDb2xsZWN0aW9u","RGF0YVNvdXJjZURpc3BsYXk=","ZGVmYXVsdFZpc3VhbGl6ZXJzQ2FsbGJhY2s=","YXR0cmlidXRlIHZlYzQgcG9zaXRpb247DQphdHRyaWJ1dGUgdmVjMyBub3JtYWw7DQoNCnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOw0KdmFyeWluZyB2ZWMzIHZfcG9zaXRpb25XQzsNCnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uRUM7DQp2YXJ5aW5nIHZlYzMgdl9ub3JtYWxFQzsNCg0Kdm9pZCBtYWluKCkNCnsNCiAgICBnbF9Qb3NpdGlvbiA9IGN6bV9tb2RlbFZpZXdQcm9qZWN0aW9uICogcG9zaXRpb247DQogICAgdl9wb3NpdGlvbiA9IHZlYzMocG9zaXRpb24pOw0KICAgIHZfcG9zaXRpb25XQyA9IChjem1fbW9kZWwgKiBwb3NpdGlvbikueHl6Ow0KICAgIHZfcG9zaXRpb25FQyA9IChjem1fbW9kZWxWaWV3ICogcG9zaXRpb24pLnh5ejsNCiAgICB2X25vcm1hbEVDID0gY3ptX25vcm1hbCAqIG5vcm1hbDsNCn0=","I2lmZGVmIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcw0KI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMgOiBlbmFibGUNCiNlbmRpZg0KDQp1bmlmb3JtIGJvb2wgdV9zaG93SW50ZXJzZWN0aW9uOw0KdW5pZm9ybSBib29sIHVfc2hvd1Rocm91Z2hFbGxpcHNvaWQ7DQoNCnVuaWZvcm0gZmxvYXQgdV9yYWRpdXM7DQp1bmlmb3JtIGZsb2F0IHVfeEhhbGZBbmdsZTsNCnVuaWZvcm0gZmxvYXQgdV95SGFsZkFuZ2xlOw0KdW5pZm9ybSBmbG9hdCB1X25vcm1hbERpcmVjdGlvbjsNCnVuaWZvcm0gZmxvYXQgdV90eXBlOw0KDQp2YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjsNCnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uV0M7DQp2YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbkVDOw0KdmFyeWluZyB2ZWMzIHZfbm9ybWFsRUM7DQoNCnZlYzQgZ2V0Q29sb3IoZmxvYXQgc2Vuc29yUmFkaXVzLCB2ZWMzIHBvaW50RUMpDQp7DQogICAgY3ptX21hdGVyaWFsSW5wdXQgbWF0ZXJpYWxJbnB1dDsNCg0KICAgIHZlYzMgcG9pbnRNQyA9IChjem1faW52ZXJzZU1vZGVsVmlldyAqIHZlYzQocG9pbnRFQywgMS4wKSkueHl6Ow0KICAgIG1hdGVyaWFsSW5wdXQuc3QgPSBzZW5zb3IyZFRleHR1cmVDb29yZGluYXRlcyhzZW5zb3JSYWRpdXMsIHBvaW50TUMpOw0KICAgIG1hdGVyaWFsSW5wdXQuc3RyID0gcG9pbnRNQyAvIHNlbnNvclJhZGl1czsNCg0KICAgIHZlYzMgcG9zaXRpb25Ub0V5ZUVDID0gLXZfcG9zaXRpb25FQzsNCiAgICBtYXRlcmlhbElucHV0LnBvc2l0aW9uVG9FeWVFQyA9IHBvc2l0aW9uVG9FeWVFQzsNCg0KICAgIHZlYzMgbm9ybWFsRUMgPSBub3JtYWxpemUodl9ub3JtYWxFQyk7DQogICAgbWF0ZXJpYWxJbnB1dC5ub3JtYWxFQyA9IHVfbm9ybWFsRGlyZWN0aW9uICogbm9ybWFsRUM7DQoNCiAgICBjem1fbWF0ZXJpYWwgbWF0ZXJpYWwgPSBjem1fZ2V0TWF0ZXJpYWwobWF0ZXJpYWxJbnB1dCk7DQoNCiAgICByZXR1cm4gbWl4KGN6bV9waG9uZyhub3JtYWxpemUocG9zaXRpb25Ub0V5ZUVDKSwgbWF0ZXJpYWwsY3ptX2xpZ2h0RGlyZWN0aW9uRUMpLCB2ZWM0KG1hdGVyaWFsLmRpZmZ1c2UsIG1hdGVyaWFsLmFscGhhKSwgMC40KTsNCg0KfQ0KDQpib29sIGlzT25Cb3VuZGFyeShmbG9hdCB2YWx1ZSwgZmxvYXQgZXBzaWxvbikNCnsNCiAgICBmbG9hdCB3aWR0aCA9IGdldEludGVyc2VjdGlvbldpZHRoKCk7DQogICAgZmxvYXQgdG9sZXJhbmNlID0gd2lkdGggKiBlcHNpbG9uOw0KDQojaWZkZWYgR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzDQogICAgZmxvYXQgZGVsdGEgPSBtYXgoYWJzKGRGZHgodmFsdWUpKSwgYWJzKGRGZHkodmFsdWUpKSk7DQogICAgZmxvYXQgcGl4ZWxzID0gd2lkdGggKiBkZWx0YTsNCiAgICBmbG9hdCB0ZW1wID0gYWJzKHZhbHVlKTsNCiAgICAvLyBUaGVyZSBhcmUgYSBjb3VwbGUgdGhpbmdzIGdvaW5nIG9uIGhlcmUuDQogICAgLy8gRmlyc3Qgd2UgdGVzdCB0aGUgdmFsdWUgYXQgdGhlIGN1cnJlbnQgZnJhZ21lbnQgdG8gc2VlIGlmIGl0IGlzIHdpdGhpbiB0aGUgdG9sZXJhbmNlLg0KICAgIC8vIFdlIGFsc28gd2FudCB0byBjaGVjayBpZiB0aGUgdmFsdWUgb2YgYW4gYWRqYWNlbnQgcGl4ZWwgaXMgd2l0aGluIHRoZSB0b2xlcmFuY2UsDQogICAgLy8gYnV0IHdlIGRvbid0IHdhbnQgdG8gYWRtaXQgcG9pbnRzIHRoYXQgYXJlIG9idmlvdXNseSBub3Qgb24gdGhlIHN1cmZhY2UuDQogICAgLy8gRm9yIGV4YW1wbGUsIGlmIHdlIGFyZSBsb29raW5nIGZvciAidmFsdWUiIHRvIGJlIGNsb3NlIHRvIDAsIGJ1dCB2YWx1ZSBpcyAxIGFuZCB0aGUgYWRqYWNlbnQgdmFsdWUgaXMgMiwNCiAgICAvLyB0aGVuIHRoZSBkZWx0YSB3b3VsZCBiZSAxIGFuZCAidGVtcCAtIGRlbHRhIiB3b3VsZCBiZSAiMSAtIDEiIHdoaWNoIGlzIHplcm8gZXZlbiB0aG91Z2ggbmVpdGhlciBvZg0KICAgIC8vIHRoZSBwb2ludHMgaXMgY2xvc2UgdG8gemVyby4NCiAgICByZXR1cm4gdGVtcCA8IHRvbGVyYW5jZSAmJiB0ZW1wIDwgcGl4ZWxzIHx8IChkZWx0YSA8IDEwLjAgKiB0b2xlcmFuY2UgJiYgdGVtcCAtIGRlbHRhIDwgdG9sZXJhbmNlICYmIHRlbXAgPCBwaXhlbHMpOw0KI2Vsc2UNCiAgICByZXR1cm4gYWJzKHZhbHVlKSA8IHRvbGVyYW5jZTsNCiNlbmRpZg0KfQ0KDQp2ZWM0IHNoYWRlKGJvb2wgaXNPbkJvdW5kYXJ5KQ0Kew0KICAgIGlmICh1X3Nob3dJbnRlcnNlY3Rpb24gJiYgaXNPbkJvdW5kYXJ5KQ0KICAgIHsNCiAgICAgICAgcmV0dXJuIGdldEludGVyc2VjdGlvbkNvbG9yKCk7DQogICAgfQ0KICAgIGlmKHVfdHlwZSA9PSAxLjApew0KICAgICAgICByZXR1cm4gZ2V0TGluZUNvbG9yKCk7DQogICAgfQ0KICAgIHJldHVybiBnZXRDb2xvcih1X3JhZGl1cywgdl9wb3NpdGlvbkVDKTsNCn0NCg0KZmxvYXQgZWxsaXBzb2lkU3VyZmFjZUZ1bmN0aW9uKHZlYzMgcG9pbnQpDQp7DQogICAgdmVjMyBzY2FsZWQgPSBjem1fZWxsaXBzb2lkSW52ZXJzZVJhZGlpICogcG9pbnQ7DQogICAgcmV0dXJuIGRvdChzY2FsZWQsIHNjYWxlZCkgLSAxLjA7DQp9DQoNCnZvaWQgbWFpbigpDQp7DQogICAgdmVjMyBzZW5zb3JWZXJ0ZXhXQyA9IGN6bV9tb2RlbFszXS54eXo7ICAgICAgLy8gKDAuMCwgMC4wLCAwLjApIGluIG1vZGVsIGNvb3JkaW5hdGVzDQogICAgdmVjMyBzZW5zb3JWZXJ0ZXhFQyA9IGN6bV9tb2RlbFZpZXdbM10ueHl6OyAgLy8gKDAuMCwgMC4wLCAwLjApIGluIG1vZGVsIGNvb3JkaW5hdGVzDQoNCiAgICAvL3ZlYzMgcGl4RGlyID0gbm9ybWFsaXplKHZfcG9zaXRpb24pOw0KICAgIGZsb2F0IHBvc2l0aW9uWCA9IHZfcG9zaXRpb24ueDsNCiAgICBmbG9hdCBwb3NpdGlvblkgPSB2X3Bvc2l0aW9uLnk7DQogICAgZmxvYXQgcG9zaXRpb25aID0gdl9wb3NpdGlvbi56Ow0KDQogICAgdmVjMyB6RGlyID0gdmVjMygwLjAsIDAuMCwgMS4wKTsNCiAgICB2ZWMzIGxpbmVYID0gdmVjMyhwb3NpdGlvblgsIDAgLHBvc2l0aW9uWik7DQogICAgdmVjMyBsaW5lWSA9IHZlYzMoMCwgcG9zaXRpb25ZLCBwb3NpdGlvblopOw0KICAgIGZsb2F0IHJlc1ggPSBkb3Qobm9ybWFsaXplKGxpbmVYKSwgekRpcik7DQogICAgaWYocmVzWCA8IGNvcyh1X3hIYWxmQW5nbGUpLTAuMDAwMDEpew0KICAgICAgICBkaXNjYXJkOw0KICAgIH0NCiAgICBmbG9hdCByZXNZID0gZG90KG5vcm1hbGl6ZShsaW5lWSksIHpEaXIpOw0KICAgIGlmKHJlc1kgPCBjb3ModV95SGFsZkFuZ2xlKS0wLjAwMDAxKXsNCiAgICAgICAgZGlzY2FyZDsNCiAgICB9DQoNCiAgICBmbG9hdCBlbGxpcHNvaWRWYWx1ZSA9IGVsbGlwc29pZFN1cmZhY2VGdW5jdGlvbih2X3Bvc2l0aW9uV0MpOw0KDQogICAgLy8gT2NjbHVkZWQgYnkgdGhlIGVsbGlwc29pZD8NCglpZiAoIXVfc2hvd1Rocm91Z2hFbGxpcHNvaWQpDQoJew0KCSAgICAvLyBEaXNjYXJkIGlmIGluIHRoZSBlbGxpcHNvaWQNCgkgICAgLy8gUEVSRk9STUFOQ0VfSURFQTogQSBjb2Fyc2UgY2hlY2sgZm9yIGVsbGlwc29pZCBpbnRlcnNlY3Rpb24gY291bGQgYmUgZG9uZSBvbiB0aGUgQ1BVIGZpcnN0Lg0KCSAgICBpZiAoZWxsaXBzb2lkVmFsdWUgPCAwLjApDQoJICAgIHsNCiAgICAgICAgICAgIGRpc2NhcmQ7DQoJICAgIH0NCg0KCSAgICAvLyBEaXNjYXJkIGlmIGluIHRoZSBzZW5zb3IncyBzaGFkb3cNCgkgICAgaWYgKGluU2Vuc29yU2hhZG93KHNlbnNvclZlcnRleFdDLCB2X3Bvc2l0aW9uV0MpKQ0KCSAgICB7DQoJICAgICAgICBkaXNjYXJkOw0KCSAgICB9DQogICAgfQ0KDQogICAgLy8gTm90ZXM6IEVhY2ggc3VyZmFjZSBmdW5jdGlvbnMgc2hvdWxkIGhhdmUgYW4gYXNzb2NpYXRlZCB0b2xlcmFuY2UgYmFzZWQgb24gdGhlIGZsb2F0aW5nIHBvaW50IGVycm9yLg0KICAgIGJvb2wgaXNPbkVsbGlwc29pZCA9IGlzT25Cb3VuZGFyeShlbGxpcHNvaWRWYWx1ZSwgY3ptX2Vwc2lsb24zKTsNCiAgICAvL2lzT25FbGxpcHNvaWQgPSBmYWxzZTsNCiAgICAvL2lmKChyZXNYID49IDAuOCAmJiByZXNYIDw9IDAuODEpfHwocmVzWSA+PSAwLjggJiYgcmVzWSA8PSAwLjgxKSl7DQogICAgLyppZihmYWxzZSl7DQogICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wLDAuMCwwLjAsMS4wKTsNCiAgICB9ZWxzZXsNCiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gc2hhZGUoaXNPbkVsbGlwc29pZCk7DQogICAgfQ0KKi8NCiAgICBnbF9GcmFnQ29sb3IgPSBzaGFkZShpc09uRWxsaXBzb2lkKTsNCg0KfQ==","dW5pZm9ybSB2ZWM0IHVfaW50ZXJzZWN0aW9uQ29sb3I7CnVuaWZvcm0gZmxvYXQgdV9pbnRlcnNlY3Rpb25XaWR0aDsKdW5pZm9ybSB2ZWM0IHVfbGluZUNvbG9yOwoKYm9vbCBpblNlbnNvclNoYWRvdyh2ZWMzIGNvbmVWZXJ0ZXhXQywgdmVjMyBwb2ludFdDKQp7CiAgICAvLyBEaWFnb25hbCBtYXRyaXggZnJvbSB0aGUgdW5zY2FsZWQgZWxsaXBzb2lkIHNwYWNlIHRvIHRoZSBzY2FsZWQgc3BhY2UuICAgIAogICAgdmVjMyBEID0gY3ptX2VsbGlwc29pZEludmVyc2VSYWRpaTsKCiAgICAvLyBTZW5zb3IgdmVydGV4IGluIHRoZSBzY2FsZWQgZWxsaXBzb2lkIHNwYWNlCiAgICB2ZWMzIHEgPSBEICogY29uZVZlcnRleFdDOwogICAgZmxvYXQgcU1hZ25pdHVkZVNxdWFyZWQgPSBkb3QocSwgcSk7CiAgICBmbG9hdCB0ZXN0ID0gcU1hZ25pdHVkZVNxdWFyZWQgLSAxLjA7CiAgICAKICAgIC8vIFNlbnNvciB2ZXJ0ZXggdG8gZnJhZ21lbnQgdmVjdG9yIGluIHRoZSBlbGxpcHNvaWQncyBzY2FsZWQgc3BhY2UKICAgIHZlYzMgdGVtcCA9IEQgKiBwb2ludFdDIC0gcTsKICAgIGZsb2F0IGQgPSBkb3QodGVtcCwgcSk7CiAgICAKICAgIC8vIEJlaGluZCBzaWxob3VldHRlIHBsYW5lIGFuZCBpbnNpZGUgc2lsaG91ZXR0ZSBjb25lCiAgICByZXR1cm4gKGQgPCAtdGVzdCkgJiYgKGQgLyBsZW5ndGgodGVtcCkgPCAtc3FydCh0ZXN0KSk7Cn0KCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCnZlYzQgZ2V0TGluZUNvbG9yKCkKewogICAgcmV0dXJuIHVfbGluZUNvbG9yOwp9Cgp2ZWM0IGdldEludGVyc2VjdGlvbkNvbG9yKCkKewogICAgcmV0dXJuIHVfaW50ZXJzZWN0aW9uQ29sb3I7Cn0KCmZsb2F0IGdldEludGVyc2VjdGlvbldpZHRoKCkKewogICAgcmV0dXJuIHVfaW50ZXJzZWN0aW9uV2lkdGg7Cn0KCnZlYzIgc2Vuc29yMmRUZXh0dXJlQ29vcmRpbmF0ZXMoZmxvYXQgc2Vuc29yUmFkaXVzLCB2ZWMzIHBvaW50TUMpCnsKICAgIC8vIChzLCB0KSBib3RoIGluIHRoZSByYW5nZSBbMCwgMV0KICAgIGZsb2F0IHQgPSBwb2ludE1DLnogLyBzZW5zb3JSYWRpdXM7CiAgICBmbG9hdCBzID0gMS4wICsgKGF0YW4ocG9pbnRNQy55LCBwb2ludE1DLngpIC8gY3ptX3R3b1BpKTsKICAgIHMgPSBzIC0gZmxvb3Iocyk7CiAgICAKICAgIHJldHVybiB2ZWMyKHMsIHQpOwp9Cg==","I2lmZGVmIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcw0KI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMgOiBlbmFibGUNCiNlbmRpZg0KDQp1bmlmb3JtIGJvb2wgdV9zaG93SW50ZXJzZWN0aW9uOw0KdW5pZm9ybSBib29sIHVfc2hvd1Rocm91Z2hFbGxpcHNvaWQ7DQoNCnVuaWZvcm0gZmxvYXQgdV9yYWRpdXM7DQp1bmlmb3JtIGZsb2F0IHVfeEhhbGZBbmdsZTsNCnVuaWZvcm0gZmxvYXQgdV95SGFsZkFuZ2xlOw0KdW5pZm9ybSBmbG9hdCB1X25vcm1hbERpcmVjdGlvbjsNCnVuaWZvcm0gdmVjNCB1X2NvbG9yOw0KDQp2YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjsNCnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uV0M7DQp2YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbkVDOw0KdmFyeWluZyB2ZWMzIHZfbm9ybWFsRUM7DQoNCnZlYzQgZ2V0Q29sb3IoZmxvYXQgc2Vuc29yUmFkaXVzLCB2ZWMzIHBvaW50RUMpDQp7DQogICAgY3ptX21hdGVyaWFsSW5wdXQgbWF0ZXJpYWxJbnB1dDsNCg0KICAgIHZlYzMgcG9pbnRNQyA9IChjem1faW52ZXJzZU1vZGVsVmlldyAqIHZlYzQocG9pbnRFQywgMS4wKSkueHl6Ow0KICAgIG1hdGVyaWFsSW5wdXQuc3QgPSBzZW5zb3IyZFRleHR1cmVDb29yZGluYXRlcyhzZW5zb3JSYWRpdXMsIHBvaW50TUMpOw0KICAgIG1hdGVyaWFsSW5wdXQuc3RyID0gcG9pbnRNQyAvIHNlbnNvclJhZGl1czsNCg0KICAgIHZlYzMgcG9zaXRpb25Ub0V5ZUVDID0gLXZfcG9zaXRpb25FQzsNCiAgICBtYXRlcmlhbElucHV0LnBvc2l0aW9uVG9FeWVFQyA9IHBvc2l0aW9uVG9FeWVFQzsNCg0KICAgIHZlYzMgbm9ybWFsRUMgPSBub3JtYWxpemUodl9ub3JtYWxFQyk7DQogICAgbWF0ZXJpYWxJbnB1dC5ub3JtYWxFQyA9IHVfbm9ybWFsRGlyZWN0aW9uICogbm9ybWFsRUM7DQoNCiAgICBjem1fbWF0ZXJpYWwgbWF0ZXJpYWwgPSBjem1fZ2V0TWF0ZXJpYWwobWF0ZXJpYWxJbnB1dCk7DQoNCiAgICBtYXRlcmlhbC5kaWZmdXNlID0gdV9jb2xvci5yZ2I7DQogICAgbWF0ZXJpYWwuYWxwaGEgPSB1X2NvbG9yLmE7DQoNCiAgICByZXR1cm4gbWl4KGN6bV9waG9uZyhub3JtYWxpemUocG9zaXRpb25Ub0V5ZUVDKSwgbWF0ZXJpYWwsY3ptX2xpZ2h0RGlyZWN0aW9uRUMpLCB2ZWM0KG1hdGVyaWFsLmRpZmZ1c2UsIG1hdGVyaWFsLmFscGhhKSwgMC40KTsNCg0KfQ0KDQpib29sIGlzT25Cb3VuZGFyeShmbG9hdCB2YWx1ZSwgZmxvYXQgZXBzaWxvbikNCnsNCiAgICBmbG9hdCB3aWR0aCA9IGdldEludGVyc2VjdGlvbldpZHRoKCk7DQogICAgZmxvYXQgdG9sZXJhbmNlID0gd2lkdGggKiBlcHNpbG9uOw0KDQojaWZkZWYgR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzDQogICAgZmxvYXQgZGVsdGEgPSBtYXgoYWJzKGRGZHgodmFsdWUpKSwgYWJzKGRGZHkodmFsdWUpKSk7DQogICAgZmxvYXQgcGl4ZWxzID0gd2lkdGggKiBkZWx0YTsNCiAgICBmbG9hdCB0ZW1wID0gYWJzKHZhbHVlKTsNCiAgICAvLyBUaGVyZSBhcmUgYSBjb3VwbGUgdGhpbmdzIGdvaW5nIG9uIGhlcmUuDQogICAgLy8gRmlyc3Qgd2UgdGVzdCB0aGUgdmFsdWUgYXQgdGhlIGN1cnJlbnQgZnJhZ21lbnQgdG8gc2VlIGlmIGl0IGlzIHdpdGhpbiB0aGUgdG9sZXJhbmNlLg0KICAgIC8vIFdlIGFsc28gd2FudCB0byBjaGVjayBpZiB0aGUgdmFsdWUgb2YgYW4gYWRqYWNlbnQgcGl4ZWwgaXMgd2l0aGluIHRoZSB0b2xlcmFuY2UsDQogICAgLy8gYnV0IHdlIGRvbid0IHdhbnQgdG8gYWRtaXQgcG9pbnRzIHRoYXQgYXJlIG9idmlvdXNseSBub3Qgb24gdGhlIHN1cmZhY2UuDQogICAgLy8gRm9yIGV4YW1wbGUsIGlmIHdlIGFyZSBsb29raW5nIGZvciAidmFsdWUiIHRvIGJlIGNsb3NlIHRvIDAsIGJ1dCB2YWx1ZSBpcyAxIGFuZCB0aGUgYWRqYWNlbnQgdmFsdWUgaXMgMiwNCiAgICAvLyB0aGVuIHRoZSBkZWx0YSB3b3VsZCBiZSAxIGFuZCAidGVtcCAtIGRlbHRhIiB3b3VsZCBiZSAiMSAtIDEiIHdoaWNoIGlzIHplcm8gZXZlbiB0aG91Z2ggbmVpdGhlciBvZg0KICAgIC8vIHRoZSBwb2ludHMgaXMgY2xvc2UgdG8gemVyby4NCiAgICByZXR1cm4gdGVtcCA8IHRvbGVyYW5jZSAmJiB0ZW1wIDwgcGl4ZWxzIHx8IChkZWx0YSA8IDEwLjAgKiB0b2xlcmFuY2UgJiYgdGVtcCAtIGRlbHRhIDwgdG9sZXJhbmNlICYmIHRlbXAgPCBwaXhlbHMpOw0KI2Vsc2UNCiAgICByZXR1cm4gYWJzKHZhbHVlKSA8IHRvbGVyYW5jZTsNCiNlbmRpZg0KfQ0KDQp2ZWM0IHNoYWRlKGJvb2wgaXNPbkJvdW5kYXJ5KQ0Kew0KICAgIGlmICh1X3Nob3dJbnRlcnNlY3Rpb24gJiYgaXNPbkJvdW5kYXJ5KQ0KICAgIHsNCiAgICAgICAgcmV0dXJuIGdldEludGVyc2VjdGlvbkNvbG9yKCk7DQogICAgfQ0KICAgIHJldHVybiBnZXRDb2xvcih1X3JhZGl1cywgdl9wb3NpdGlvbkVDKTsNCn0NCg0KZmxvYXQgZWxsaXBzb2lkU3VyZmFjZUZ1bmN0aW9uKHZlYzMgcG9pbnQpDQp7DQogICAgdmVjMyBzY2FsZWQgPSBjem1fZWxsaXBzb2lkSW52ZXJzZVJhZGlpICogcG9pbnQ7DQogICAgcmV0dXJuIGRvdChzY2FsZWQsIHNjYWxlZCkgLSAxLjA7DQp9DQoNCnZvaWQgbWFpbigpDQp7DQogICAgdmVjMyBzZW5zb3JWZXJ0ZXhXQyA9IGN6bV9tb2RlbFszXS54eXo7ICAgICAgLy8gKDAuMCwgMC4wLCAwLjApIGluIG1vZGVsIGNvb3JkaW5hdGVzDQogICAgdmVjMyBzZW5zb3JWZXJ0ZXhFQyA9IGN6bV9tb2RlbFZpZXdbM10ueHl6OyAgLy8gKDAuMCwgMC4wLCAwLjApIGluIG1vZGVsIGNvb3JkaW5hdGVzDQoNCiAgICAvL3ZlYzMgcGl4RGlyID0gbm9ybWFsaXplKHZfcG9zaXRpb24pOw0KICAgIGZsb2F0IHBvc2l0aW9uWCA9IHZfcG9zaXRpb24ueDsNCiAgICBmbG9hdCBwb3NpdGlvblkgPSB2X3Bvc2l0aW9uLnk7DQogICAgZmxvYXQgcG9zaXRpb25aID0gdl9wb3NpdGlvbi56Ow0KDQogICAgdmVjMyB6RGlyID0gdmVjMygwLjAsIDAuMCwgMS4wKTsNCiAgICB2ZWMzIGxpbmVYID0gdmVjMyhwb3NpdGlvblgsIDAgLHBvc2l0aW9uWik7DQogICAgdmVjMyBsaW5lWSA9IHZlYzMoMCwgcG9zaXRpb25ZLCBwb3NpdGlvblopOw0KICAgIGZsb2F0IHJlc1ggPSBkb3Qobm9ybWFsaXplKGxpbmVYKSwgekRpcik7DQogICAgaWYocmVzWCA8IGNvcyh1X3hIYWxmQW5nbGUpIC0gMC4wMDAxKXsNCiAgICAgICAgZGlzY2FyZDsNCiAgICB9DQogICAgZmxvYXQgcmVzWSA9IGRvdChub3JtYWxpemUobGluZVkpLCB6RGlyKTsNCiAgICBpZihyZXNZIDwgY29zKHVfeUhhbGZBbmdsZSktIDAuMDAwMSl7DQogICAgICAgIGRpc2NhcmQ7DQogICAgfQ0KDQogICAgZmxvYXQgZWxsaXBzb2lkVmFsdWUgPSBlbGxpcHNvaWRTdXJmYWNlRnVuY3Rpb24odl9wb3NpdGlvbldDKTsNCg0KICAgIC8vIE9jY2x1ZGVkIGJ5IHRoZSBlbGxpcHNvaWQ/DQoJaWYgKCF1X3Nob3dUaHJvdWdoRWxsaXBzb2lkKQ0KCXsNCgkgICAgLy8gRGlzY2FyZCBpZiBpbiB0aGUgZWxsaXBzb2lkDQoJICAgIC8vIFBFUkZPUk1BTkNFX0lERUE6IEEgY29hcnNlIGNoZWNrIGZvciBlbGxpcHNvaWQgaW50ZXJzZWN0aW9uIGNvdWxkIGJlIGRvbmUgb24gdGhlIENQVSBmaXJzdC4NCgkgICAgaWYgKGVsbGlwc29pZFZhbHVlIDwgMC4wKQ0KCSAgICB7DQogICAgICAgICAgICBkaXNjYXJkOw0KCSAgICB9DQoNCgkgICAgLy8gRGlzY2FyZCBpZiBpbiB0aGUgc2Vuc29yJ3Mgc2hhZG93DQoJICAgIGlmIChpblNlbnNvclNoYWRvdyhzZW5zb3JWZXJ0ZXhXQywgdl9wb3NpdGlvbldDKSkNCgkgICAgew0KCSAgICAgICAgZGlzY2FyZDsNCgkgICAgfQ0KICAgIH0NCg0KICAgIC8vIE5vdGVzOiBFYWNoIHN1cmZhY2UgZnVuY3Rpb25zIHNob3VsZCBoYXZlIGFuIGFzc29jaWF0ZWQgdG9sZXJhbmNlIGJhc2VkIG9uIHRoZSBmbG9hdGluZyBwb2ludCBlcnJvci4NCiAgICBib29sIGlzT25FbGxpcHNvaWQgPSBpc09uQm91bmRhcnkoZWxsaXBzb2lkVmFsdWUsIGN6bV9lcHNpbG9uMyk7DQogICAgZ2xfRnJhZ0NvbG9yID0gc2hhZGUoaXNPbkVsbGlwc29pZCk7DQoNCn0=","X2xpbmVDb2xvcg==","X3Nob3dTZWN0b3JMaW5lcw==","X3Nob3dTZWN0b3JTZWdtZW50TGluZXM=","X3Nob3dMYXRlcmFsU3VyZmFjZXM=","X3Nob3dEb21lU3VyZmFjZXM=","X3Nob3dEb21lTGluZXM=","X3Nob3dJbnRlcnNlY3Rpb24=","X2ludGVyc2VjdGlvbkNvbG9y","X2ludGVyc2VjdGlvbldpZHRo","X3Nob3dTY2FuUGxhbmU=","X3NjYW5QbGFuZUNvbG9y","X3NjYW5QbGFuZU1vZGU=","X3NjYW5QbGFuZVJhdGU=","c2hvd0RvbWVMaW5lcyA=","QXNzb2NpYXRpdmVBcnJheQ==","TWF0ZXJpYWxQcm9wZXJ0eQ==","aXNEZXN0cm95ZWQ=","c2NlbmUgaXMgcmVxdWlyZWQu","ZW50aXR5Q29sbGVjdGlvbiBpcyByZXF1aXJlZC4=","Y29sbGVjdGlvbkNoYW5nZWQ=","YWRkRXZlbnRMaXN0ZW5lcg==","X29uQ29sbGVjdGlvbkNoYW5nZWQ=","X3NjZW5l","X3ByaW1pdGl2ZXM=","X2VudGl0eUNvbGxlY3Rpb24=","X2hhc2g=","X2VudGl0aWVzVG9WaXN1YWxpemU=","dGltZSBpcyByZXF1aXJlZC4=","X3JlY3Rhbmd1bGFyU2Vuc29y","aXNTaG93aW5n","aXNBdmFpbGFibGU=","Z2V0VmFsdWVPckRlZmF1bHQ=","X29yaWVudGF0aW9u","YW5nbGVCZXR3ZWVu","VU5JVF9a","ZnJvbUF4aXNBbmdsZQ==","c2V0","Vmlld2Vy","Q29sb3JHZW9tZXRyeUluc3RhbmNlQXR0cmlidXRl","UHJpbWl0aXZl","UGVySW5zdGFuY2VDb2xvckFwcGVhcmFuY2U=","RGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9u","RGlzdGFuY2VEaXNwbGF5Q29uZGl0aW9uR2VvbWV0cnlJbnN0YW5jZUF0dHJpYnV0ZQ==","dmlld2VyIGlzIHJlcXVpcmVkLg==","X3ZpZXdlcg==","Y2xvY2s=","X2Nsb2Nr","X3ByaW1pdGl2ZQ==","X291dGxpbmVQcmltaXRpdmU=","X2NvbmljQXJjU2Vuc29yQ29sbGVjdGlvbg==","b25UaWNr","Q29uaWNBcmNTZW5zb3I=","aW5kZXhPZg==","cmVtb3ZlQWxs","Y3VycmVudFRpbWU=","cmVtb3ZlQW5kRGVzdHJveQ==","X2NvbmljQXJjU2Vuc29y","bXVsdGlwbHlCeVNjYWxhcg==","UE9TSVRJT05fQU5EX05PUk1BTA==","R2VvbWV0cnlJbnN0YW5jZQ==","ZnJvbUNvbG9y","Y2xhbXBMaW5lV2lkdGg=","RW50aXR5","Q29uc3RhbnRQb3NpdGlvblByb3BlcnR5","Y29uaWNBcmNTZW5zb3I=","Z2F6ZUF0","ZmluZEluZGV4","Zm92","aW5uZXJGb3ZSYWRpdXNQYWlycw==","b3V0ZXJGb3ZSYWRpdXNQYWlycw==","c3RhcnRSYWRpdXM=","c3RhcnRGb3ZI","ZW5kRm92SA==","c3RhcnRGb3ZW","ZW5kRm92Vg==","c2VnbWVudEg=","c2VnbWVudFY=","c3ViU2VnbWVudEg=","c3ViU2VnbWVudFY=","ZmFjZUNvbG9y","X3N0YXJ0Rm92SA==","X2VuZEZvdkg=","X3N0YXJ0Rm92Vg==","X2VuZEZvdlY=","X3NlZ21lbnRI","X3NlZ21lbnRW","X3N1YlNlZ21lbnRI","X3N1YlNlZ21lbnRW","X2luaXRCb3VuZGluZ1NwaGVyZQ==","X2NvbW1hbmQ=","X2NyZWF0ZU91dGVyQ3VydmVDb21tYW5k","X291dGVyRm92UmFkaXVzUGFpcnM=","X2NyZWF0ZVJhd0NvbW1hbmQ=","X2NyZWF0ZUlubmVyQ3VydmVDb21tYW5k","X2lubmVyRm92UmFkaXVzUGFpcnM=","X2NyZWF0ZUxlZnRDcm9zc1NlY3Rpb25Db21tYW5k","X2NyZWF0ZVJpZ2h0Q3Jvc3NTZWN0aW9uQ29tbWFuZA==","QXBwZWFyYW5jZQ==","Z2V0RGVmYXVsdFJlbmRlclN0YXRl","CiAgICAgICAgICAgIC8vIG11eWFvIOS9v+eUqGRvdWJsZeexu+Wei+eahHBvc2l0aW9u6L+b6KGM6K6h566XCiAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uM0RIaWdoOwogICAgICAgICAgICAvLyBhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjNETG93OwogICAgICAgICAgICBhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsKICAgICAgICAgICAgYXR0cmlidXRlIHZlYzMgbm9ybWFsOwogICAgICAgICAgICAvLyBhdHRyaWJ1dGUgdmVjMiBzdDsKICAgICAgICAgICAgLy8gYXR0cmlidXRlIGZsb2F0IGJhdGNoSWQ7CgogICAgICAgICAgICB2YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbkVDOwogICAgICAgICAgICB2YXJ5aW5nIHZlYzMgdl9ub3JtYWxFQzsKICAgICAgICAgICAgLy8gdmFyeWluZyB2ZWMyIHZfc3Q7CgogICAgICAgICAgICB2b2lkIG1haW4oKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAvLyBtdXlhbyDkvb/nlKhkb3VibGXnsbvlnovnmoRwb3NpdGlvbui/m+ihjOiuoeeulwogICAgICAgICAgICAgICAgLy8gdmVjNCBwID0gY3ptX3RyYW5zbGF0ZVJlbGF0aXZlVG9FeWUocG9zaXRpb24zREhpZ2gsIHBvc2l0aW9uM0RMb3cpOwogICAgICAgICAgICAgICAgLy8gdl9wb3NpdGlvbkVDID0gKGN6bV9tb2RlbFZpZXdSZWxhdGl2ZVRvRXllICogcCkueHl6OyAgICAgIC8vIHBvc2l0aW9uIGluIGV5ZSBjb29yZGluYXRlcwogICAgICAgICAgICAgICAgLy8gdl9ub3JtYWxFQyA9IGN6bV9ub3JtYWwgKiBub3JtYWw7ICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vcm1hbCBpbiBleWUgY29vcmRpbmF0ZXMKICAgICAgICAgICAgICAgIC8vIHZfc3QgPSBzdDsKICAgICAgICAgICAgICAgIC8vIGdsX1Bvc2l0aW9uID0gY3ptX21vZGVsVmlld1Byb2plY3Rpb25SZWxhdGl2ZVRvRXllICogcDsKCiAgICAgICAgICAgICAgICB2X3Bvc2l0aW9uRUMgPSAoY3ptX21vZGVsVmlldyAqIHZlYzQocG9zaXRpb24sIDEuMCkpLnh5ejsgICAgICAgLy8gcG9zaXRpb24gaW4gZXllIGNvb3JkaW5hdGVzCiAgICAgICAgICAgICAgICB2X25vcm1hbEVDID0gY3ptX25vcm1hbCAqIG5vcm1hbDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9ybWFsIGluIGV5ZSBjb29yZGluYXRlcwogICAgICAgICAgICAgICAgLy8gdl9zdCA9IHN0OwogICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSBjem1fbW9kZWxWaWV3UHJvamVjdGlvbiAqIHZlYzQocG9zaXRpb24sIDEuMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAg","CiAgICAgICAgICAgIHZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uRUM7CiAgICAgICAgICAgIHZhcnlpbmcgdmVjMyB2X25vcm1hbEVDOwogICAgICAgICAgICAvLyB2YXJ5aW5nIHZlYzIgdl9zdDsKCiAgICAgICAgICAgIC8vIHVuaWZvcm0gc2FtcGxlcjJEIG15SW1hZ2U7CiAgICAgICAgICAgIHVuaWZvcm0gdmVjNCB4YnNqQ29sb3I7CgogICAgICAgICAgICB2b2lkIG1haW4oKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB2ZWMzIHBvc2l0aW9uVG9FeWVFQyA9IC12X3Bvc2l0aW9uRUM7CgogICAgICAgICAgICAgICAgdmVjMyBub3JtYWxFQyA9IG5vcm1hbGl6ZSh2X25vcm1hbEVDKTsKICAgICAgICAgICAgI2lmZGVmIEZBQ0VfRk9SV0FSRAogICAgICAgICAgICAgICAgbm9ybWFsRUMgPSBmYWNlZm9yd2FyZChub3JtYWxFQywgdmVjMygwLjAsIDAuMCwgMS4wKSwgLW5vcm1hbEVDKTsKICAgICAgICAgICAgI2VuZGlmCgogICAgICAgICAgICAgICAgY3ptX21hdGVyaWFsSW5wdXQgbWF0ZXJpYWxJbnB1dDsKICAgICAgICAgICAgICAgIG1hdGVyaWFsSW5wdXQubm9ybWFsRUMgPSBub3JtYWxFQzsKICAgICAgICAgICAgICAgIG1hdGVyaWFsSW5wdXQucG9zaXRpb25Ub0V5ZUVDID0gcG9zaXRpb25Ub0V5ZUVDOwogICAgICAgICAgICAgICAgLy8gbWF0ZXJpYWxJbnB1dC5zdCA9IHZfc3Q7CgogICAgICAgICAgICAgICAgLy9jem1fbWF0ZXJpYWwgbWF0ZXJpYWwgPSBjem1fZ2V0TWF0ZXJpYWwobWF0ZXJpYWxJbnB1dCk7CiAgICAgICAgICAgICAgICBjem1fbWF0ZXJpYWwgbWF0ZXJpYWwgPSBjem1fZ2V0RGVmYXVsdE1hdGVyaWFsKG1hdGVyaWFsSW5wdXQpOwogICAgICAgICAgICAgICAgLy8gbWF0ZXJpYWwuZGlmZnVzZSA9IHRleHR1cmUyRChteUltYWdlLCBtYXRlcmlhbElucHV0LnN0KS5yZ2I7CiAgICAgICAgICAgICAgICBtYXRlcmlhbC5kaWZmdXNlID0geGJzakNvbG9yLnJnYjsKICAgICAgICAgICAgICAgIG1hdGVyaWFsLmFscGhhID0geGJzakNvbG9yLmE7CgogICAgICAgICAgICAjaWZkZWYgRkxBVAogICAgICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChtYXRlcmlhbC5kaWZmdXNlICsgbWF0ZXJpYWwuZW1pc3Npb24sIG1hdGVyaWFsLmFscGhhKTsKICAgICAgICAgICAgI2Vsc2UKICAgICAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IGN6bV9waG9uZyhub3JtYWxpemUocG9zaXRpb25Ub0V5ZUVDKSwgbWF0ZXJpYWwsY3ptX2xpZ2h0RGlyZWN0aW9uRUMpOwogICAgICAgICAgICAjZW5kaWYKICAgICAgICAgICAgfQogICAgICAgICAgICA=","Y3JlYXRlSW5kZXhCdWZmZXI=","VU5TSUdORURfU0hPUlQ=","X2Rlc3Ryb3lDb21tYW5kcw==","X2NvbW1hbmRz","Y29tbWFuZA==","Ym91bmRpbmdWb2x1bWU=","aW5pdEJvdW5kaW5nU3BoZXJl","bGluZUNvbW1hbmQ=","X3N0YXJ0UmFkaXVz","Q2FtYmVyUmFkYXJQcmltaXRpdmU=","X2luc3RhbGxDdXN0b21DZXNpdW1QbHVnaW4=","aW5kaWNlcw==","YXR0cmlidXRlcw==","bGVuZ3Ro","cG9zaXRpb24=","dmFsdWVz","bm9ybWFs","R2VvbWV0cnlBdHRyaWJ1dGU=","Q29tcG9uZW50RGF0YXR5cGU=","RkxPQVQ=","Q2FydGVzaWFuMw==","ZnJvbUFycmF5","c3VidHJhY3Q=","Y3Jvc3M=","bmVlZHNVcGRhdGU=","c3FydA==","RWxsaXBzb2lk","V0dTODQ=","TWF0cml4NA==","bXVsdGlwbHlCeVBvaW50","b3JpZ2lu","ZGlyZWN0aW9u","bm9ybWFsaXpl","SW50ZXJzZWN0aW9uVGVzdHM=","cmF5RWxsaXBzb2lk","UmF5","Z2V0UG9pbnQ=","c3RhcnQ=","Q2FydG9ncmFwaGlj","ZnJvbUNhcnRlc2lhbg==","ZGVmaW5lUHJvcGVydHk=","X19lc01vZHVsZQ==","Y29tcHV0ZVZlcnRleE5vcm1hbHM=","ZXh0ZW5kMkVhcnRo","ZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24=","TWF0cml4Mw==","ZnJvbVF1YXRlcm5pb24=","VHJhbnNmb3Jtcw==","ZWFzdE5vcnRoVXBUb0ZpeGVkRnJhbWU=","bXVsdGlwbHk=","aW52ZXJzZQ==","Z2V0Um90YXRpb24=","UXVhdGVybmlvbg==","ZnJvbVJvdGF0aW9uTWF0cml4","SGVhZGluZ1BpdGNoUm9sbA==","Z2V0SGVhZGluZ1BpdGNoUm9sbEJ5T3JpZW50YXRpb24=","ZGVmaW5lZA==","X25vTW91c2VQb3NpdGlvbg==","cHJpbWl0aXZl","cGljaw==","cGlja1Bvc2l0aW9uU3VwcG9ydGVk","cGlja1Bvc2l0aW9u","aGVpZ2h0","bW9kZQ==","U2NlbmVNb2Rl","U0NFTkUzRA==","Y2FtZXJh","Z2V0UGlja1JheQ==","Z2xvYmU=","cGlja0VsbGlwc29pZA==","ZWxsaXBzb2lk","Z2V0Q3VycmVudE1vdXNlUG9zaXRpb24=","X2JvdHRvbVdpZHRo","Ym90dG9tV2lkdGg=","X2JvdHRvbUhlaWdodA==","Ym90dG9tSGVpZ2h0","X3RvcFdpZHRo","dG9wV2lkdGg=","X3RvcEhlaWdodA==","dG9wSGVpZ2h0","X2xlbmd0aA==","X3pSZXZlcnNl","elJldmVyc2U=","X3NsaWNlcw==","c2xpY2Vz","Rm91clByaXNtR2VvbWV0cnk=","X2NyZWF0ZUdlb21ldHJ5","cHVzaA==","RE9VQkxF","Qm91bmRpbmdTcGhlcmU=","ZnJvbVZlcnRpY2Vz","R2VvbWV0cnk=","UHJpbWl0aXZlVHlwZQ==","VFJJQU5HTEVT","R2VvbWV0cnlQaXBlbGluZQ==","Y29tcHV0ZU5vcm1hbA==","Y3JlYXRlR2VvbWV0cnk=","WkVSTw==","Y2xvbmU=","Y3JlYXRlT3V0bGluZUdlb21ldHJ5","TElORVM=","Y3JlYXRlT3V0bGluZUdlb21ldHJ5Mg==","dG9XaXJlZnJhbWU=","ZnJvbUFuZ2xlc0xlbmd0aA==","TWF0aA==","dG9SYWRpYW5z","dGFu","Q3ZDeWxpbmRlckdlb21ldHJ5","dG9wUmFkaXVz","Ym90dG9tUmFkaXVz","Q2FydGVzaWFuMg==","YXRhbjI=","c2lu","Y29z","ZnJvbUFuZ2xlQW5kTGVuZ3Ro","dW5kZWZpbmVk","U2F0ZWxsaXRlQ292ZXJhZ2VTaW11bGF0aW9u","c2NlbmU=","X2dlb21ldHJ5","X2FyZWFUeXBl","YXJlYVR5cGU=","QXJlYVR5cGU=","Rm91clByaXNt","X2FuZ2xlMQ==","YW5nbGUx","X2FuZ2xlMg==","YW5nbGUy","X3Bvc2l0aW9u","YXV0b0FuZ2xl","X3JvdGF0aW9u","cm90YXRpb24=","X3Nob3c=","ZGVmYXVsdFZhbHVl","c2hvdw==","X291dGxpbmU=","b3V0bGluZQ==","X2dyb3VuZEFyZWE=","Z3JvdW5kQXJlYQ==","X2dyb3VuZE91dExpbmU=","Z3JvdW5kT3V0TGluZQ==","ZGVmYXVsdENvbG9y","Y29sb3I=","Q29sb3I=","WUVMTE9X","ZGVmYXVsdExpbmVDb2xvcg==","bGluZUNvbG9y","X2dyb3VuZEFyZWFDb2xvcg==","Z3JvdW5kQXJlYUNvbG9y","X2dyb3VuZE91dExpbmVDb2xvcg==","Z3JvdW5kT3V0TGluZUNvbG9y","X21vZGVsTWF0cml4","SURFTlRJVFk=","X3F1YXRlcm5pb24=","X3RyYW5zbGF0aW9u","X3NjYWxl","X21hdHJpeA==","X2ludmVyc2VNYXRyaXg=","X3Bvc2l0aW9uQ2FydG9ncmFwaGlj","X3Bvc2l0aW9uQ2FydGVzaWFu","X2RyYXdDb21tYW5kcw==","X291dGxpbmVQb3NpdGlvbnM=","X2ltYWdpbmdBcmVhUG9zaXRpb25z","X3RyYWNrZWRFbnRpdHk=","dHJhY2tlZEVudGl0eQ==","X3RyYWNrUG9zaXRpb25z","X3RyYWNrR2VvbWV0cmllcw==","X3RyYWNr","dmlld2Vy","cHJpbWl0aXZlcw==","YWRk","YWRkR3JvdW5kQXJlYUVudGl0eQ==","aGFzT3duUHJvcGVydHk=","bWlu","dW5wYWNr","ZGVmaW5lUHJvcGVydGllcw==","cHJvdG90eXBl","Y2xlYXJDb21tYW5kcw==","aGVhZGluZw==","cGl0Y2g=","cm9sbA==","Z3JvdW5kQXJlYUVudGl0eQ==","UG9seWdvbkhpZXJhcmNoeQ==","ZW50aXRpZXM=","Q2FsbGJhY2tQcm9wZXJ0eQ==","cG9zaXRpb25z","Zm9yRWFjaA==","dmVydGV4QXJyYXk=","ZGVzdHJveQ==","bWVyZ2VHZW9tZXRyaWVz","57y65bCRZ2VvbWV0cmllc+WPguaVsA==","cHJpbWl0aXZlVHlwZQ==","5b6F5ZCI5bm255qE5Yeg5L2V5L2T5LitcHJpbWl0aXZlVHlwZeWxnuaAp+S4jeWujOWFqOS4gOiHtA==","5b6F5ZCI5bm255qE5Yeg5L2V5L2T5Lit5bGe5oCn5pWw6YeP5ZKM5ZKM5ZCN56ew5LiN5a6M5YWo5LiA6Ie0","ZnJvbQ==","Y29uc3RydWN0b3I=","dXBkYXRlSW1hZ2luZ0FyZWFHZW9tZXRyeQ==","bGFzdGVzdEZyYW1l","ZXF1YWxz","dXBkYXRlSW1hZ2luZ0FyZWFHZW9tZXRyeTI=","Z2VvbWV0cnk=","Y29tcHV0ZU1hdHJpeA==","ZnVuY3Rpb24=","Z2V0VmFsdWU=","X3ZhbHVl","b3JpZW50YXRpb24=","UHJvcGVydHk=","Z2V0VmFsdWVPclVuZGVmaW5lZA==","ZnJvbUhlYWRpbmdQaXRjaFJvbGw=","ZnJvbVRyYW5zbGF0aW9uUXVhdGVybmlvblJvdGF0aW9uU2NhbGU=","bXVsdGlwbHlUcmFuc2Zvcm1hdGlvbg==","aW52ZXJzZVRyYW5zZm9ybWF0aW9u","ZXhwb3J0SW1hZ2luZ0FyZWE=","X3Bvc2l0aW9ucw==","dG9EZWdyZWVz","bG9uZ2l0dWRl","bGF0aXR1ZGU=","dG9GaXhlZA==","cG9pbnQ=","ZmVhdHVyZUNvbGxlY3Rpb24=","Y29udmV4","Z2V0Q29vcmRz","cmVtb3Zl","X291dGxpbmVHZW9tZXRyeQ==","YWRkVG9TY2VuZQ==","dXBkYXRlR2VvbWV0cnk=","Q29uZQ==","Q3lsaW5kZXJHZW9tZXRyeQ==","dXBkYXRlVm9sdW1lR2VvbWV0cnk=","X3ZvbHVtZUdlb21ldHJ5","X3ZvbHVtZU91dGxpbmVHZW9tZXRyeQ==","dXBkYXRl","dGltZQ==","c3BsaWNl","ZnJvbURlZ3JlZXM=","X3ZvbHVtZUNvbW1hbmQ=","Y3JlYXRlRHJhd0NvbW1hbmQ=","Y29tbWFuZExpc3Q=","X3ZvbHVtZU91dGxpbmVDb21tYW5k","cG9seWdvbg==","cG9seWxpbmU=","X2RyYXdDb21tYW5k","Z2V0RnJhZ21lbnRTaGFkZXJTb3VyY2U=","I2RlZmluZSBGQUNFX0ZPUldBUkQKdmFyeWluZyB2ZWMzIHZfcG9zaXRpb247CnZhcnlpbmcgdmVjMyB2X25vcm1hbDsKdW5pZm9ybSBmbG9hdCBwaWNrZWQ7CnVuaWZvcm0gdmVjNCAgcGlja2VkQ29sb3I7CnVuaWZvcm0gdmVjNCAgZGVmYXVsdENvbG9yOwp1bmlmb3JtIGZsb2F0IHNwZWN1bGFyOwp1bmlmb3JtIGZsb2F0IHNoaW5pbmVzczsKdW5pZm9ybSB2ZWMzICBlbWlzc2lvbjsKdmFyeWluZyB2ZWMyIHZfc3Q7CnVuaWZvcm0gYm9vbCBpc0xpbmU7CnVuaWZvcm0gZmxvYXQgZ2xvd1Bvd2VyOwp2b2lkIG1haW4oKSB7CiAgICB2ZWMzIHBvc2l0aW9uVG9FeWVFQyA9IC12X3Bvc2l0aW9uOyAKICAgIHZlYzMgbm9ybWFsRUMgPW5vcm1hbGl6ZSh2X25vcm1hbCk7CiAgICBub3JtYWxFQyA9IGZhY2Vmb3J3YXJkKG5vcm1hbEVDLCB2ZWMzKDAuMCwgMC4wLCAxLjApLCAtbm9ybWFsRUMpOwogICAgdmVjNCBjb2xvcj1kZWZhdWx0Q29sb3I7CiAgICBpZihwaWNrZWQhPTAuMCl7CiAgICAgICAgY29sb3IgPSBwaWNrZWRDb2xvcjsKICAgIH0KICAgIGlmKHZfc3QueDwwLjUpewogICAgICAgIGNvbG9yLmEgPSBjb2xvci5hKiggMC43NS12X3N0LngpOyAKICAgIH0KICAgIGVsc2UgIHsKICAgICAgICBjb2xvci5hID1jb2xvci5hKih2X3N0LngtMC4yNSk7IAogICAgfQogICAgY3ptX21hdGVyaWFsIG1hdGVyaWFsOwogICAgbWF0ZXJpYWwuc3BlY3VsYXIgPSBzcGVjdWxhcjsKICAgIG1hdGVyaWFsLnNoaW5pbmVzcyA9IHNoaW5pbmVzczsKICAgIG1hdGVyaWFsLm5vcm1hbCA9ICBub3JtYWxFQzsKICAgIG1hdGVyaWFsLmVtaXNzaW9uID1lbWlzc2lvbjsvL3ZlYzMoMC4yLDAuMiwwLjIpOwogICAgbWF0ZXJpYWwuZGlmZnVzZSA9IGNvbG9yLnJnYiA7CiAgICBpZihpc0xpbmUpewogICAgICAgIG1hdGVyaWFsLmFscGhhID0gMS4wOyAKICAgIH0KICAgIGVsc2V7CiAgICAgICAgbWF0ZXJpYWwuYWxwaGEgPSBjb2xvci5hOyAKICAgIH0KICAgICAgICAvL2Zsb2F0IGdsb3cgPSBnbG93UG93ZXIgLyBhYnModl9zdC50ICApIC0gKGdsb3dQb3dlciAvIDAuNSk7IAogICAgICAgIC8vIAogICAgICAgIC8vbWF0ZXJpYWwuZW1pc3Npb24gPSBtYXgodmVjMyhnbG93IC0gMS4wICsgY29sb3IucmdiKSwgY29sb3IucmdiKTsgCiAgICAgICAgLy9pZihpc0xpbmUpCiAgICAgICAgLy8gICAgbWF0ZXJpYWwuYWxwaGEgPSBjbGFtcCgwLjAsIDEuMCwgZ2xvdykgKiBjb2xvci5hOyAKICAgICAgICAgCiAgICBpZih2X3N0Lng9PTAuMCl7IAogICAgICAgICAgZ2xfRnJhZ0NvbG9yID1jb2xvciA7CiAgICB9ZWxzZSB7IAogICAgICAgIGdsX0ZyYWdDb2xvciA9ICAgY3ptX3Bob25nKG5vcm1hbGl6ZShwb3NpdGlvblRvRXllRUMpLCBtYXRlcmlhbCxjem1fbGlnaHREaXJlY3Rpb25FQykgOyAKICAgIH0gCn0=","Z2V0VmVydGV4U2hhZGVyU291cmNl","CiNpZmRlZiBHTF9FUwogICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0OwojZW5kaWYKCmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwphdHRyaWJ1dGUgdmVjMiBzdDsKYXR0cmlidXRlIHZlYzMgbm9ybWFsOwp1bmlmb3JtIG1hdDQgbW9kZWxWaWV3TWF0cml4Owp1bmlmb3JtIG1hdDMgbm9ybWFsTWF0cml4Owp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeDsKdmFyeWluZyB2ZWMzIHZfcG9zaXRpb247CnZhcnlpbmcgdmVjMyB2X25vcm1hbDsKdmFyeWluZyB2ZWMyIHZfc3Q7Cgp2YXJ5aW5nIHZlYzMgdl9saWdodDBEaXJlY3Rpb247Cgp2b2lkIG1haW4odm9pZCkgCnsKICAgIHZlYzQgcG9zID0gIG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLDEuMCk7CiAgICB2X25vcm1hbCA9ICBub3JtYWxNYXRyaXggKiAgbm9ybWFsOwogICAgdl9zdCA9IHN0OwogICAgdl9wb3NpdGlvbiA9IHBvcy54eXo7CiAgICB2X2xpZ2h0MERpcmVjdGlvbiA9IG1hdDMoIG1vZGVsVmlld01hdHJpeCkgKiB2ZWMzKDEuMCwxLjAsMS4wKTsKICAgIGdsX1Bvc2l0aW9uID0gIHByb2plY3Rpb25NYXRyaXggKiBwb3M7Cn0=","Y29udGV4dA==","Ym91bmRpbmdTcGhlcmU=","Y2VudGVy","cmFkaXVz","RHJhd0NvbW1hbmQ=","UGFzcw==","T1BBUVVF","Y3JlYXRlQXR0cmlidXRlTG9jYXRpb25z","VmVydGV4QXJyYXk=","ZnJvbUdlb21ldHJ5","QnVmZmVyVXNhZ2U=","U1RBVElDX0RSQVc=","X2F0dHJpYnV0ZUxvY2F0aW9ucw==","c2hhZGVyUHJvZ3JhbQ==","U2hhZGVyUHJvZ3JhbQ==","cmVwbGFjZUNhY2hl","cmVuZGVyU3RhdGU=","UmVuZGVyU3RhdGU=","ZnJvbUNhY2hl","QmxlbmRpbmdTdGF0ZQ==","QUxQSEFfQkxFTkQ="];(function(i,n){var r=function(o){for(;--o;)i.push(i.shift())};r(++n)})(va,"344");var e=function(i,n){i=i-0;var r=va[i];e.hPWhUV===void 0&&(function(){var s;try{var l=Function('return (function() {}.constructor("return this")( ));');s=l()}catch{s=window}var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.atob||(s.atob=function(u){for(var d=String(u).replace(/=+$/,""),g=0,x,m,v=0,w="";m=d.charAt(v++);~m&&(x=g%4?x*64+m:m,g++%4)?w+=String.fromCharCode(255&x>>(-2*g&6)):0)m=c.indexOf(m);return w})}(),e.gwHlNX=function(s){for(var l=atob(s),c=[],u=0,d=l.length;u<d;u++)c+="%"+("00"+l.charCodeAt(u).toString(16)).slice(-2);return decodeURIComponent(c)},e.dLwPgH={},e.hPWhUV=!![]);var o=e.dLwPgH[i];return o===void 0?(r=e.gwHlNX(r),e.dLwPgH[i]=r):r=o,r};const Wo=function(i,n){function r(){function m(S){var G=S[e("0x0")],P=S[e("0x1")],I=G[e("0x2")];if(P[e("0x3")]){var M=P[e("0x3")][e("0x4")];if(P[e("0x5")]===void 0)P[e("0x5")]=new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x8")],componentsPerAttribute:3,values:new Float32Array(M[e("0x2")])});else for(var _=P[e("0x5")][e("0x4")],b=0;b<I;b++)_[b]=0;for(var A,F,T,Z=P[e("0x5")][e("0x4")],W=new n[e("0x9")],R=new n[e("0x9")],N=new n[e("0x9")],B=new n[e("0x9")],Y=new n[e("0x9")],b=0;b<I;b+=3)A=3*G[b+0],F=3*G[b+1],T=3*G[b+2],n[e("0x9")][e("0xa")](M,A,W),n[e("0x9")][e("0xa")](M,F,R),n[e("0x9")][e("0xa")](M,T,N),n[e("0x9")][e("0xb")](N,R,B),n[e("0x9")][e("0xb")](W,R,Y),n[e("0x9")][e("0xc")](B,Y,B),Z[A]+=B.x,Z[A+1]+=B.y,Z[A+2]+=B.z,Z[F]+=B.x,Z[F+1]+=B.y,Z[F+2]+=B.z,Z[T]+=B.x,Z[T+1]+=B.y,Z[T+2]+=B.z;v(S),P[e("0x5")][e("0xd")]=!0}return S}function v(S){for(var G,P,I,M,_=S[e("0x1")][e("0x5")][e("0x4")],b=0;b<_[e("0x2")];b+=3)G=_[b],P=_[b+1],I=_[b+2],M=1/Math[e("0xe")](G*G+P*P+I*I),_[b]=G*M,_[b+1]=P*M,_[b+2]=I*M}function w(S,G,P,I){I=I||n[e("0xf")][e("0x10")],n[e("0x11")][e("0x12")](G,S,p),n[e("0x9")][e("0xb")](p,P[e("0x13")],P[e("0x14")]),n[e("0x9")][e("0x15")](P[e("0x14")],P[e("0x14")]);var M=n[e("0x16")][e("0x17")](P,I),_=null;if(M&&(_=n[e("0x18")][e("0x19")](P,M[e("0x1a")])),_)try{n[e("0x1b")][e("0x1c")](_,null,C)}catch{return null}return _}Object[e("0x1d")](n.Scene,e("0x1e"),{value:!0});var p=new n[e("0x9")],C=(new n[e("0x18")],new n[e("0x1b")]);n.Scene[e("0x1f")]=m,n.Scene[e("0x20")]=w}function o(){function m(w,p){return v(w,n[e("0x11")][e("0x21")](n[e("0x22")][e("0x23")](p,h),w,f))}function v(w,p){var C=n[e("0x24")][e("0x25")](w,n[e("0xf")][e("0x10")],new n[e("0x11")]),S=n[e("0x11")][e("0x26")](n[e("0x11")][e("0x27")](C,new n[e("0x11")]),p,new n[e("0x11")]),G=n[e("0x11")][e("0x28")](S,new n[e("0x22")]),P=n[e("0x29")][e("0x2a")](G);return n[e("0x2b")][e("0x23")](P)}n[e("0x11")][e("0x2c")]=m}function s(){function m(w,p){if(n[e("0x2d")](w.id)){var C=w.id;if(C[e("0x2e")]||p&&C==p)return!1}if(n[e("0x2d")](w[e("0x2f")])){var S=w[e("0x2f")];if(S[e("0x2e")]||p&&S==p)return!1}return!0}function v(w,p,C){var S,G=w[e("0x30")](p);if(w[e("0x31")]&&n[e("0x2d")](G)&&m(G,C)){var S=w[e("0x32")](p);if(n[e("0x2d")](S)){var P=n[e("0x1b")][e("0x1c")](S),I=P[e("0x33")];if(I>=0||!n[e("0x2d")](G.id)&&I>=-500)return S}}if(w[e("0x34")]===n[e("0x35")][e("0x36")]){var M=w[e("0x37")][e("0x38")](p);S=w[e("0x39")][e("0x30")](M,w)}else S=w[e("0x37")][e("0x3a")](p,w[e("0x39")][e("0x3b")]);return S}n.Scene[e("0x3c")]=v}function l(){function m(p){this[e("0x3d")]=p[e("0x3e")],this[e("0x3f")]=p[e("0x40")],this[e("0x41")]=p[e("0x42")],this[e("0x43")]=p[e("0x44")],this[e("0x45")]=p[e("0x2")],this[e("0x46")]=p[e("0x47")],this[e("0x48")]=p[e("0x49")]?p[e("0x49")]:8}Object[e("0x1d")](n.Scene,e("0x1e"),{value:!0}),n.Scene[e("0x4a")]=void 0;var v=new n[e("0x9")],w=new n[e("0x18")];m[e("0x4b")]=function(p){for(var C=p[e("0x3d")],S=p[e("0x3f")],G=p[e("0x41")],P=p[e("0x43")],I=p[e("0x46")],M=(I?-1:1)*p[e("0x45")],_=new Float32Array(24),b=[],A=[],F=[0,M],T=[C,G],Z=[S,P],W=0,R=0;R<2;R++)_[3*W]=-T[R]/2,_[3*W+1]=-Z[R]/2,_[3*W+2]=F[R],A[2*W]=R,A[2*W+1]=0,W++,_[3*W]=-T[R]/2,_[3*W+1]=Z[R]/2,_[3*W+2]=F[R],A[2*W]=R,A[2*W+1]=0,W++,_[3*W]=T[R]/2,_[3*W+1]=Z[R]/2,_[3*W+2]=F[R],A[2*W]=R,A[2*W+1]=0,W++,_[3*W]=T[R]/2,_[3*W+1]=-Z[R]/2,_[3*W+2]=F[R],A[2*W]=R,A[2*W+1]=0,W++;b[e("0x4c")](0,1,3),b[e("0x4c")](1,2,3),b[e("0x4c")](0,4,5),b[e("0x4c")](0,5,1),b[e("0x4c")](1,2,6),b[e("0x4c")](1,6,5),b[e("0x4c")](2,3,7),b[e("0x4c")](7,6,2),b[e("0x4c")](0,3,7),b[e("0x4c")](7,4,0),b[e("0x4c")](4,5,6),b[e("0x4c")](6,7,4),b=new Int16Array(b),A=new Float32Array(A);var N={position:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x4d")],componentsPerAttribute:3,values:_}),st:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x8")],componentsPerAttribute:2,values:A})},B=n[e("0x4e")][e("0x4f")](_),Y=new n[e("0x50")]({attributes:N,indices:b,primitiveType:n[e("0x51")][e("0x52")],boundingSphere:B});return Y=n[e("0x53")][e("0x54")](Y),_=[],b=[],Y},m[e("0x55")]=function(p,C){if(!C)return m[e("0x4b")](cylinderGeometry);n[e("0x11")][e("0x12")](C,n[e("0x9")][e("0x56")],v),v[e("0x57")](w[e("0x13")]);var S=p[e("0x48")],G=(p[e("0x3d")],p[e("0x3f")],p[e("0x41")]),P=p[e("0x43")],I=p[e("0x46")],M=(I?-1:1)*p[e("0x45")],_=[],b=[],A=[],F=G/2,T=P/2,Z=S,W=S,R=0;_[e("0x4c")](0,0,0),A[e("0x4c")](1,1),R++;for(var N=new n[e("0x9")],B=[],Y=-W;Y<W;Y++){for(var L=[],J=-Z;J<Z;J++){var D=T*Y/W,U=F*J/Z;N.x=U,N.y=D,N.z=M;var te=(0,n.Scene[e("0x20")])(N,C,w);te?(_[e("0x4c")](U,D,M),A[e("0x4c")](1,1),L[e("0x4c")](R),R++):(L[e("0x4c")](-1),te=v)}B[e("0x4c")](L)}for(var ne,Q,X=[0,B[e("0x2")]-1],j=0;j<X[e("0x2")];j++)for(var Y=X[j],J=1;J<B[Y][e("0x2")];J++)ne=B[Y][J-1],Q=B[Y][J],ne>=0&&Q>=0&&b[e("0x4c")](0,ne,Q);for(var q=[0,B[0][e("0x2")]-1],ue=0;ue<q[e("0x2")];ue++)for(var J=q[ue],Y=1;Y<B[e("0x2")];Y++)ne=B[Y-1][J],Q=B[Y][J],ne>=0&&Q>=0&&b[e("0x4c")](0,ne,Q);_=new Float32Array(_),b=new Int32Array(b),A=new Float32Array(A);var me={position:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x4d")],componentsPerAttribute:3,values:_}),st:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x8")],componentsPerAttribute:2,values:A})},ce=n[e("0x4e")][e("0x4f")](_),ge=new n[e("0x50")]({attributes:me,indices:b,primitiveType:n[e("0x51")][e("0x52")],boundingSphere:ce});return(0,n.Scene[e("0x1f")])(ge),_=[],b=[],ge},m[e("0x58")]=function(p){for(var C=p[e("0x3d")],S=p[e("0x3f")],G=p[e("0x41")],P=p[e("0x43")],I=p[e("0x46")],M=(I?-1:1)*p[e("0x45")],_=new Float32Array(24),b=[],A=[],F=[0,M],T=[C,G],Z=[S,P],W=0,R=0;R<2;R++)_[3*W]=-T[R]/2,_[3*W+1]=-Z[R]/2,_[3*W+2]=F[R],A[2*W]=R,A[2*W+1]=0,W++,_[3*W]=-T[R]/2,_[3*W+1]=Z[R]/2,_[3*W+2]=F[R],A[2*W]=R,A[2*W+1]=0,W++,_[3*W]=T[R]/2,_[3*W+1]=Z[R]/2,_[3*W+2]=F[R],A[2*W]=R,A[2*W+1]=0,W++,_[3*W]=T[R]/2,_[3*W+1]=-Z[R]/2,_[3*W+2]=F[R],A[2*W]=R,A[2*W+1]=0,W++;b[e("0x4c")](0,1,1,2),b[e("0x4c")](2,3,3,0),b[e("0x4c")](0,4),b[e("0x4c")](1,5),b[e("0x4c")](2,6),b[e("0x4c")](3,7),b[e("0x4c")](4,5,5,6),b[e("0x4c")](6,7,7,4),b=new Int16Array(b),A=new Float32Array(A);var N={position:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x4d")],componentsPerAttribute:3,values:_}),st:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x8")],componentsPerAttribute:2,values:A})},B=n[e("0x4e")][e("0x4f")](_),Y=new n[e("0x50")]({attributes:N,indices:b,primitiveType:n[e("0x51")][e("0x59")],boundingSphere:B});return _=[],b=[],Y},m[e("0x5a")]=function(p){var C=(p[e("0x3d")],p[e("0x3f")],p[e("0x41")]),S=p[e("0x43")],G=p[e("0x46")],P=(G?-1:1)*p[e("0x45")],I=[],M=[],_=[],b=C/2,A=S/2,F=0;I[e("0x4c")](0,0,0),_[e("0x4c")](1,1),F++;for(var T=[],Z=-16;Z<16;Z++){for(var W=[],R=-16;R<16;R++){W[e("0x4c")](F);var N=A*Z/16,B=b*R/16;I[e("0x4c")](B,N,P),_[e("0x4c")](1,1),F++}T[e("0x4c")](W)}for(var Y,L,J=[0,T[e("0x2")]-1],D=0;D<J[e("0x2")];D++)for(var Z=J[D],R=1;R<T[Z][e("0x2")];R++)Y=T[Z][R-1],L=T[Z][R],M[e("0x4c")](0,Y,L);for(var U=[0,T[0][e("0x2")]-1],te=0;te<U[e("0x2")];te++)for(var R=U[te],Z=1;Z<T[e("0x2")];Z++)Y=T[Z-1][R],L=T[Z][R],M[e("0x4c")](0,Y,L);I=new Float32Array(I),M=new Int16Array(M),_=new Float32Array(_);var ne={position:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x4d")],componentsPerAttribute:3,values:I}),st:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x8")],componentsPerAttribute:2,values:_})},Q=n[e("0x4e")][e("0x4f")](I),X=new n[e("0x50")]({attributes:ne,indices:M,primitiveType:n[e("0x51")][e("0x52")],boundingSphere:Q});return(0,a[e("0x1f")])(X),n[e("0x53")][e("0x5b")](X),I=[],M=[],X},m[e("0x5c")]=function(p,C,S,G){var P={length:S,zReverse:G,bottomHeight:S,bottomWidth:S,topHeight:S,topWidth:S};return p=n[e("0x5d")][e("0x5e")](p),C=n[e("0x5d")][e("0x5e")](C),G?(P[e("0x40")]=0,P[e("0x3e")]=0,P[e("0x44")]=S*Math[e("0x5f")](p),P[e("0x42")]=S*Math[e("0x5f")](C)):(P[e("0x44")]=0,P[e("0x42")]=0,P[e("0x40")]=S*Math[e("0x5f")](p),P[e("0x3e")]=S*Math[e("0x5f")](C)),new m(P)},n.Scene[e("0x4a")]=m}function c(){if(!n[e("0x60")]){let p=function(C){this[e("0x2")]=C[e("0x2")],this[e("0x61")]=C[e("0x61")],this[e("0x62")]=C[e("0x62")],this[e("0x49")]=C[e("0x49")]?C[e("0x49")]:64,this[e("0x47")]=C[e("0x47")]};Object[e("0x1d")](n.Scene,e("0x1e"),{value:!0}),n.Scene[e("0x60")]=void 0;var m=new n[e("0x63")],v=new n[e("0x9")],w=new n[e("0x18")];p[e("0x4b")]=function(C){var S=C[e("0x2")],G=C[e("0x61")],P=C[e("0x62")],I=C[e("0x49")],M=2*Math.PI/(I-1),_=C[e("0x47")],b=[],A=[],F=[],T=[],Z=[P,G],W=[0,_?-S:S],R=0,N=Math[e("0x64")](P-G,S),B=m;B.z=Math[e("0x65")](N);for(var Y=Math[e("0x66")](N),L=0;L<W[e("0x2")];L++){T[L]=[];for(var J=Z[L],D=0;D<I;D++){T[L][e("0x4c")](R++);var U=M*D,te=J*Math[e("0x66")](U),ne=J*Math[e("0x65")](U);b[e("0x4c")](te,ne,W[L]),te=Y*Math[e("0x66")](U),ne=Y*Math[e("0x65")](U),A[e("0x4c")](te,ne,B.z),F[e("0x4c")](L/(W[e("0x2")]-1),0)}}for(var Q=[],L=1;L<W[e("0x2")];L++)for(var D=1;D<I;D++){var X=T[L-1][D-1],j=T[L][D-1],q=T[L][D],ue=T[L-1][D];Q[e("0x4c")](q),Q[e("0x4c")](ue),Q[e("0x4c")](X),Q[e("0x4c")](q),Q[e("0x4c")](X),Q[e("0x4c")](j),D==T[L][e("0x2")]-1&&(X=T[L-1][D],j=T[L][D],q=T[L][0],ue=T[L-1][0],Q[e("0x4c")](q),Q[e("0x4c")](ue),Q[e("0x4c")](X),Q[e("0x4c")](q),Q[e("0x4c")](X),Q[e("0x4c")](j))}Q=new Int16Array(Q),b=new Float32Array(b),A=new Float32Array(A),F=new Float32Array(F);var me={position:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x4d")],componentsPerAttribute:3,values:b}),normal:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x8")],componentsPerAttribute:3,values:A}),st:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x8")],componentsPerAttribute:2,values:F})},ce=n[e("0x4e")][e("0x4f")](b),ge=new n[e("0x50")]({attributes:me,indices:Q,primitiveType:n[e("0x51")][e("0x52")],boundingSphere:ce});return b=[],Q=[],F=[],ge},p[e("0x55")]=function(C,S){if(!S)return p[e("0x4b")](C);n[e("0x11")][e("0x12")](S,n[e("0x9")][e("0x56")],v),v[e("0x57")](w[e("0x13")]);var G=C[e("0x2")],P=C[e("0x61")],I=(C[e("0x62")],C[e("0x49")]),M=2*Math.PI/(I-1),_=C[e("0x47")],b=[],A=[],F=[],T=[],Z=[0,_?-G:G],W=0,W=0;b[e("0x4c")](0,0,0),A[e("0x4c")](1,1),W++;for(var R=new n[e("0x9")],N=P/15,B=0;B<16;B++){for(var Y=N*B,L=[],J=0;J<I;J++){var D=M*J,U=Y*Math[e("0x66")](D),te=Y*Math[e("0x65")](D);R.x=U,R.y=te,R.z=Z[1];var ne=(0,n[e("0x20")])(R,S,w);ne?(L[e("0x4c")](W),b[e("0x4c")](U,te,Z[1]),A[e("0x4c")](B/15,1),W++):(ne=v,L[e("0x4c")](-1))}T[e("0x4c")](L)}for(var Q,X,j=[0,T[e("0x2")]-1],q=0;q<j[e("0x2")];q++)for(var B=j[q],J=1;J<T[B][e("0x2")];J++)Q=T[B][J-1],X=T[B][J],Q>=0&&X>=0&&F[e("0x4c")](0,Q,X);b=new Float32Array(b),F=new Int32Array(F),A=new Float32Array(A);var ue={position:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x4d")],componentsPerAttribute:3,values:b}),st:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x8")],componentsPerAttribute:2,values:A})},me=n[e("0x4e")][e("0x4f")](b),ce=new n[e("0x50")]({attributes:ue,indices:F,primitiveType:n[e("0x51")][e("0x52")],boundingSphere:me});return(0,n.Scene[e("0x1f")])(ce),b=[],F=[],ce},p[e("0x58")]=function(C){var S=C[e("0x2")],G=C[e("0x61")],P=C[e("0x62")],I=C[e("0x49")],M=2*Math.PI/(I-1),_=C[e("0x47")],b=[],A=[],F=[],T=[],Z=[P,G],W=[0,_?-S:S],R=0,N=Math[e("0x64")](P-G,S),B=m;B.z=Math[e("0x65")](N);for(var Y=Math[e("0x66")](N),L=0;L<W[e("0x2")];L++){T[L]=[];for(var J=Z[L],D=0;D<I;D++){T[L][e("0x4c")](R++);var U=M*D,te=J*Math[e("0x66")](U),ne=J*Math[e("0x65")](U);b[e("0x4c")](te,ne,W[L]),te=Y*Math[e("0x66")](U),ne=Y*Math[e("0x65")](U),A[e("0x4c")](te,ne,B.z),F[e("0x4c")](L/(W[e("0x2")]-1),0)}}for(var Q=[],L=1;L<W[e("0x2")];L++)for(var D=1;D<I;D+=1){var X=T[L-1][D-1],j=T[L][D-1];T[L][D],T[L-1][D],D%8==1&&Q[e("0x4c")](X,j)}Q=new Int16Array(Q),b=new Float32Array(b),A=new Float32Array(A),F=new Float32Array(F);var q={position:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x4d")],componentsPerAttribute:3,values:b}),normal:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x8")],componentsPerAttribute:3,values:A}),st:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x8")],componentsPerAttribute:2,values:F})},ue=n[e("0x4e")][e("0x4f")](b),me=new n[e("0x50")]({attributes:q,indices:Q,primitiveType:n[e("0x51")][e("0x59")],boundingSphere:ue});return b=[],Q=[],F=[],me},p[e("0x67")]=function(C,S,G){return C=n[e("0x5d")][e("0x5e")](C),new p({topRadius:Math[e("0x5f")](C)*S/2,bottomRadius:0,length:S,zReverse:G})},n.Scene[e("0x60")]=p}}function u(){if(typeof turf!==e("0x68")&&!n[e("0x69")]){let P=function(_,b){b=b||{},m=_[e("0x6a")][e("0x39")][e("0x3b")],this[e("0x6b")]=null,this[e("0x6c")]=b[e("0x6d")]?b[e("0x6d")]:P[e("0x6e")][e("0x6f")],this[e("0x70")]=b[e("0x71")]?b[e("0x71")]:10,this[e("0x72")]=b[e("0x73")]?b[e("0x73")]:10,this[e("0x45")]=b[e("0x2")]?b[e("0x2")]:1e6,this[e("0x74")]=b[e("0x3")],this[e("0x75")]=b[e("0x75")],this[e("0x76")]=b[e("0x77")]?b[e("0x77")]:{heading:0,pitch:0,roll:0},this[e("0x78")]=n[e("0x79")](b[e("0x7a")],!0),this[e("0x7b")]=n[e("0x79")](b[e("0x7c")],!1),this[e("0x7d")]=n[e("0x79")](b[e("0x7e")],!1),this[e("0x7f")]=n[e("0x79")](b[e("0x80")],!1),this[e("0x81")]=b[e("0x82")]?b[e("0x82")]:n[e("0x83")][e("0x84")],this[e("0x85")]=b[e("0x86")],this[e("0x87")]=b[e("0x88")],this[e("0x89")]=b[e("0x8a")],this[e("0x8b")]=n[e("0x11")][e("0x57")](n[e("0x11")][e("0x8c")]),this[e("0x8d")]=new n[e("0x29")],this[e("0x8e")]=new n[e("0x9")],this[e("0x8f")]=new n[e("0x9")](1,1,1),this[e("0x90")]=new n[e("0x11")],this[e("0x91")]=new n[e("0x11")],this[e("0x92")]=new n[e("0x1b")],this[e("0x93")]=null,this[e("0x94")]=[],this[e("0x95")]=[],this[e("0x96")]=[],this[e("0x97")]=b[e("0x98")],this[e("0x99")]=[],this[e("0x9a")]=[],this[e("0x9b")]={geometry:null,needsUpdate:!1,lastestFrame:null},this[e("0x9c")]=_,this[e("0x9c")][e("0x6a")][e("0x9d")][e("0x9e")](this),this[e("0x9f")](this[e("0x7d")]||this[e("0x7f")])},I=function(_){var b=[];for(var A in _[e("0x1")])_[e("0x1")][e("0xa0")](A)&&_[e("0x1")][A]&&b[e("0x4c")](A);return b},M=function(_,b,A,F,T,Z,W){T=T||n[e("0xf")][e("0x10")],Z||(Z=[]),n[e("0x11")][e("0x27")](b,v),n[e("0x11")][e("0x12")](b,n[e("0x9")][e("0x56")],p),p[e("0x57")](C[e("0x13")]);var R=0;F=Math[e("0xa1")](_[e("0x2")],A+F);for(var N=A;N<F;N+=3){n[e("0x9")][e("0xa2")](_,N,w),n[e("0x11")][e("0x12")](b,w,p),n[e("0x9")][e("0xb")](p,C[e("0x13")],C[e("0x14")]),n[e("0x9")][e("0x15")](C[e("0x14")],C[e("0x14")]);var B=n[e("0x16")][e("0x17")](C,T),Y=null;B&&(Y=n[e("0x18")][e("0x19")](C,B[e("0x1a")])),Y&&(Y[e("0x57")](p),Z[R]=p[e("0x57")](Z[R]),W&&W instanceof Float32Array&&(n[e("0x11")][e("0x12")](v,p,p),W[A+3*R]=p.x,W[A+3*R+1]=p.y,W[A+3*R+2]=p.z)),R++}return Z};n.Scene[e("0x69")]=void 0;var m,v=new n[e("0x11")],w=new n[e("0x9")],p=new n[e("0x9")],C=new n[e("0x18")],S=new n[e("0x1b")];P[e("0x6e")]={Cone:1,FourPrism:2},Object[e("0xa3")](P[e("0xa4")],{color:{get:function(){return this[e("0x81")]},set:function(_){this[e("0x81")]=_}},lineColor:{get:function(){return this[e("0x85")]},set:function(_){this[e("0x85")]=_}},trackedEntity:{get:function(){return this[e("0x97")]},set:function(_){_!=this[e("0x97")]&&(this[e("0x3")]=_[e("0x3")]),this[e("0x97")]=_}},show:{get:function(){return this[e("0x78")]},set:function(_){this[e("0x78")]=_}},outline:{get:function(){return this[e("0x7b")]},set:function(_){this[e("0x7b")]=_}},angle1:{get:function(){return this[e("0x70")]},set:function(_){this[e("0x70")]=_,this[e("0xa5")](),this[e("0x6b")]=null}},angle2:{get:function(){return this[e("0x72")]},set:function(_){this[e("0x72")]=_,this[e("0xa5")](),this[e("0x6b")]=null}},areaType:{get:function(){return this[e("0x6c")]},set:function(_){this[e("0x6c")]=_,this[e("0xa5")](),this[e("0x6b")]=null}},rotation:{get:function(){return this[e("0x76")]},set:function(_){this[e("0x76")]=_,this[e("0xa5")](),this[e("0x6b")]=null}},heading:{get:function(){return this[e("0x76")][e("0xa6")]},set:function(_){this[e("0x76")][e("0xa6")]=_,this[e("0xa5")](),this[e("0x6b")]=null}},pitch:{get:function(){return this[e("0x76")][e("0xa7")]},set:function(_){this[e("0x76")][e("0xa7")]=_,this[e("0xa5")](),this[e("0x6b")]=null}},roll:{get:function(){return this[e("0x76")][e("0xa8")]},set:function(_){this[e("0x76")][e("0xa8")]=_,this[e("0xa5")](),this[e("0x6b")]=null}},position:{get:function(){return this[e("0x74")]},set:function(_){this[e("0x74")]=_,this[e("0x6b")]=null,this[e("0x94")]=[]}}}),P[e("0xa4")][e("0x9f")]=function(_){if(_&&!this[e("0xa9")]){var b=this,A=new n[e("0xaa")];this[e("0xa9")]=this[e("0x9c")][e("0xab")][e("0x9e")]({polygon:{show:this[e("0x7d")],material:this[e("0x87")]||this[e("0x81")],hierarchy:new n[e("0xac")](function(F){return A[e("0xad")]=b[e("0x96")],A},!1)},polyline:{show:this[e("0x7f")],material:this[e("0x89")]||this[e("0x87")]||this[e("0x81")],width:1.5,positions:new n[e("0xac")](function(F){return b[e("0x96")]},!1)}})}},P[e("0xa4")][e("0xa5")]=function(){this[e("0x94")][e("0xae")](function(_){_[e("0xaf")][e("0xb0")]()}),this[e("0x94")]=[]},P[e("0xa4")][e("0xb1")]=function(_,b){if(!_||!_[e("0x2")])throw new Error(e("0xb2"));for(var A=[],F=!1,T=!1,Z=_[0][e("0xb3")],W=0;W<_[e("0x2")];W++){if(A[W]=I(_[W]),W>0){if(Z!=_[W][e("0xb3")]){T=!0;break}var R=A[W-1];if(!(F=R[e("0x2")]!=A[W][e("0x2")])){for(var N=0;N<R[e("0x2")];N++)if(R[N]!=A[W][N]){F=!0;break}}}if(Z=_[W][e("0xb3")],F||T)break}if(T)throw new Error(e("0xb4"));if(F)throw new Error(e("0xb5"));for(var B={},Y=A[0],W=0;W<Y[e("0x2")];W++){var L=Y[W],J=_[0];B[L]={};for(var D in J[e("0x1")][L])J[e("0x1")][L][e("0xa0")](D)&&(B[L][D]=J[e("0x1")][L][D]);for(var U=Array[e("0xb6")](B[L][e("0x4")]),N=1;N<_[e("0x2")];N++){J=_[N];for(var te=0;te<J[e("0x1")][L][e("0x4")][e("0x2")];te++)U[e("0x4c")](J[e("0x1")][L][e("0x4")][te])}B[L][e("0x4")]=new B[L][e("0x4")][e("0xb7")](U)}for(var ne=[],Q=0,N=0;N<_[e("0x2")];N++){for(var J=_[0],W=0;W<J[e("0x0")][e("0x2")];W++)ne[e("0x4c")](J[e("0x0")][W]+Q);Q+=J[e("0x1")][e("0x3")][e("0x4")][e("0x2")]/3}var X=n[e("0x4e")][e("0x4f")](B[e("0x3")][e("0x4")]);return new n[e("0x50")]({attributes:B,indices:new Int32Array(ne),primitiveType:_[0][e("0xb3")],boundingSphere:X})},P[e("0xa4")][e("0xb8")]=function(_){if(this[e("0x9b")][e("0xb9")]){var b=this[e("0x9b")][e("0xb9")][e("0x2")]!=this[e("0x95")][e("0x2")];if(!b){for(var A=0;A<this[e("0x9b")][e("0xb9")][e("0x2")];A++)if(!this[e("0x9b")][e("0xb9")][A][e("0xba")](this[e("0x95")][A])){b=!0;break}}if(!b)return}if(this[e("0x9b")][e("0xb9")]&&this[e("0x9b")][e("0xb9")][e("0x2")]==this[e("0x95")][e("0x2")])for(var A=0;A<this[e("0x95")][e("0x2")];A++)this[e("0x95")][A][e("0x57")](this[e("0x9b")][e("0xb9")][A]);else{this[e("0x9b")][e("0xb9")]=[];for(var A=0;A<this[e("0x95")][e("0x2")];A++)this[e("0x9b")][e("0xb9")][e("0x4c")](this[e("0x95")][A][e("0x57")]())}var F=this[e("0xbb")](_);if(this[e("0x9a")][e("0x4c")](F),this[e("0x9b")][e("0xbc")]){var T=this[e("0x9b")][e("0xbc")][e("0x1")];for(var A in T)T[e("0xa0")](A)&&delete T[A];for(var A in this[e("0x9b")][e("0xbc")])this[e("0x9b")][e("0xbc")][e("0xa0")](A)&&delete this[e("0x9b")][e("0xbc")][A]}this[e("0x9b")][e("0xbc")]=this[e("0xb1")](this[e("0x9a")]),this[e("0x9b")][e("0xd")]=!0};var G=new n[e("0x29")];P[e("0xa4")][e("0xbd")]=function(_,b){if(this[e("0x93")]||(this[e("0x93")]=new n[e("0x9")]),this[e("0x3")]instanceof n[e("0x9")]?this[e("0x93")]=this[e("0x3")]:e("0xbe")==typeof this[e("0x3")][e("0xbf")]?this[e("0x93")]=this[e("0x3")][e("0xbf")](_):this[e("0x3")][e("0xc0")]&&this[e("0x3")][e("0xc0")]instanceof n[e("0x9")]&&(this[e("0x93")]=this[e("0x3")][e("0xc0")]),!this[e("0x93")])return this[e("0x90")];if(this[e("0x8b")]=n[e("0x24")][e("0x25")](this[e("0x93")],m,this[e("0x8b")]),this[e("0x92")]=n[e("0x1b")][e("0x1c")](this[e("0x93")],m,this[e("0x92")]),n[e("0x24")][e("0x25")](this[e("0x93")],m,this[e("0x8b")]),this[e("0x75")]&&this[e("0x97")]&&this[e("0x97")][e("0xc1")]){var A=n[e("0xc2")][e("0xc3")](this[e("0x97")][e("0xc1")],_,G),F=n[e("0x11")][e("0x2c")](this[e("0x93")],A);this[e("0x76")][e("0xa6")]=F[e("0xa6")]}return n[e("0x29")][e("0xc4")](this[e("0x76")],this[e("0x8d")]),this[e("0x90")]=n[e("0x11")][e("0xc5")](this[e("0x8e")],this[e("0x8d")],this[e("0x8f")],this[e("0x90")]),n[e("0x11")][e("0xc6")](this[e("0x8b")],this[e("0x90")],this[e("0x90")]),n[e("0x11")][e("0xc7")](this[e("0x90")],this[e("0x91")]),this[e("0x90")]},P[e("0xa4")][e("0xc8")]=function(_,b){var A=this[e("0x95")];if(b){if(this[e("0xbd")](b),!this[e("0x93")])return;A=M(this[e("0xc9")],this[e("0x90")],3,this[e("0xc9")][e("0x2")]-3,m,null,this[e("0x6b")][e("0x1")][e("0x3")][e("0x4")])}for(var F=[],T=0;T<A[e("0x2")];T++){var Z=A[T];n[e("0x1b")][e("0x1c")](Z,void 0,S);var W=[n[e("0x5d")][e("0xca")](S[e("0xcb")]),n[e("0x5d")][e("0xca")](S[e("0xcc")])];_&&(W[0]=parseFloat(W[0][e("0xcd")](_)),W[1]=parseFloat(W[1][e("0xcd")](_))),F[e("0x4c")](turf[e("0xce")](W))}var R=[];if(F[e("0x2")]>0){F=turf[e("0xcf")](F);var N=turf[e("0xd0")](F);if(N){var B=turf[e("0xd1")](N);B&&B[e("0x2")]>0&&(R=B[0])}}return R},P[e("0xa4")][e("0xbb")]=function(_){for(var b=[],A=[],F=0,T=0;T<this[e("0x95")][e("0x2")];T+=2){var Z=this[e("0x95")][0];b[e("0x4c")](Z.x,Z.y,Z.z),A[e("0x4c")](F++)}return b=new Float32Array(b),A=new Int32Array(A),new n[e("0x50")]({attributes:{position:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x4d")],componentsPerAttribute:3,values:b})},primitiveType:n[e("0x51")][e("0x59")],indices:A,boundingSphere:n[e("0x4e")][e("0x4f")](b)})},P[e("0xa4")][e("0xd2")]=function(){this[e("0x9c")][e("0x6a")][e("0x9d")][e("0xd2")](this),this[e("0xa9")]&&this[e("0x9c")][e("0xab")][e("0xd2")](this[e("0xa9")])},P[e("0xa4")][e("0xb0")]=function(_){if(_){this[e("0x9c")][e("0x6a")][e("0x9d")][e("0xd2")](this),this[e("0xa9")]&&this[e("0x9c")][e("0xab")][e("0xd2")](this[e("0xa9")]),this[e("0x94")][e("0xae")](function(A){A[e("0xaf")]=A[e("0xaf")]&&A[e("0xaf")][e("0xb0")]()}),this[e("0x94")]=[];for(var b in this[e("0xd3")][e("0x1")])this[e("0xd3")][e("0x1")][e("0xa0")](b)&&delete this[e("0xd3")][e("0x1")][b];for(var b in this[e("0x6b")][e("0x1")])this[e("0x6b")][e("0x1")][e("0xa0")](b)&&delete this[e("0x6b")][e("0x1")][b];delete this[e("0xd3")],delete this[e("0x6b")],delete this[e("0x93")],delete this[e("0x74")],this[e("0x95")]=[]}},P[e("0xa4")][e("0xd4")]=function(){this[e("0x9c")][e("0x6a")][e("0x9d")][e("0x9e")](this),this[e("0xa9")]&&this[e("0x9c")][e("0xab")][e("0x9e")](this[e("0xa9")])},P[e("0xa4")][e("0xd5")]=function(){this[e("0x6c")]==P[e("0x6e")][e("0xd6")]?(this[e("0x6b")]=n[e("0xd7")][e("0x55")](n[e("0xd7")][e("0x67")](this[e("0x70")],this[e("0x45")],!0),this[e("0x90")]),this[e("0xd3")]=n[e("0xd7")][e("0x58")](n[e("0xd7")][e("0x67")](this[e("0x70")],this[e("0x45")],!0))):(this[e("0x6b")]=n.Scene[e("0x4a")][e("0x55")](n.Scene[e("0x4a")][e("0x5c")](this[e("0x70")],this[e("0x72")],this[e("0x45")],!0),this[e("0x90")]),this[e("0xd3")]=n.Scene[e("0x4a")][e("0x58")](n.Scene[e("0x4a")][e("0x5c")](this[e("0x70")],this[e("0x72")],this[e("0x45")],!0))),this[e("0xc9")]=new Float32Array(this[e("0x6b")][e("0x1")][e("0x3")][e("0x4")][e("0x2")]);for(var _=0;_<this[e("0xc9")][e("0x2")];_++)this[e("0xc9")][_]=this[e("0x6b")][e("0x1")][e("0x3")][e("0x4")][_];this[e("0x95")]=[]},P[e("0xa4")][e("0xd8")]=function(){var _=1+this[e("0x96")][e("0x2")],b=new Float32Array(3+3*this[e("0x96")][e("0x2")]),A=0;b[A++]=this[e("0x93")].x,b[A++]=this[e("0x93")].y,b[A++]=this[e("0x93")].z;for(var F=0;F<this[e("0x96")][e("0x2")];F++)b[A++]=this[e("0x96")][F].x,b[A++]=this[e("0x96")][F].y,b[A++]=this[e("0x96")][F].z;for(var T=[],Z=[],F=1;F<_-1;F++)T[e("0x4c")](0,F,F+1),Z[e("0x4c")](0,F);T=_>=65535?new Uint32Array(T):new Uint16Array(T);var W={position:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x4d")],componentsPerAttribute:3,values:b})},R=n[e("0x4e")][e("0x4f")](b),N=new n[e("0x50")]({attributes:W,indices:T,primitiveType:n[e("0x51")][e("0x52")],boundingSphere:R}),B=new n[e("0x50")]({attributes:W,indices:new Uint32Array(Z),primitiveType:n[e("0x51")][e("0x59")],boundingSphere:R});(0,n.Scene[e("0x1f")])(N),this[e("0xd9")]=N,this[e("0xda")]=B},P[e("0xa4")][e("0xdb")]=function(_){if(this[e("0x78")]&&(this[e("0xbd")](_[e("0xdc")]),this[e("0x93")])){this[e("0x6b")]||this[e("0xd5")](),this[e("0x95")]=M(this[e("0xc9")],this[e("0x90")],3,this[e("0xc9")][e("0x2")]-3,m,this[e("0x95")],this[e("0x6b")][e("0x1")][e("0x3")][e("0x4")]),this[e("0x96")][e("0xdd")](0,this[e("0x96")][e("0x2")]);var b=this[e("0xc8")]();if(b&&b[e("0x2")]){for(var A=0;A<b[e("0x2")];A++){var F=b[A];this[e("0x96")][e("0x4c")](n[e("0x9")][e("0xde")](F[0],F[1]))}_[e("0x34")]===n[e("0x35")][e("0x36")]?(this[e("0xd8")](),this[e("0xd9")]&&(this[e("0xdf")]&&(this[e("0xdf")][e("0xaf")]=this[e("0xdf")][e("0xaf")]&&this[e("0xdf")][e("0xaf")][e("0xb0")](),this[e("0xdf")]=null),this[e("0xdf")]=this[e("0xe0")](this[e("0xd9")],_,n[e("0x11")][e("0x8c")][e("0x57")]()),_[e("0xe1")][e("0x4c")](this[e("0xdf")]),this[e("0x7b")]&&(this[e("0xe2")]&&(this[e("0xe2")][e("0xaf")]=this[e("0xe2")][e("0xaf")]&&this[e("0xe2")][e("0xaf")][e("0xb0")](),this[e("0xe2")]=null),this[e("0xe2")]=this[e("0xe0")](this[e("0xda")],_,n[e("0x11")][e("0x8c")][e("0x57")]()),_[e("0xe1")][e("0x4c")](this[e("0xe2")]))),this[e("0xa9")]&&(this[e("0xa9")][e("0xe3")][e("0x7a")]=this[e("0x7d")]&&this[e("0x78")],this[e("0xa9")][e("0xe4")][e("0x7a")]=this[e("0x7f")]&&this[e("0x78")])):(this[e("0xa9")]||this[e("0x9f")](!0),this[e("0xa9")][e("0xe3")][e("0x7a")]=!0)}else this[e("0x7b")]&&(this[e("0xd3")][e("0xe5")]||(this[e("0xd3")][e("0xe5")]=this[e("0xe0")](this[e("0xd3")],_)),_[e("0xe1")][e("0x4c")](this[e("0xd3")][e("0xe5")])),this[e("0xa9")]&&(this[e("0xa9")][e("0xe3")][e("0x7a")]=!1,this[e("0xa9")][e("0xe4")][e("0x7a")]=!1)}},P[e("0xa4")][e("0xe6")]=function(_){return e("0xe7")},P[e("0xa4")][e("0xe8")]=function(_){return e("0xe9")},P[e("0xa4")][e("0xe0")]=function(_,b,A){var F=b[e("0xea")],T=new n[e("0x9")];n[e("0x11")][e("0x12")](this[e("0x90")],_[e("0xeb")][e("0xec")],T);var Z=(new n[e("0x4e")](T,_[e("0xeb")][e("0xed")]),new n[e("0xee")]({modelMatrix:A||this[e("0x90")],owner:this,primitiveType:_[e("0xb3")],pass:n[e("0xef")][e("0xf0")]})),W=this,R=n[e("0x53")][e("0xf1")](_);return Z[e("0xaf")]=n[e("0xf2")][e("0xf3")]({context:F,geometry:_,attributeLocations:R,bufferUsage:n[e("0xf4")][e("0xf5")]}),Z[e("0xaf")][e("0xf6")]=R,Z[e("0xf7")]=n[e("0xf8")][e("0xf9")]({context:F,vertexShaderSource:this[e("0xe8")](_),fragmentShaderSource:this[e("0xe6")](_),attributeLocations:R}),Z[e("0xfa")]=n[e("0xfb")][e("0xfc")]({blending:n[e("0xfd")][e("0xfe")],depthTest:{enabled:!0,func:n[e("0xff")][e("0x100")]},cull:{enabled:!1,face:n[e("0x101")][e("0x102")]},depthMask:!1}),Z[e("0x103")]={},Z[e("0x103")][e("0x104")]=function(){return b[e("0xea")][e("0x105")][e("0x106")]},Z[e("0x103")][e("0x107")]=function(){return b[e("0xea")][e("0x105")][e("0x108")]},Z[e("0x103")][e("0x109")]=function(){return W[e("0x109")]||(W[e("0x109")]=0),W[e("0x109")]},Z[e("0x103")][e("0x10a")]=function(){return W[e("0x10a")]||(W[e("0x10a")]=new n[e("0x9")](.2,.2,.2)),W[e("0x10a")]},Z[e("0x103")][e("0x10b")]=function(){return W[e("0x10b")]||(W[e("0x10b")]=0),W[e("0x10b")]},Z[e("0x103")][e("0x10c")]=function(){return _[e("0xb3")]==n[e("0x51")][e("0x59")]},Z[e("0x103")][e("0x81")]=function(){return _[e("0x82")]?_[e("0x82")]:_[e("0xb3")]==n[e("0x51")][e("0x59")]?W[e("0x85")]||W[e("0x81")]||new n[e("0x83")](1,1,0,.5):W[e("0x81")]||new n[e("0x83")](1,0,0,1)},Z[e("0x103")][e("0x10d")]=function(){return W[e("0x10d")]||(W[e("0x10d")]=0),W[e("0x10d")]},Z[e("0x103")][e("0x10e")]=function(){return W[e("0x10e")]||(W[e("0x10e")]=new n[e("0x83")](1,1,0,1)),W[e("0x10e")]},Z[e("0x103")][e("0x10f")]=function(){return b[e("0xea")][e("0x105")][e("0x5")]},Z[e("0x103")][e("0x110")]=function(){return .25},Z},n.Scene[e("0x111")]=M,n.Scene[e("0x69")]=P}}function d(){if(!n[e("0x112")]){let w=function(p,C){C=C||{},m=p[e("0x6a")][e("0x39")][e("0x3b")],this[e("0x6b")]=null,this[e("0x113")]=C[e("0x114")],this[e("0x115")]=C[e("0xed")]?C[e("0xed")]:5,this[e("0x74")]=C[e("0x3")],this[e("0x76")]=C[e("0x77")]?C[e("0x77")]:{heading:0,pitch:0,roll:0},this[e("0x97")]=C[e("0x98")],this[e("0x81")]=C[e("0x82")]?C[e("0x82")]:n[e("0x83")][e("0x84")],this[e("0x85")]=C[e("0x86")]?C[e("0x86")]:this[e("0x81")],this[e("0x78")]=n[e("0x79")](C[e("0x7a")],!0),this[e("0x7b")]=n[e("0x79")](C[e("0x7c")],!1),this[e("0x116")]=n[e("0x79")](C[e("0x117")],!0),this[e("0x118")]=n[e("0x79")](C[e("0x119")],!0),this[e("0x8b")]=n[e("0x11")][e("0x57")](n[e("0x11")][e("0x8c")]),this[e("0x8d")]=new n[e("0x29")],this[e("0x8e")]=new n[e("0x9")],this[e("0x8f")]=new n[e("0x9")](1,1,1),this[e("0x90")]=new n[e("0x11")],this[e("0x91")]=new n[e("0x11")],this[e("0x92")]=new n[e("0x1b")],this[e("0x93")]=null,this[e("0x94")]=[],this[e("0x95")]=[],this[e("0x9c")]=p,this[e("0x9c")][e("0x6a")][e("0x9d")][e("0x9e")](this),this[e("0xd5")](),this[e("0x7d")]=n[e("0x79")](C[e("0x7e")],!1),this[e("0x9f")](this[e("0x7d")])};n.Scene[e("0x112")]=void 0;var m;Object[e("0xa3")](w[e("0xa4")],{trackedEntity:{get:function(){return this[e("0x97")]},set:function(p){this[e("0x97")]=p}},color:{get:function(){return this[e("0x81")]},set:function(p){this[e("0x81")]=p}},lineColor:{get:function(){return this[e("0x85")]},set:function(p){this[e("0x85")]=p}},show:{get:function(){return this[e("0x78")]},set:function(p){this[e("0x78")]=p}},outline:{get:function(){return this[e("0x7b")]},set:function(p){this[e("0x7b")]=p,this[e("0xd5")]()}},top:{get:function(){return this[e("0x116")]},set:function(p){this[e("0x116")]=p,this[e("0xd5")]()}},topOutline:{get:function(){return this[e("0x118")]},set:function(p){this[e("0x118")]=p,this[e("0xd5")]()}},groundArea:{get:function(){return this[e("0x7d")]},set:function(p){this[e("0x7d")]=p,this[e("0x9f")](this[e("0x7d")])}},angle:{get:function(){return this[e("0x113")]},set:function(p){this[e("0x113")]=p,this[e("0x11a")](),this[e("0xd5")]()}},radius:{get:function(){return this[e("0x115")]},set:function(p){this[e("0x115")]=p,this[e("0x11a")](),this[e("0xd5")]()}},heading:{get:function(){return this[e("0x76")][e("0xa6")]},set:function(p){this[e("0x76")][e("0xa6")]=p}},pitch:{get:function(){return this[e("0x76")][e("0xa7")]},set:function(p){this[e("0x76")][e("0xa7")]=p}},roll:{get:function(){return this[e("0x76")][e("0xa8")]},set:function(p){this[e("0x76")][e("0xa8")]=p}},position:{get:function(){return this[e("0x74")]},set:function(p){this[e("0x74")]=p}}}),w[e("0xa4")][e("0x11a")]=function(){this[e("0x11b")]=this[e("0x115")]*Math[e("0x66")](n[e("0x5d")][e("0x5e")](this[e("0x113")]))},w[e("0xa4")][e("0x9f")]=function(p){if(p&&!this[e("0xa9")]){var C=this;this[e("0x11a")](),this[e("0xa9")]=viewer[e("0xab")][e("0x9e")]({position:this[e("0x74")],ellipse:{show:this[e("0x76")][e("0xa7")]===0&&this[e("0x76")][e("0xa8")]===0,semiMinorAxis:new n[e("0xac")](function(S){return C[e("0x11b")]},!1),semiMajorAxis:new n[e("0xac")](function(S){return C[e("0x11b")]},!1),material:this[e("0x81")]},polyline:{show:this[e("0x11c")]&&(this[e("0x76")][e("0xa7")]!==0||this[e("0x76")][e("0xa8")]!==0),positions:new n[e("0xac")](function(S){return C[e("0x11c")]?n[e("0x9")][e("0x11d")](C[e("0x74")],C[e("0x11c")])>C[e("0x115")]?[]:[C[e("0x74")],C[e("0x11c")]]:[]},!1),followSurface:!1,material:new n[e("0x11e")]({color:n[e("0x83")][e("0x11f")]}),width:1}})}};var v=new n[e("0x9")];w[e("0xa4")][e("0xbd")]=function(p,C){if(this[e("0x93")]||(this[e("0x93")]=new n[e("0x9")]),this[e("0x3")]instanceof n[e("0x9")]?this[e("0x93")]=this[e("0x3")]:e("0xbe")==typeof this[e("0x3")][e("0xbf")]?this[e("0x93")]=this[e("0x3")][e("0xbf")](p):this[e("0x3")][e("0xc0")]&&this[e("0x3")][e("0xc0")]instanceof n[e("0x9")]&&(this[e("0x93")]=this[e("0x3")][e("0xc0")]),this[e("0x97")]&&this[e("0x97")][e("0x3")]){var S=this[e("0x93")],G=n[e("0xc2")][e("0xc3")](this[e("0x97")][e("0x3")],p,v);if(G){this[e("0x11c")]=G;var P=mars3d[e("0x120")][e("0x121")](S,G,m);this[e("0x76")][e("0xa6")]=P[e("0xa6")],this[e("0x76")][e("0xa7")]=P[e("0xa7")],this[e("0x76")][e("0xa8")]=P[e("0xa8")]}}return this[e("0x8b")]=n[e("0x24")][e("0x25")](this[e("0x93")],m,this[e("0x8b")]),this[e("0x92")]=n[e("0x1b")][e("0x1c")](this[e("0x93")],m,this[e("0x92")]),n[e("0x24")][e("0x25")](this[e("0x93")],m,this[e("0x8b")]),n[e("0x29")][e("0xc4")](this[e("0x76")],this[e("0x8d")]),this[e("0x90")]=n[e("0x11")][e("0xc5")](this[e("0x8e")],this[e("0x8d")],this[e("0x8f")],this[e("0x90")]),n[e("0x11")][e("0xc6")](this[e("0x8b")],this[e("0x90")],this[e("0x90")]),n[e("0x11")][e("0xc7")](this[e("0x90")],this[e("0x91")]),this[e("0x90")]},w[e("0xa4")][e("0x122")]=function(){for(var p=this[e("0xed")],C=[],S=[],G=[],P=[],I=90-parseInt(this[e("0x114")]),M=I<1?I/8:1,_=2*Math.PI/127,b=0,A=this[e("0x114")];A<91;A+=M){var F=n[e("0x5d")][e("0x5e")](A<90?A:90);F=Math[e("0x66")](F)*p;for(var T=[],Z=0;Z<128;Z++){var W=_*Z,R=F*Math[e("0x66")](W),N=F*Math[e("0x65")](W),B=Math[e("0xe")](p*p-R*R-N*N);C[e("0x4c")](R,N,B),S[e("0x4c")](1,1),T[e("0x4c")](b++)}P[e("0x4c")](T)}for(var A=1;A<P[e("0x2")];A++)for(var Z=1;Z<P[A][e("0x2")];Z++){var Y=P[A-1][Z-1],L=P[A][Z-1],J=P[A][Z],D=P[A-1][Z];G[e("0x4c")](Y,L,J),G[e("0x4c")](Y,J,D)}C=new Float32Array(C),G=new Int32Array(G),S=new Float32Array(S);var U={position:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x4d")],componentsPerAttribute:3,values:C}),st:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x8")],componentsPerAttribute:2,values:S})},te=n[e("0x4e")][e("0x4f")](C),ne=new n[e("0x50")]({attributes:U,indices:G,primitiveType:n[e("0x51")][e("0x52")],boundingSphere:te});return(0,n.Scene[e("0x1f")])(ne),ne},w[e("0xa4")][e("0x123")]=function(){for(var p=this[e("0xed")],C=[],S=[],G=[],P=[],I=90-parseInt(this[e("0x114")]),M=I<1?I/8:1,_=2*Math.PI/127,b=0,A=this[e("0x114")];A<91;A+=M){var F=n[e("0x5d")][e("0x5e")](A<90?A:90);F=Math[e("0x66")](F)*p;for(var T=[],Z=0;Z<128;Z++){var W=_*Z,R=F*Math[e("0x66")](W),N=F*Math[e("0x65")](W),B=Math[e("0xe")](p*p-R*R-N*N);C[e("0x4c")](R,N,B),S[e("0x4c")](1,1),T[e("0x4c")](b++)}P[e("0x4c")](T)}for(var A=1;A<P[e("0x2")];A++)for(var Z=1;Z<P[A][e("0x2")];Z++){var Y=P[A-1][Z-1],L=P[A][Z-1],J=P[A][Z];P[A-1][Z],Z%8==1&&G[e("0x4c")](Y,L),A%8==1&&G[e("0x4c")](L,J)}C=new Float32Array(C),G=new Int32Array(G),S=new Float32Array(S);var D={position:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x4d")],componentsPerAttribute:3,values:C}),st:new n[e("0x6")]({componentDatatype:n[e("0x7")][e("0x8")],componentsPerAttribute:2,values:S})},U=n[e("0x4e")][e("0x4f")](C),te=new n[e("0x50")]({attributes:D,indices:G,primitiveType:n[e("0x51")][e("0x59")],boundingSphere:U});return(0,n.Scene[e("0x1f")])(te),te},w[e("0xa4")][e("0xd5")]=function(){this[e("0x6b")]=n.Scene[e("0x60")][e("0x55")](new n.Scene[e("0x60")]({topRadius:this[e("0x115")]*Math[e("0x66")](n[e("0x5d")][e("0x5e")](this[e("0x114")])),bottomRadius:0,length:this[e("0x115")]*Math[e("0x65")](n[e("0x5d")][e("0x5e")](this[e("0x114")]))})),this[e("0x124")]=this[e("0x122")](),this[e("0x125")]=this[e("0x123")](),this[e("0xd3")]=n.Scene[e("0x60")][e("0x58")](new n.Scene[e("0x60")]({topRadius:this[e("0x115")]*Math[e("0x66")](n[e("0x5d")][e("0x5e")](this[e("0x114")])),bottomRadius:0,slices:128,length:this[e("0x115")]*Math[e("0x65")](n[e("0x5d")][e("0x5e")](this[e("0x114")]))})),this[e("0xc9")]=new Float32Array(this[e("0x6b")][e("0x1")][e("0x3")][e("0x4")][e("0x2")]);for(var p=0;p<this[e("0xc9")][e("0x2")];p++)this[e("0xc9")][p]=this[e("0x6b")][e("0x1")][e("0x3")][e("0x4")][p];this[e("0x94")]&&this[e("0x94")][e("0x2")]&&(this[e("0x94")][e("0xae")](function(C){C[e("0xaf")]=C[e("0xaf")]&&C[e("0xaf")][e("0xb0")]()}),this[e("0x94")][e("0xdd")](0,this[e("0x94")][e("0x2")]))},w[e("0xa4")][e("0xdb")]=function(p){this[e("0x78")]&&(this[e("0xbd")](p[e("0xdc")]),p[e("0x34")]===n[e("0x35")][e("0x36")]?(this[e("0x6b")][e("0xeb")]=n[e("0x4e")][e("0x4f")](this[e("0x6b")][e("0x1")][e("0x3")][e("0x4")]),this[e("0x94")]&&this[e("0x94")][e("0x2")]||(this[e("0x94")][e("0x4c")](this[e("0xe0")](this[e("0x6b")],p)),this[e("0x7b")]&&this[e("0x94")][e("0x4c")](this[e("0xe0")](this[e("0xd3")],p)),this[e("0x116")]&&(this[e("0x94")][e("0x4c")](this[e("0xe0")](this[e("0x124")],p)),this[e("0x118")]&&this[e("0x94")][e("0x4c")](this[e("0xe0")](this[e("0x125")],p)))),this[e("0x94")][e("0xae")](function(C){p[e("0xe1")][e("0x4c")](C)}),this[e("0xa9")]&&(this[e("0xa9")][e("0x126")][e("0x7a")]=this[e("0x7d")]&&this[e("0x76")][e("0xa7")]===0&&this[e("0x76")][e("0xa8")]===0,this[e("0xa9")][e("0xe4")][e("0x7a")]=!1)):(this[e("0xa9")]||this[e("0x9f")](!0),this[e("0xa9")][e("0x126")][e("0x7a")]=this[e("0x76")][e("0xa7")]===0&&this[e("0x76")][e("0xa8")]===0,this[e("0xa9")][e("0xe4")][e("0x7a")]=this[e("0x11c")]&&(this[e("0x76")][e("0xa7")]!==0||this[e("0x76")][e("0xa8")]!==0)))},w[e("0xa4")][e("0xe6")]=function(p){return e("0x127")},w[e("0xa4")][e("0xe8")]=function(p){return e("0x128")},w[e("0xa4")][e("0xe0")]=function(p,C,S){var G=C[e("0xea")],P=new n[e("0x9")];n[e("0x11")][e("0x12")](this[e("0x90")],p[e("0xeb")][e("0xec")],P);var I=new n[e("0x4e")](P,p[e("0xeb")][e("0xed")]),M=new n[e("0xee")]({modelMatrix:S||this[e("0x90")],owner:this,primitiveType:p[e("0xb3")],pass:n[e("0xef")][e("0x129")],boundingVolume:I}),_=this,b=n[e("0x53")][e("0xf1")](p);return M[e("0xaf")]=n[e("0xf2")][e("0xf3")]({context:G,geometry:p,attributeLocations:b,bufferUsage:n[e("0xf4")][e("0xf5")]}),M[e("0xaf")][e("0xf6")]=b,M[e("0xf7")]=n[e("0xf8")][e("0xf9")]({context:G,vertexShaderSource:this[e("0xe8")](p),fragmentShaderSource:this[e("0xe6")](p),attributeLocations:b}),M[e("0xfa")]=n[e("0xfb")][e("0xfc")]({blending:n[e("0xfd")][e("0xfe")],depthTest:{enabled:!0,func:n[e("0xff")][e("0x100")]},cull:{enabled:!1,face:n[e("0x101")][e("0x102")]}}),M[e("0x103")]={},M[e("0x103")][e("0x104")]=function(){return C[e("0xea")][e("0x105")][e("0x106")]},M[e("0x103")][e("0x107")]=function(){return C[e("0xea")][e("0x105")][e("0x108")]},M[e("0x103")][e("0x109")]=function(){return _[e("0x109")]||(_[e("0x109")]=0),_[e("0x109")]},M[e("0x103")][e("0x10a")]=function(){return _[e("0x10a")]||(_[e("0x10a")]=new n[e("0x9")](.2,.2,.2)),_[e("0x10a")]},M[e("0x103")][e("0x10b")]=function(){return _[e("0x10b")]||(_[e("0x10b")]=0),_[e("0x10b")]},M[e("0x103")][e("0x10c")]=function(){return p[e("0xb3")]==n[e("0x51")][e("0x59")]||p[e("0xb3")]==n[e("0x51")][e("0x12a")]},M[e("0x103")][e("0x81")]=function(){return p[e("0xb3")]==n[e("0x51")][e("0x59")]||p[e("0xb3")]==n[e("0x51")][e("0x12a")]?(_[e("0x85")]||(_[e("0x85")]=new n[e("0x83")](1,1,0,1)),_[e("0x85")]):(_[e("0x81")]||(_[e("0x81")]=new n[e("0x83")](1,0,0,1)),_[e("0x81")])},M[e("0x103")][e("0x10d")]=function(){return _[e("0x10d")]||(_[e("0x10d")]=0),_[e("0x10d")]},M[e("0x103")][e("0x10e")]=function(){return _[e("0x10e")]||(_[e("0x10e")]=new n[e("0x83")](1,1,0,1)),_[e("0x10e")]},M[e("0x103")][e("0x10f")]=function(){return C[e("0xea")][e("0x105")][e("0x5")]},M[e("0x103")][e("0x110")]=function(){return .25},M},w[e("0xa4")][e("0xd2")]=function(){this[e("0x9c")][e("0x6a")][e("0x9d")][e("0xd2")](this),this[e("0xa9")]&&this[e("0x9c")][e("0xab")][e("0xd2")](this[e("0xa9")])},w[e("0xa4")][e("0xd4")]=function(){this[e("0x9c")][e("0x6a")][e("0x9d")][e("0x9e")](this),this[e("0xa9")]&&this[e("0x9c")][e("0xab")][e("0x9e")](this[e("0xa9")])},w[e("0xa4")][e("0xb0")]=function(p){p&&(this[e("0x9c")][e("0x6a")][e("0x9d")][e("0xd2")](this),this[e("0xa9")]&&this[e("0x9c")][e("0xab")][e("0xd2")](this[e("0xa9")]),this[e("0x94")][e("0xae")](function(C){C[e("0xaf")]=C[e("0xaf")]&&C[e("0xaf")][e("0xb0")]()}),this[e("0x94")]=[])},n.Scene[e("0x112")]=w}}function g(){n[e("0x12b")]||function(v,w){typeof pi===e("0x12c")&&typeof Zi===e("0x12c")?Zi[e("0x12d")]=w():typeof define===e("0xbe")&&define[e("0x12e")]?define([],w):typeof pi===e("0x12c")?pi[e("0x12f")]=w():v[e("0x12f")]=w()}(typeof self!==e("0x68")?self:this,function(){return function(m){var v={};function w(p){if(v[p])return v[p][e("0x12d")];var C=v[p]={i:p,l:![],exports:{}};return m[p][e("0x130")](C[e("0x12d")],C,C[e("0x12d")],w),C.l=!![],C[e("0x12d")]}return w.m=m,w.c=v,w.d=function(p,C,S){w.o(p,C)||Object[e("0x1d")](p,C,{configurable:![],enumerable:!![],get:S})},w.n=function(p){var C=p&&p[e("0x1e")]?function(){return p[e("0x131")]}:function(){return p};return w.d(C,"a",C),C},w.o=function(p,C){return Object[e("0xa4")][e("0xa0")][e("0x130")](p,C)},w.p="",w(w.s=4)}([function(m,v,w){Object[e("0x1d")](v,e("0x1e"),{value:!![]}),v[e("0x12b")]=void 0;var p=w(6),C=b(p),S=w(7),G=b(S),P=w(8),I=b(P),M=w(9),_=b(M);function b(k){return k&&k[e("0x1e")]?k:{default:k}}var A=n[e("0x4e")],F=n[e("0x9")],T=n[e("0x83")],Z=n[e("0x132")],W=n[e("0x7")],R=n[e("0x79")],N=n[e("0x2d")];Object[e("0xa3")],n[e("0x133")];var B=n[e("0x134")],Y=n[e("0x11")],L=n[e("0x51")],J=n[e("0x135")],D=n[e("0xf4")],U=n[e("0xee")],te=n[e("0xef")],ne=n[e("0xfb")],Q=n[e("0xf8")],X=n[e("0x136")],j=n[e("0xf2")],q=n[e("0xfd")],ue=n[e("0x101")],me=n[e("0x137")],ce=n[e("0x35")],ge=n[e("0x138")],Ze=n[e("0x5d")],Ae=n[e("0x22")],Y=n[e("0x11")],Ye=n[e("0x139")];n[e("0x13a")],n[e("0x13b")];var Se=Math[e("0x65")],Oe=Math[e("0x66")],ke=Math[e("0x5f")],Te=Math[e("0x13c")];Math[e("0x13d")];var De={position:0,normal:1};function et(k){var oe=this;k=R(k,R[e("0x13e")]),this[e("0x7a")]=R(k[e("0x7a")],!![]),this[e("0x13f")]=R(k[e("0x13f")],32),this[e("0x140")]=Y[e("0x57")](k[e("0x140")],new Y),this[e("0x8b")]=new Y,this[e("0x141")]=new Y,this[e("0x142")]=new Y,this[e("0xed")]=R(k[e("0xed")],Number[e("0x143")]),this[e("0x115")]=void 0,this[e("0x144")]=R(k[e("0x144")],0),this[e("0x145")]=void 0,this[e("0x146")]=R(k[e("0x146")],0),this[e("0x147")]=void 0,this[e("0x86")]=R(k[e("0x86")],T[e("0x148")]),this[e("0x149")]=R(k[e("0x149")],!![]),this[e("0x14a")]=R(k[e("0x14a")],!![]),this[e("0x14b")]=R(k[e("0x14b")],!![]),this[e("0x14c")]=N(k[e("0x14c")])?k[e("0x14c")]:me[e("0x14d")](me[e("0x14e")]),this[e("0x14f")]=void 0,this[e("0x150")]=void 0,this[e("0x151")]=N(k[e("0x151")])?k[e("0x151")]:me[e("0x14d")](me[e("0x14e")]),this[e("0x152")]=void 0,this[e("0x153")]=void 0,this[e("0x154")]=R(k[e("0x154")],!![]),this[e("0x155")]=N(k[e("0x155")])?k[e("0x155")]:me[e("0x14d")](me[e("0x14e")]),this[e("0x156")]=void 0,this[e("0x157")]=R(k[e("0x157")],!![]),this[e("0x158")]=R(k[e("0x158")],!![]),this[e("0x159")]=R(k[e("0x159")],T[e("0x148")]),this[e("0x15a")]=R(k[e("0x15a")],5),this[e("0x15b")]=R(k[e("0x15b")],![]),this[e("0x15c")]=void 0,this[e("0x15d")]=R(k[e("0x15d")],!![]),this[e("0x15e")]=R(k[e("0x15e")],T[e("0x148")]),this[e("0x15f")]=R(k[e("0x15f")],e("0x160")),this[e("0x161")]=R(k[e("0x161")],10),this[e("0x162")]=0,this[e("0x163")]=0,this[e("0x164")]=Ye[e("0x165")](),this[e("0x166")]=new A,this[e("0x167")]=new A,this[e("0x168")]=new U({owner:this,primitiveType:L[e("0x52")],boundingVolume:this[e("0x167")]}),this[e("0x169")]=new U({owner:this,primitiveType:L[e("0x52")],boundingVolume:this[e("0x167")]}),this[e("0x16a")]=void 0,this[e("0x16b")]=new U({owner:this,primitiveType:L[e("0x59")],boundingVolume:this[e("0x167")]}),this[e("0x16c")]=void 0,this[e("0x16d")]=new U({owner:this,primitiveType:L[e("0x59")],boundingVolume:this[e("0x167")]}),this[e("0x16e")]=void 0,this[e("0x16f")]=new U({owner:this,primitiveType:L[e("0x52")],boundingVolume:this[e("0x167")]}),this[e("0x170")]=new U({owner:this,primitiveType:L[e("0x52")],boundingVolume:this[e("0x167")]}),this[e("0x171")]=void 0,this[e("0x172")]=new U({owner:this,primitiveType:L[e("0x59")],boundingVolume:this[e("0x167")]}),this[e("0x173")]=void 0,this[e("0x174")]=new U({owner:this,primitiveType:L[e("0x52")],boundingVolume:this[e("0x167")]}),this[e("0x175")]=new U({owner:this,primitiveType:L[e("0x52")],boundingVolume:this[e("0x167")]}),this[e("0x176")]=void 0,this[e("0x177")]=[],this[e("0x178")]=void 0,this[e("0x179")]=void 0,this[e("0x17a")]=void 0,this[e("0x17b")]={u_type:function(){return 0},u_xHalfAngle:function(){return oe[e("0x144")]},u_yHalfAngle:function(){return oe[e("0x146")]},u_radius:function(){return oe[e("0xed")]},u_showThroughEllipsoid:function(){return oe[e("0x15b")]},u_showIntersection:function(){return oe[e("0x158")]},u_intersectionColor:function(){return oe[e("0x159")]},u_intersectionWidth:function(){return oe[e("0x15a")]},u_normalDirection:function(){return 1},u_lineColor:function(){return oe[e("0x86")]}},this[e("0x17c")]={u_xHalfAngle:function(){return oe[e("0x162")]},u_yHalfAngle:function(){return oe[e("0x163")]},u_radius:function(){return oe[e("0xed")]},u_color:function(){return oe[e("0x15e")]},u_showThroughEllipsoid:function(){return oe[e("0x15b")]},u_showIntersection:function(){return oe[e("0x158")]},u_intersectionColor:function(){return oe[e("0x159")]},u_intersectionWidth:function(){return oe[e("0x15a")]},u_normalDirection:function(){return 1},u_lineColor:function(){return oe[e("0x86")]}}}et[e("0xa4")][e("0xdb")]=function(k){var oe=k[e("0x34")];if(!(!this[e("0x7a")]||oe!==ce[e("0x36")])){var se=![],de=![],ve=![],Ie=this[e("0x144")],Re=this[e("0x146")];if(Ie<0||Re<0)throw new B(e("0x17d"));if(!(Ie==0||Re==0)){(this[e("0x145")]!==Ie||this[e("0x147")]!==Re)&&(this[e("0x145")]=Ie,this[e("0x147")]=Re,se=!![]);var Pe=this[e("0xed")];if(Pe<0)throw new B(e("0x17e"));var Me=![];this[e("0x115")]!==Pe&&(Me=!![],this[e("0x115")]=Pe,this[e("0x166")]=new A(F[e("0x56")],this[e("0xed")]));var ze=!Y[e("0xba")](this[e("0x140")],this[e("0x8b")]);(ze||Me)&&(Y[e("0x57")](this[e("0x140")],this[e("0x8b")]),Y[e("0x17f")](this[e("0x140")],this[e("0xed")],this[e("0x141")]),A[e("0x180")](this[e("0x166")],this[e("0x140")],this[e("0x167")]));var Ke=this[e("0x15b")];this[e("0x15c")]!==this[e("0x15b")]&&(this[e("0x15c")]=Ke,de=!![]);var He=this[e("0x14c")];this[e("0x14f")]!==He&&(this[e("0x14f")]=He,de=!![],ve=!![]);var at=He[e("0x181")]();if(this[e("0x150")]!==at&&(this[e("0x150")]=at,de=!![]),this[e("0x15d")]){var Xt=k[e("0xdc")],Bi=Ye[e("0x182")](Xt,this[e("0x164")]);Bi<0&&(this[e("0x164")]=Ye[e("0x57")](Xt,this[e("0x164")]));var ki=Math[e("0x183")](Bi%this[e("0x161")]/this[e("0x161")],0),Wt;if(this[e("0x15f")]==e("0x160")){Wt=2*Re*ki-Re;var Za=Oe(Wt),Ba=ke(Ie),ka=Te(Za*Ba);this[e("0x162")]=ka,this[e("0x163")]=Wt,n[e("0x22")][e("0x184")](this[e("0x163")],Je)}else{Wt=2*Ie*ki-Ie;var Ea=ke(Re),Na=Oe(Wt),La=Te(Na*Ea);this[e("0x162")]=Wt,this[e("0x163")]=La,n[e("0x22")][e("0x185")](this[e("0x162")],Je)}n[e("0x11")][e("0x186")](this[e("0x140")],Je,this[e("0x142")]),Y[e("0x17f")](this[e("0x142")],this[e("0xed")],this[e("0x142")])}se&&Et(this,k),de&&Da(this,Ke,at),ve&&ei(this,k,He),(de||ve)&&Fa(this,at);var Xa=k[e("0xe1")],za=k[e("0x187")],Ei=this[e("0x177")];if(za[e("0x188")])for(var yi=0,Ha=Ei[e("0x2")];yi<Ha;yi++){var Ua=Ei[yi];Xa[e("0x4c")](Ua)}}}};var Je=new Ae,Pt=new F;function gt(k,oe,se){for(var de=k[e("0x13f")],ve=Oe(se),Ie=ke(se),Re=Oe(oe),Pe=ke(oe),Me=Te(Re*Ie),ze=Te(ve*Pe),Ke=[],He=0;He<de;He++){var at=2*Me*He/(de-1)-Me;Ke[e("0x4c")](new F(0,Se(at),Oe(at)))}for(var Xt=[],He=0;He<de;He++){var at=2*ze*He/(de-1)-ze;Xt[e("0x4c")](new F(Se(at),0,Oe(at)))}return{zoy:Ke,zox:Xt}}function Mt(k,oe){var se=k[e("0x144")],de=k[e("0x146")],ve=oe[e("0x189")],Ie=oe[e("0x18a")],Re=[],Pe=Ae[e("0x185")](se,Je);Re[e("0x4c")](ve[e("0x18b")](function(Me){return Ae[e("0x18c")](Pe,Me,new n[e("0x9")])}));var Pe=Ae[e("0x184")](-de,Je);Re[e("0x4c")](Ie[e("0x18b")](function(Me){return Ae[e("0x18c")](Pe,Me,new n[e("0x9")])})[e("0x18d")]());var Pe=Ae[e("0x185")](-se,Je);Re[e("0x4c")](ve[e("0x18b")](function(Me){return Ae[e("0x18c")](Pe,Me,new n[e("0x9")])})[e("0x18d")]());var Pe=Ae[e("0x184")](de,Je);return Re[e("0x4c")](Ie[e("0x18b")](function(Me){return Ae[e("0x18c")](Pe,Me,new n[e("0x9")])})),Re}function fi(k,oe){for(var se=Array[e("0xa4")][e("0x18e")][e("0x18f")]([],oe)[e("0x2")]-oe[e("0x2")],de=new Float32Array(2*3*3*se),ve=0,Ie=0,Re=oe[e("0x2")];Ie<Re;Ie++)for(var Pe=oe[Ie],Me=F[e("0x15")](F[e("0xc")](Pe[0],Pe[Pe[e("0x2")]-1],Pt),Pt),ze=0,se=Pe[e("0x2")]-1;ze<se;ze++)de[ve++]=0,de[ve++]=0,de[ve++]=0,de[ve++]=-Me.x,de[ve++]=-Me.y,de[ve++]=-Me.z,de[ve++]=Pe[ze].x,de[ve++]=Pe[ze].y,de[ve++]=Pe[ze].z,de[ve++]=-Me.x,de[ve++]=-Me.y,de[ve++]=-Me.z,de[ve++]=Pe[ze+1].x,de[ve++]=Pe[ze+1].y,de[ve++]=Pe[ze+1].z,de[ve++]=-Me.x,de[ve++]=-Me.y,de[ve++]=-Me.z;var Ke=J[e("0x190")]({context:k,typedArray:de,usage:D[e("0xf5")]}),He=2*3*Float32Array[e("0x191")],at=[{index:De[e("0x3")],vertexBuffer:Ke,componentsPerAttribute:3,componentDatatype:W[e("0x8")],offsetInBytes:0,strideInBytes:He},{index:De[e("0x5")],vertexBuffer:Ke,componentsPerAttribute:3,componentDatatype:W[e("0x8")],offsetInBytes:3*Float32Array[e("0x191")],strideInBytes:He}];return new j({context:k,attributes:at})}function kt(k,oe){for(var se=oe[e("0x2")],de=new Float32Array(3*3*se),ve=0,Ie=0,Re=oe[e("0x2")];Ie<Re;Ie++){var Pe=oe[Ie];de[ve++]=0,de[ve++]=0,de[ve++]=0,de[ve++]=Pe[0].x,de[ve++]=Pe[0].y,de[ve++]=Pe[0].z}var Me=J[e("0x190")]({context:k,typedArray:de,usage:D[e("0xf5")]}),ze=3*Float32Array[e("0x191")],Ke=[{index:De[e("0x3")],vertexBuffer:Me,componentsPerAttribute:3,componentDatatype:W[e("0x8")],offsetInBytes:0,strideInBytes:ze}];return new j({context:k,attributes:Ke})}function qt(k,oe){for(var se=Array[e("0xa4")][e("0x18e")][e("0x18f")]([],oe)[e("0x2")]-oe[e("0x2")],de=new Float32Array(3*3*se),ve=0,Ie=0,Re=oe[e("0x2")];Ie<Re;Ie++)for(var Pe=oe[Ie],Me=0,se=Pe[e("0x2")]-1;Me<se;Me++)de[ve++]=Pe[Me].x,de[ve++]=Pe[Me].y,de[ve++]=Pe[Me].z,de[ve++]=Pe[Me+1].x,de[ve++]=Pe[Me+1].y,de[ve++]=Pe[Me+1].z;var ze=J[e("0x190")]({context:k,typedArray:de,usage:D[e("0xf5")]}),Ke=3*Float32Array[e("0x191")],He=[{index:De[e("0x3")],vertexBuffer:ze,componentsPerAttribute:3,componentDatatype:W[e("0x8")],offsetInBytes:0,strideInBytes:Ke}];return new j({context:k,attributes:He})}function xi(k){var oe=n[e("0x13b")][e("0x55")](new n[e("0x13b")]({vertexFormat:ge[e("0x192")],stackPartitions:32,slicePartitions:32})),se=j[e("0xf3")]({context:k,geometry:oe,attributeLocations:De,bufferUsage:D[e("0xf5")],interleave:![]});return se}function vi(k){var oe=n[e("0x193")][e("0x55")](new n[e("0x193")]({vertexFormat:ge[e("0x192")],stackPartitions:32,slicePartitions:32})),se=j[e("0xf3")]({context:k,geometry:oe,attributeLocations:De,bufferUsage:D[e("0xf5")],interleave:![]});return se}function Gt(k,oe){for(var se=oe[e("0x2")]-1,de=new Float32Array(3*3*se),ve=0,Ie=0;Ie<se;Ie++)de[ve++]=0,de[ve++]=0,de[ve++]=0,de[ve++]=oe[Ie].x,de[ve++]=oe[Ie].y,de[ve++]=oe[Ie].z,de[ve++]=oe[Ie+1].x,de[ve++]=oe[Ie+1].y,de[ve++]=oe[Ie+1].z;var Re=J[e("0x190")]({context:k,typedArray:de,usage:D[e("0xf5")]}),Pe=3*Float32Array[e("0x191")],Me=[{index:De[e("0x3")],vertexBuffer:Re,componentsPerAttribute:3,componentDatatype:W[e("0x8")],offsetInBytes:0,strideInBytes:Pe}];return new j({context:k,attributes:Me})}function Et(k,oe){var se=oe[e("0xea")],de=gt(k,k[e("0x144")],k[e("0x146")]),ve=Mt(k,de);if(k[e("0x14b")]&&(k[e("0x16a")]=fi(se,ve)),k[e("0x149")]&&(k[e("0x16c")]=kt(se,ve)),k[e("0x14a")]&&(k[e("0x16e")]=qt(se,ve)),k[e("0x154")]&&(k[e("0x171")]=xi(se)),k[e("0x157")]&&(k[e("0x173")]=vi(se)),k[e("0x15d")])if(k[e("0x15f")]==e("0x160")){var Ie=gt(k,Ze[e("0x194")],0);k[e("0x195")]=Gt(se,Ie[e("0x18a")])}else{var Ie=gt(k,0,Ze[e("0x194")]);k[e("0x195")]=Gt(se,Ie[e("0x189")])}}function Nt(k,oe,se){var de=oe[e("0xea")],ve=C[e("0x131")],Ie=new X({sources:[I[e("0x131")],se[e("0x196")],G[e("0x131")]]});k[e("0x17a")]=Q[e("0xf9")]({context:de,shaderProgram:k[e("0x17a")],vertexShaderSource:ve,fragmentShaderSource:Ie,attributeLocations:De});var Re=new X({sources:[I[e("0x131")],se[e("0x196")],G[e("0x131")]],pickColorQualifier:e("0x197")});k[e("0x198")]=Q[e("0xf9")]({context:de,shaderProgram:k[e("0x198")],vertexShaderSource:ve,fragmentShaderSource:Re,attributeLocations:De})}function Lt(k,oe,se){var de=oe[e("0xea")],ve=C[e("0x131")],Ie=new X({sources:[I[e("0x131")],se[e("0x196")],_[e("0x131")]]});k[e("0x199")]=Q[e("0xf9")]({context:de,shaderProgram:k[e("0x199")],vertexShaderSource:ve,fragmentShaderSource:Ie,attributeLocations:De})}function ei(k,oe,se){Nt(k,oe,se),k[e("0x15d")]&&Lt(k,oe,se)}function Da(k,oe,se){se?(k[e("0x178")]=ne[e("0xfc")]({depthTest:{enabled:!oe},depthMask:![],blending:q[e("0xfe")],cull:{enabled:!![],face:ue[e("0x102")]}}),k[e("0x179")]=ne[e("0xfc")]({depthTest:{enabled:!oe},depthMask:![],blending:q[e("0xfe")],cull:{enabled:!![],face:ue[e("0x19a")]}}),k[e("0x19b")]=ne[e("0xfc")]({depthTest:{enabled:!oe},depthMask:![],blending:q[e("0xfe")]})):(k[e("0x178")]=ne[e("0xfc")]({depthTest:{enabled:!oe},depthMask:!![]}),k[e("0x19b")]=ne[e("0xfc")]({depthTest:{enabled:!![]},depthMask:!![]}))}function Tt(k,oe,se,de,ve,Ie,Re,Pe,Me,ze,Ke,He){ze&&se&&(se[e("0xaf")]=Re,se[e("0xfa")]=ve,se[e("0xf7")]=Ie,se[e("0x103")]=Z(Pe,k[e("0x14f")][e("0x17b")]),se[e("0x103")][e("0x19c")]=function(){return-1},se[e("0x19d")]=Ke,se[e("0x140")]=Me,k[e("0x177")][e("0x4c")](se)),oe[e("0xaf")]=Re,oe[e("0xfa")]=de,oe[e("0xf7")]=Ie,oe[e("0x103")]=Z(Pe,k[e("0x14f")][e("0x17b")]),He&&(oe[e("0x103")][e("0x19e")]=function(){return 1}),oe[e("0x19d")]=Ke,oe[e("0x140")]=Me,k[e("0x177")][e("0x4c")](oe)}function Fa(k,oe){k[e("0x177")][e("0x2")]=0;var se=oe?te[e("0x129")]:te[e("0xf0")];k[e("0x14b")]&&Tt(k,k[e("0x168")],k[e("0x169")],k[e("0x178")],k[e("0x179")],k[e("0x17a")],k[e("0x16a")],k[e("0x17b")],k[e("0x141")],oe,se),k[e("0x149")]&&Tt(k,k[e("0x16b")],void 0,k[e("0x178")],k[e("0x179")],k[e("0x17a")],k[e("0x16c")],k[e("0x17b")],k[e("0x141")],oe,se,!![]),k[e("0x14a")]&&Tt(k,k[e("0x16d")],void 0,k[e("0x178")],k[e("0x179")],k[e("0x17a")],k[e("0x16e")],k[e("0x17b")],k[e("0x141")],oe,se,!![]),k[e("0x154")]&&Tt(k,k[e("0x16f")],k[e("0x170")],k[e("0x178")],k[e("0x179")],k[e("0x17a")],k[e("0x171")],k[e("0x17b")],k[e("0x141")],oe,se),k[e("0x157")]&&Tt(k,k[e("0x172")],void 0,k[e("0x178")],k[e("0x179")],k[e("0x17a")],k[e("0x173")],k[e("0x17b")],k[e("0x141")],oe,se,!![]),k[e("0x15d")]&&Tt(k,k[e("0x174")],k[e("0x175")],k[e("0x178")],k[e("0x179")],k[e("0x199")],k[e("0x195")],k[e("0x17c")],k[e("0x142")],oe,se)}v[e("0x12b")]=et},function(m,v,w){Object[e("0x1d")](v,e("0x1e"),{value:!![]});var p=n[e("0x4e")],C=n[e("0x9")],S=n[e("0x19f")],G=n[e("0x7")],P=n[e("0x79")];n[e("0x2d")];var I=n[e("0x50")],M=n[e("0x6")],_=n[e("0x1a0")],b=n[e("0x51")],A=n[e("0x138")],F=n[e("0x5d")],T=n[e("0x53")],Z=n[e("0x1a1")];n[e("0xf")];var W=Math[e("0x66")],R=Math[e("0x65")];function N(B){B=P(B,P[e("0x13e")]);var Y=B[e("0x114")],L=B[e("0xed")],J=Math[e("0x1a2")](P(B[e("0x1a3")],12)),D=Math[e("0x1a2")](P(B[e("0x1a4")],64));S[e("0x1a5")][e("0x1a6")](e("0x114"),Y),S[e("0x1a5")][e("0x1a6")](e("0xed"),L);var U=P(B[e("0x1a7")],A[e("0x1a8")]);this[e("0x113")]=Y,this[e("0x115")]=L,this[e("0x1a9")]=J,this[e("0x1aa")]=D,this[e("0x1ab")]=U}N[e("0x1ac")]=function(B){B=P(B,P[e("0x13e")]);var Y=B[e("0x114")],L=B[e("0xed")],J=B[e("0x1a3")],D=B[e("0x1a4")];return S[e("0x1a5")][e("0x1a6")](e("0x114"),Y),S[e("0x1a5")][e("0x1a6")](e("0xed"),L),S[e("0x1a5")][e("0x1a6")][e("0x1ad")](e("0x114"),Y,0),S[e("0x1a5")][e("0x1a6")][e("0x1ad")](e("0x33"),height,0),new N({angle:Y,radius:L,stackPartitions:J,slicePartitions:D,vertexFormat:B[e("0x1a7")]})},N[e("0x55")]=function(B){console[e("0xdc")](e("0x55"));var Y=B[e("0x113")],L=B[e("0x115")],J=B[e("0x1a9")]+1,D=B[e("0x1aa")]+1,U=B[e("0x1ab")],te=new _,ne,Q=3*(D-1)+6*(D-1)*(J-2)+(D-1)*1*3,X=J*D,j=Z[e("0x1ae")](X,Q),q=new Float64Array(X*3+(D-1)*3*3);if(U[e("0x3")]){for(var ue=0,me=new Array(D),ce=new Array(D),ge=0;ge<D;ge++){var Ze=F[e("0x1af")]*ge/(D-1);me[ge]=W(Ze),ce[ge]=R(Ze),q[ue++]=0,q[ue++]=0,q[ue++]=-L}for(ge=1;ge<J;ge++)for(var Ae=Y*ge/(J-1),Ye=R(Ae),Se=L*Ye,Oe=L*Ye,ke=L*W(Ae),Te=0;Te<D;Te++)q[ue++]=me[Te]*Se,q[ue++]=ce[Te]*Oe,q[ue++]=-ke;ne=ue;for(var ge=0;ge<D-1;ge++)q[ue++]=0,q[ue++]=0,q[ue++]=0,q[ue++]=q[ne-(D-ge-1)*3],q[ue++]=q[ne-(D-ge-1)*3+1],q[ue++]=q[ne-(D-ge-1)*3+2],q[ue++]=q[ne-(D-ge)*3],q[ue++]=q[ne-(D-ge)*3+1],q[ue++]=q[ne-(D-ge)*3+2];te[e("0x3")]=new M({componentDatatype:G[e("0x4d")],componentsPerAttribute:3,values:q})}for(var De=0,Te=0;Te<D-1;Te++)j[De++]=D+Te,j[De++]=D+Te+1,j[De++]=Te+1;for(var et,Je,ge=1;ge<J-1;ge++)for(et=ge*D,Je=(ge+1)*D,Te=0;Te<D-1;Te++)j[De++]=Je+Te,j[De++]=Je+Te+1,j[De++]=et+Te+1,j[De++]=Je+Te,j[De++]=et+Te+1,j[De++]=et+Te;for(var ge=0,Pt=(D-1)*3;ge<Pt;ge++)j[De++]=ge+ne/3;var gt=new I({attributes:te,indices:j,primitiveType:b[e("0x52")],boundingSphere:new p(C[e("0x56")],L)});return gt=T[e("0x54")](gt),console[e("0x1b0")](e("0x55")),gt},v[e("0x1b1")]=N},function(m,v,w){Object[e("0x1d")](v,e("0x1e"),{value:!![]});var p=n[e("0x4e")],C=n[e("0x9")],S=n[e("0x7")],G=n[e("0x79")];n[e("0x2d")];var P=n[e("0x134")];n[e("0xf")];var I=n[e("0x50")],M=n[e("0x6")],_=n[e("0x1a0")],b=n[e("0x1a1")],A=n[e("0x5d")],F=n[e("0x51")];new C(1,1,1);var T=Math[e("0x66")],Z=Math[e("0x65")];function W(R){R=G(R,G[e("0x13e")]);var N=R[e("0x114")],B=R[e("0xed")],Y=Math[e("0x1a2")](G(R[e("0x1a3")],10)),L=Math[e("0x1a2")](G(R[e("0x1a4")],8)),J=Math[e("0x1a2")](G(R[e("0x1b2")],128));if(Y<1)throw new P(e("0x1b3"));if(L<0)throw new P(e("0x1b4"));if(J<0)throw new P(e("0x1b5"));this[e("0x113")]=N,this[e("0x115")]=B,this[e("0x1a9")]=Y,this[e("0x1aa")]=L,this[e("0x1b6")]=J}W[e("0x55")]=function(R){var N=R[e("0x113")],B=R[e("0x115")];if(!(B<=0||N<=0)){var Y=R[e("0x1a9")],L=R[e("0x1aa")],J=R[e("0x1b6")],D=J*(Y+L-1),U=D-L+2,te=new Float64Array(U*3),ne=b[e("0x1ae")](U,D*2),Q,X,j,q,ue,me,ce=0,ge=new Array(J),Ze=new Array(J);for(Q=0;Q<J;Q++)j=A[e("0x1af")]*Q/J,ge[Q]=T(j),Ze[Q]=Z(j);for(Q=1;Q<Y;Q++)for(q=N*Q/(Y-1),ue=T(q),me=Z(q),X=0;X<J;X++)te[ce++]=B*ge[X]*me,te[ce++]=B*Ze[X]*me,te[ce++]=-B*ue;for(ge[e("0x2")]=L,Ze[e("0x2")]=L,Q=0;Q<L;Q++)j=A[e("0x1af")]*Q/L,ge[Q]=T(j),Ze[Q]=Z(j);for(te[ce++]=0,te[ce++]=0,te[ce++]=-B,Q=1;Q<J;Q++)for(q=N*Q/J,ue=T(q),me=Z(q),X=0;X<L;X++)te[ce++]=B*ge[X]*me,te[ce++]=B*Ze[X]*me,te[ce++]=-B*ue;for(ce=0,Q=0;Q<Y-1;++Q){var Ae=Q*J;for(X=0;X<J-1;++X)ne[ce++]=Ae+X,ne[ce++]=Ae+X+1;ne[ce++]=Ae+J-1,ne[ce++]=Ae}var Ye=J*(Y-1);for(X=1;X<L+1;++X)ne[ce++]=Ye,ne[ce++]=Ye+X;for(Q=0;Q<J-2;++Q){var Se=Q*L+1+Ye,Oe=(Q+1)*L+1+Ye;for(X=0;X<L-1;++X)ne[ce++]=Oe+X,ne[ce++]=Se+X;ne[ce++]=Oe+L-1,ne[ce++]=Se+L-1}var ke=new _({position:new M({componentDatatype:S[e("0x4d")],componentsPerAttribute:3,values:te})});return new I({attributes:ke,indices:ne,primitiveType:F[e("0x59")],boundingSphere:new p(C[e("0x56")],B)})}},v[e("0x1b7")]=W},function(m,v,w){Object[e("0x1d")](v,e("0x1e"),{value:!![]});var p=n[e("0x79")],C=n[e("0x2d")],S=Object[e("0xa3")],G=n[e("0x134")],P=n[e("0x1b8")],I=n[e("0x1b9")],M=n[e("0x1ba")];function _(b){this[e("0x113")]=void 0,this[e("0x1bb")]=void 0,this[e("0x115")]=void 0,this[e("0x1bc")]=void 0,this[e("0x1bd")]=void 0,this[e("0x1be")]=void 0,this[e("0x1bf")]=void 0,this[e("0x1c0")]=void 0,this[e("0x1c1")]=void 0,this[e("0x1c2")]=void 0,this[e("0x78")]=void 0,this[e("0x1c3")]=void 0,this[e("0x1c4")]=void 0,this[e("0x1c5")]=void 0,this[e("0x1c1")]=void 0,this[e("0x1c2")]=void 0,this[e("0x14f")]=void 0,this[e("0x1c6")]=void 0,this[e("0x7b")]=void 0,this[e("0x1c7")]=void 0,this[e("0x1c8")]=void 0,this[e("0x1c9")]=void 0,this[e("0x1ca")]=void 0,this[e("0x1cb")]=void 0,this[e("0x1cc")]=void 0,this[e("0x1cd")]=void 0,this[e("0x1ce")]=void 0,this[e("0x1cf")]=void 0,this[e("0x1d0")]=new P,this[e("0x1d1")]=void 0,this[e("0x1d2")]=void 0,this[e("0x1d3")](p(b,p[e("0x13e")]))}S(_[e("0xa4")],{definitionChanged:{get:function(){return this[e("0x1d0")]}},show:M(e("0x7a")),angle:M(e("0x114")),radius:M(e("0xed")),stack:M(e("0x1d4")),slice:M(e("0x13f")),color:M(e("0x82")),material:I(e("0x14c")),fill:M(e("0x1d5")),outline:M(e("0x7c")),outlineColor:M(e("0x1d6")),outlineWidth:M(e("0x1d7")),shadows:M(e("0x1d8")),distanceDisplayCondition:M(e("0x1d9"))}),_[e("0xa4")][e("0x57")]=function(b){return C(b)?(b[e("0x114")]=this[e("0x114")],b[e("0xed")]=this[e("0xed")],b[e("0x1d4")]=this[e("0x1d4")],b[e("0x13f")]=this[e("0x13f")],b[e("0x7a")]=this[e("0x7a")],b[e("0x14c")]=this[e("0x14c")],b[e("0x82")]=this[e("0x82")],b[e("0x1d5")]=this[e("0x1d5")],b[e("0x7c")]=this[e("0x7c")],b[e("0x1d6")]=this[e("0x1d6")],b[e("0x1d7")]=this[e("0x1d7")],b[e("0x1d8")]=this[e("0x1d8")],b[e("0x1d9")]=this[e("0x1d9")],b[e("0x1da")]=this[e("0x1da")],b):new _(this)},_[e("0xa4")][e("0x1d3")]=function(b){if(!C(b))throw new G(e("0x1db"));this[e("0x114")]=p(this[e("0x114")],b[e("0x114")]),this[e("0xed")]=p(this[e("0xed")],b[e("0xed")]),this[e("0x1d4")]=p(this[e("0x1d4")],b[e("0x1d4")]),this[e("0x13f")]=p(this[e("0x13f")],b[e("0x13f")]),this[e("0x7a")]=p(this[e("0x7a")],b[e("0x7a")]),this[e("0x82")]=p(this[e("0x82")],b[e("0x82")]),this[e("0x14c")]=p(this[e("0x14c")],b[e("0x14c")]),this[e("0x1d5")]=p(this[e("0x1d5")],b[e("0x1d5")]),this[e("0x7c")]=p(this[e("0x7c")],b[e("0x7c")]),this[e("0x1d6")]=p(this[e("0x1d6")],b[e("0x1d6")]),this[e("0x1d7")]=p(this[e("0x1d7")],b[e("0x1d7")]),this[e("0x1d8")]=p(this[e("0x1d8")],b[e("0x1d8")]),this[e("0x1d9")]=p(this[e("0x1d9")],b[e("0x1d9")]),this[e("0x1da")]=p(this[e("0x1da")],b[e("0x1da")])},v[e("0x1dc")]=_},function(m,v,w){Object[e("0x1d")](v,e("0x1e"),{value:!![]});var p=w(5);Object[e("0x1dd")](p)[e("0xae")](function(C){C===e("0x131")||C===e("0x1e")||Object[e("0x1d")](v,C,{enumerable:!![],get:function(){return p[C]}})})},function(m,v,w){var p=w(0),C=w(10),S=w(11),G=w(1),P=w(2),I=w(3),M=w(12);n.Scene[e("0x12b")]=p[e("0x12b")],n.Scene[e("0x1de")]=C[e("0x1de")],n.Scene[e("0x1df")]=S[e("0x1df")],n.Scene[e("0x1b1")]=G[e("0x1b1")],n.Scene[e("0x1b7")]=P[e("0x1b7")],n.Scene[e("0x1dc")]=I[e("0x1dc")],n.Scene[e("0x1e0")]=M[e("0x1e0")];var _=n[e("0x1e1")],b=_[e("0x1e2")];_[e("0x1e2")]=function(A,F,T){var Z=T[e("0xab")],W=b(A,F,T);return W[e("0x18e")]([new S[e("0x1df")](A,Z)])}},function(m,v){m[e("0x12d")]=e("0x1e3")},function(m,v){m[e("0x12d")]=e("0x1e4")},function(m,v){m[e("0x12d")]=e("0x1e5")},function(m,v){m[e("0x12d")]=e("0x1e6")},function(m,v,w){Object[e("0x1d")](v,e("0x1e"),{value:!![]});var p=n[e("0x79")],C=n[e("0x2d")],S=Object[e("0xa3")],G=n[e("0x134")],P=n[e("0x1b8")],I=n[e("0x1b9")],M=n[e("0x1ba")];function _(b){this[e("0x78")]=void 0,this[e("0x115")]=void 0,this[e("0x145")]=void 0,this[e("0x147")]=void 0,this[e("0x1e7")]=void 0,this[e("0x1e8")]=void 0,this[e("0x1e9")]=void 0,this[e("0x1ea")]=void 0,this[e("0x14f")]=void 0,this[e("0x1eb")]=void 0,this[e("0x1ec")]=void 0,this[e("0x1ed")]=void 0,this[e("0x1ee")]=void 0,this[e("0x1ef")]=void 0,this[e("0x15c")]=void 0,this[e("0x1d1")]=void 0,this[e("0x1f0")]=void 0,this[e("0x1f1")]=void 0,this[e("0x1f2")]=void 0,this[e("0x1f3")]=void 0,this[e("0x1d0")]=new P,this[e("0x1d3")](p(b,p[e("0x13e")]))}S(_[e("0xa4")],{definitionChanged:{get:function(){return this[e("0x1d0")]}},show:M(e("0x7a")),radius:M(e("0xed")),xHalfAngle:M(e("0x144")),yHalfAngle:M(e("0x146")),lineColor:M(e("0x86")),showSectorLines:M(e("0x149")),showSectorSegmentLines:M(e("0x14a")),showLateralSurfaces:M(e("0x14b")),material:I(e("0x14c")),showDomeSurfaces:M(e("0x154")),showDomeLines:M(e("0x1f4")),showIntersection:M(e("0x158")),intersectionColor:M(e("0x159")),intersectionWidth:M(e("0x15a")),showThroughEllipsoid:M(e("0x15b")),gaze:M(e("0x1da")),showScanPlane:M(e("0x15d")),scanPlaneColor:M(e("0x15e")),scanPlaneMode:M(e("0x15f")),scanPlaneRate:M(e("0x161"))}),_[e("0xa4")][e("0x57")]=function(b){return C(b)||(b=new _),b[e("0x7a")]=this[e("0x7a")],b[e("0xed")]=this[e("0xed")],b[e("0x144")]=this[e("0x144")],b[e("0x146")]=this[e("0x146")],b[e("0x86")]=this[e("0x86")],b[e("0x149")]=this[e("0x149")],b[e("0x14a")]=this[e("0x14a")],b[e("0x14b")]=this[e("0x14b")],b[e("0x14c")]=this[e("0x14c")],b[e("0x154")]=this[e("0x154")],b[e("0x157")]=this[e("0x157")],b[e("0x158")]=this[e("0x158")],b[e("0x159")]=this[e("0x159")],b[e("0x15a")]=this[e("0x15a")],b[e("0x15b")]=this[e("0x15b")],b[e("0x1da")]=this[e("0x1da")],b[e("0x15d")]=this[e("0x15d")],b[e("0x15e")]=this[e("0x15e")],b[e("0x15f")]=this[e("0x15f")],b[e("0x161")]=this[e("0x161")],b},_[e("0xa4")][e("0x1d3")]=function(b){if(!C(b))throw new G(e("0x1db"));this[e("0x7a")]=p(this[e("0x7a")],b[e("0x7a")]),this[e("0xed")]=p(this[e("0xed")],b[e("0xed")]),this[e("0x144")]=p(this[e("0x144")],b[e("0x144")]),this[e("0x146")]=p(this[e("0x146")],b[e("0x146")]),this[e("0x86")]=p(this[e("0x86")],b[e("0x86")]),this[e("0x149")]=p(this[e("0x149")],b[e("0x149")]),this[e("0x14a")]=p(this[e("0x14a")],b[e("0x14a")]),this[e("0x14b")]=p(this[e("0x14b")],b[e("0x14b")]),this[e("0x14c")]=p(this[e("0x14c")],b[e("0x14c")]),this[e("0x154")]=p(this[e("0x154")],b[e("0x154")]),this[e("0x157")]=p(this[e("0x157")],b[e("0x157")]),this[e("0x158")]=p(this[e("0x158")],b[e("0x158")]),this[e("0x159")]=p(this[e("0x159")],b[e("0x159")]),this[e("0x15a")]=p(this[e("0x15a")],b[e("0x15a")]),this[e("0x15b")]=p(this[e("0x15b")],b[e("0x15b")]),this[e("0x1da")]=p(this[e("0x1da")],b[e("0x1da")]),this[e("0x15d")]=p(this[e("0x15d")],b[e("0x15d")]),this[e("0x15e")]=p(this[e("0x15e")],b[e("0x15e")]),this[e("0x15f")]=p(this[e("0x15f")],b[e("0x15f")]),this[e("0x161")]=p(this[e("0x161")],b[e("0x161")])},v[e("0x1de")]=_},function(m,v,w){Object[e("0x1d")](v,e("0x1e"),{value:!![]}),v[e("0x1df")]=void 0;var p=w(0),C=n[e("0x1f5")],S=n[e("0x9")],G=n[e("0x83")],P=n[e("0x2d")],I=n[e("0x133")],M=n[e("0x134")],_=n[e("0x22")],b=n[e("0x11")],A=n[e("0x29")],F=n[e("0x1f6")],T=n[e("0xc2")],Z=new _;new b;var W=new S,R=new S,N=new A,B=new S,Y=new A;function L(D,U,te){var ne=U[D.id];if(P(ne)){var Q=ne[e("0x2f")];te[e("0xd2")](Q),Q[e("0x1f7")]()||Q[e("0xb0")](),delete U[D.id]}}var J=function D(U,te){if(!P(U))throw new M(e("0x1f8"));if(!P(te))throw new M(e("0x1f9"));te[e("0x1fa")][e("0x1fb")](D[e("0xa4")][e("0x1fc")],this),this[e("0x1fd")]=U,this[e("0x1fe")]=U[e("0x9d")],this[e("0x1ff")]=te,this[e("0x200")]={},this[e("0x201")]=new C,this[e("0x1fc")](te,te[e("0x4")],[],[])};J[e("0xa4")][e("0xdb")]=function(D){if(!P(D))throw new M(e("0x202"));for(var U=this[e("0x201")][e("0x4")],te=this[e("0x200")],ne=this[e("0x1fe")],Q=0,X=U[e("0x2")];Q<X;Q++){var j=U[Q],q=j[e("0x203")],ue,me,ce,ge,Ze,Ae=te[j.id],Ye=j[e("0x204")]&&j[e("0x205")](D)&&T[e("0x206")](q[e("0x78")],D,!![]);if(Ye&&(ue=T[e("0xc3")](j[e("0x74")],D,W),me=T[e("0xc3")](j[e("0x207")],D,N),ce=T[e("0xc3")](q[e("0x115")],D),ge=T[e("0xc3")](q[e("0x145")],D),Ze=T[e("0xc3")](q[e("0x147")],D),Ye=P(ue)&&P(ge)&&P(Ze)),!Ye){P(Ae)&&(Ae[e("0x2f")][e("0x7a")]=![]);continue}var Se=P(Ae)?Ae[e("0x2f")]:void 0;P(Se)||(Se=new p[e("0x12b")],Se.id=j,ne[e("0x9e")](Se),Ae={primitive:Se,position:void 0,orientation:void 0},te[j.id]=Ae);var Oe=T[e("0xc3")](q[e("0x1d1")],D);if(P(Oe)){var ke=T[e("0xc3")](Oe[e("0x74")],D,R);if(!P(ue)||!P(ke))continue;var Te=S[e("0xb")](ue,ke,B),De=S[e("0x208")](n[e("0x9")][e("0x209")],Te),et=S[e("0xc")](n[e("0x9")][e("0x209")],Te,B),me=A[e("0x20a")](et,De-Math.PI,Y);ce=S[e("0x11d")](ue,ke),Se[e("0x140")]=b[e("0x21")](_[e("0x23")](me,Z),ue,Se[e("0x140")])}else(!S[e("0xba")](ue,Ae[e("0x3")])||!A[e("0xba")](me,Ae[e("0xc1")]))&&(P(me)?(Se[e("0x140")]=b[e("0x21")](_[e("0x23")](me,Z),ue,Se[e("0x140")]),Ae[e("0x3")]=S[e("0x57")](ue,Ae[e("0x3")]),Ae[e("0xc1")]=A[e("0x57")](me,Ae[e("0xc1")])):(Se[e("0x140")]=n[e("0x24")][e("0x25")](ue),Ae[e("0x3")]=S[e("0x57")](ue,Ae[e("0x3")])));Se[e("0x7a")]=!![],Se[e("0x1da")]=Oe,Se[e("0xed")]=ce,Se[e("0x144")]=ge,Se[e("0x146")]=Ze,Se[e("0x86")]=T[e("0x206")](q[e("0x1e7")],D,G[e("0x148")]),Se[e("0x149")]=T[e("0x206")](q[e("0x1e8")],D,!![]),Se[e("0x14a")]=T[e("0x206")](q[e("0x1e9")],D,!![]),Se[e("0x14b")]=T[e("0x206")](q[e("0x1ea")],D,!![]),Se[e("0x14c")]=F[e("0xbf")](D,q[e("0x14f")],Se[e("0x14c")]),Se[e("0x154")]=T[e("0x206")](q[e("0x1eb")],D,!![]),Se[e("0x157")]=T[e("0x206")](q[e("0x1ec")],D,!![]),Se[e("0x158")]=T[e("0x206")](q[e("0x1ed")],D,!![]),Se[e("0x159")]=T[e("0x206")](q[e("0x1ee")],D,G[e("0x148")]),Se[e("0x15a")]=T[e("0x206")](q[e("0x1ef")],D,1),Se[e("0x15b")]=T[e("0x206")](q[e("0x15c")],D,!![]),Se[e("0x15f")]=T[e("0x206")](q[e("0x1f2")],D),Se[e("0x15e")]=T[e("0x206")](q[e("0x1f1")],D,G[e("0x148")]),Se[e("0x15d")]=T[e("0x206")](q[e("0x1f0")],D,!![]),Se[e("0x161")]=T[e("0x206")](q[e("0x1f3")],D,1)}return!![]},J[e("0xa4")][e("0x1f7")]=function(){return![]},J[e("0xa4")][e("0xb0")]=function(){for(var D=this[e("0x201")][e("0x4")],U=this[e("0x200")],te=this[e("0x1fe")],ne=D[e("0x2")]-1;ne>-1;ne--)L(D[ne],U,te);return I(this)},J[e("0xa4")][e("0x1fc")]=function(D,U,te,ne){var Q,X,j=this[e("0x201")],q=this[e("0x200")],ue=this[e("0x1fe")];for(Q=U[e("0x2")]-1;Q>-1;Q--)X=U[Q],P(X[e("0x203")])&&P(X[e("0x74")])&&j[e("0x20b")](X.id,X);for(Q=ne[e("0x2")]-1;Q>-1;Q--)X=ne[Q],P(X[e("0x203")])&&P(X[e("0x74")])?j[e("0x20b")](X.id,X):(L(X,q,ue),j[e("0xd2")](X.id));for(Q=te[e("0x2")]-1;Q>-1;Q--)X=te[Q],L(X,q,ue),j[e("0xd2")](X.id)},v[e("0x1df")]=J},function(m,v,w){Object[e("0x1d")](v,e("0x1e"),{value:!![]}),v[e("0x1e0")]=void 0;var p=w(1),C=w(2),S=w(13);n[e("0x79")];var G=n[e("0x2d")];n[e("0x20c")];var P=n[e("0x24")],I=n[e("0x134")];n[e("0x20d")];var M=n[e("0x83")],_=n[e("0x20e")],b=n[e("0x20f")],A=n[e("0x9")];n[e("0x138")];var F=n[e("0x29")],T=n[e("0x22")],Z=n[e("0x11")],W=n[e("0xc2")];n[e("0x1b8")],n[e("0x210")],n[e("0x211")];function R(U){var te=this;if(!G(U))throw new I(e("0x212"));this[e("0x213")]=U;var ne=U[e("0x6a")];this[e("0x1fd")]=ne;var Q=U[e("0x214")];this[e("0x215")]=Q,this[e("0x1fe")]=ne[e("0x9d")],this[e("0x216")]=void 0,this[e("0x217")]=void 0,this[e("0x218")]=[],Q[e("0x219")][e("0x1fb")](function(){te[e("0xdb")]()})}var N=new T,B=new Z,Y=new A,L=new A,J=new A,D=new F;R[e("0xa4")][e("0x9e")]=function(U){return U instanceof S[e("0x21a")]||(U=new S[e("0x21a")](U)),this[e("0x218")][e("0x4c")](U),U},R[e("0xa4")][e("0xd2")]=function(U){var te=this[e("0x218")][e("0x21b")](U);te!==-1&&this[e("0x218")][e("0xdd")](te,1)},R[e("0xa4")][e("0x21c")]=function(){this[e("0x218")][e("0x2")]=0},R[e("0xa4")][e("0xdb")]=function(){var U=this[e("0x215")][e("0x21d")],te=this[e("0x218")],ne=this[e("0x1fe")],Q=this[e("0x216")],X=this[e("0x217")],j=[],q=[];G(Q)&&ne[e("0x21e")](Q),G(X)&&ne[e("0x21e")](X);for(var ue=0,me=te[e("0x2")];ue<me;ue++){var ce=te[ue],ge=ce[e("0x21f")];if(!!W[e("0x206")](ge[e("0x7a")],U,!![])){var Ze=ge[e("0x114")],Ae=ge[e("0xed")],Ye=ge[e("0x1d4")],Se=ge[e("0x13f")];if(!!G(Ze)){var Oe=W[e("0x206")](ce[e("0x7a")],U,!![]);if(!!Oe){var ke=W[e("0xc3")](ce[e("0x3")],U,Y);if(!!G(ke)){var Te,De=ge[e("0x1da")];if(G(De)){var et=W[e("0xc3")](De[e("0x3")],U,L);if(!G(ke)||!G(et))continue;var Je=A[e("0xb")](ke,et,J),Pt=A[e("0x208")](n[e("0x9")][e("0x209")],Je),gt=A[e("0xc")](n[e("0x9")][e("0x209")],Je,J),Mt=F[e("0x20a")](gt,Pt,D),fi=A[e("0x11d")](ke,et);Ae=1,Te=Z[e("0x21")](n[e("0x22")][e("0x220")](T[e("0x23")](Mt,N),fi,N),ke,B)}else{var Mt=W[e("0xc3")](ce[e("0xc1")],U,D);G(Mt)?Te=Z[e("0x21")](T[e("0x23")](Mt,N),ke,B):Te=P[e("0x25")](ke,void 0,B)}if(!!G(Te)){var kt=ce[e("0x6b")];if(!G(kt)){var qt;qt=new p[e("0x1b1")]({vertexFormat:n[e("0x138")][e("0x221")],angle:Ze,radius:Ae,stackPartitions:Ye,slicePartitions:Se}),ce[e("0x6b")]=p[e("0x1b1")][e("0x55")](qt),kt=ce[e("0x6b")]}var xi=ge[e("0x82")],vi=ge[e("0x7c")],Gt=ge[e("0x1d7")];G(Gt)||(Gt=1);var Et=ge[e("0x1d6")];G(Et)||(Et=M[e("0x148")]);var Nt=new n[e("0x222")]({geometry:kt,modelMatrix:Te,attributes:{color:n[e("0x20d")][e("0x223")](xi)}});if(j[e("0x4c")](Nt),vi){var Lt=ce[e("0xd3")];if(!G(Lt)){var ei;ei=new C[e("0x1b7")]({vertexFormat:n[e("0x138")][e("0x192")],angle:Ze,radius:Ae}),ce[e("0xd3")]=C[e("0x1b7")][e("0x55")](ei),Lt=ce[e("0xd3")]}var Nt=new n[e("0x222")]({geometry:Lt,modelMatrix:Te,attributes:{color:n[e("0x20d")][e("0x223")](Et)}});q[e("0x4c")](Nt)}}}}}}}j[e("0x2")]>0&&(this[e("0x216")]=this[e("0x1fe")][e("0x9e")](new _({asynchronous:![],geometryInstances:j,appearance:new b({flat:![],translucent:!![],closed:!![]})}))),q[e("0x2")]>0&&(this[e("0x217")]=this[e("0x1fe")][e("0x9e")](new _({asynchronous:![],geometryInstances:q,appearance:new b({flat:!![],translucent:!![],renderState:{lineWidth:this[e("0x1fd")][e("0x224")](Gt)}})})))},v[e("0x1e0")]=R},function(m,v,w){Object[e("0x1d")](v,e("0x1e"),{value:!![]}),v[e("0x21a")]=void 0;var p=w(3),C=n[e("0x225")],S=n[e("0x1b8")],G=n[e("0x226")],P=n[e("0x1ba")],I=n[e("0x210")];n[e("0x211")];function M(A){return new G(A)}function _(A){return P(A,void 0,M)}function b(A){A=A||{},this[e("0x74")]=void 0,this[e("0x207")]=void 0,this[e("0x78")]=void 0;var F=A[e("0x227")];F instanceof p[e("0x1dc")]||(F=new p[e("0x1dc")](F)),this[e("0x21f")]=F,this[e("0x1ce")]=new I,this[e("0x6b")]=void 0,this[e("0xd3")]=void 0,this[e("0x1d0")]=new S,this[e("0x1d3")](A)}Object[e("0xa3")](b[e("0xa4")],{position:_(e("0x3")),orientation:P(e("0xc1")),show:P(e("0x7a"))}),b[e("0xa4")][e("0x1d3")]=function(A){this[e("0x3")]=A[e("0x3")],this[e("0xc1")]=A[e("0xc1")],this[e("0x7a")]=A[e("0x7a")]},b[e("0xa4")][e("0x228")]=function(A){A instanceof C&&(this[e("0x21f")][e("0x1da")]=A)},v[e("0x21a")]=b}])})}function x(){function m(I,M){var _=I,b=M,A=Math[e("0x66")],F=Math[e("0x65")];return[A(-_)*A(b),F(-_)*A(b),F(b)]}function v(I,M,_,b){return I+b/_*(M-I)}function w(I,M){var _=M[e("0x229")](function(T){return T[e("0x22a")]>I});if(_>0){var b=M[_-1],A=M[_],F=(I-b[e("0x22a")])/(A[e("0x22a")]-b[e("0x22a")]);return b[e("0xed")]*(1-F)+A[e("0xed")]*F}}function p(I,M,_,b,A,F,T){for(var Z=new Float32Array((A+1)*(F+1)*3),W=0;W<A+1;++W)for(var R=0;R<F+1;++R){var N=v(_,b,F,R),B=m(v(I,M,A,W),N),Y=T?w(N,T):1;Z[3*(R*(A+1)+W)+0]=B[0]*Y,Z[3*(R*(A+1)+W)+1]=B[1]*Y,Z[3*(R*(A+1)+W)+2]=B[2]*Y}return Z}function C(I,M,_,b,A,F,T){for(var Z=new Float32Array((b+1)*(A+1)*3),W=0;W<b+1;++W)for(var R=0;R<A+1;++R){var N=v(M,_,A,R),B=m(I,N),Y=F?w(N,F):1,L=T?w(N,T):1,J=v(Y,L,b,W);Z[3*(R*(b+1)+W)+0]=B[0]*J,Z[3*(R*(b+1)+W)+1]=B[1]*J,Z[3*(R*(b+1)+W)+2]=B[2]*J}return Z}function S(I,M){for(var _=new Uint16Array(I*M*6),b=0;b<I;++b)for(var A=0;A<M;++A){var F=A*(I+1)+b,T=A*(I+1)+b+1,Z=(A+1)*(I+1)+b,W=(A+1)*(I+1)+b+1,R=6*(A*I+b);_[R+0]=F,_[R+1]=T,_[R+2]=W,_[R+3]=F,_[R+4]=W,_[R+5]=Z}return _}function G(I,M,_,b){for(var A=I*_,F=M*b,T=new Uint16Array((I+1)*(2*F)+(M+1)*(2*A)+8),Z=0;Z<I+1;++Z)for(var W=0;W<F;++W){var R=Z*_;T[2*(Z*F+W)+0]=W*(A+1)+R,T[2*(Z*F+W)+1]=(W+1)*(A+1)+R}for(var N=(I+1)*(2*F),B=0;B<M+1;++B)for(var Y=0;Y<A;++Y){var L=B*b;T[N+2*(Y+B*A)+0]=L*(A+1)+Y,T[N+2*(Y+B*A)+1]=L*(A+1)+Y+1}return T}function P(I){this[e("0x22b")]=I[e("0x22b")],this[e("0x22c")]=I[e("0x22c")],this[e("0xed")]=I[e("0xed")],this[e("0x22d")]=I[e("0x22d")],this[e("0x140")]=n[e("0x79")](I[e("0x140")],n[e("0x11")][e("0x8c")]),this[e("0x22e")]=n[e("0x79")](I[e("0x22e")],n[e("0x5d")][e("0x5e")](-50)),this[e("0x22f")]=n[e("0x79")](I[e("0x22f")],n[e("0x5d")][e("0x5e")](50)),this[e("0x230")]=n[e("0x79")](I[e("0x230")],n[e("0x5d")][e("0x5e")](5)),this[e("0x231")]=n[e("0x79")](I[e("0x231")],n[e("0x5d")][e("0x5e")](85)),this[e("0x232")]=n[e("0x79")](I[e("0x232")],20),this[e("0x233")]=n[e("0x79")](I[e("0x233")],20),this[e("0x234")]=n[e("0x79")](I[e("0x234")],3),this[e("0x235")]=n[e("0x79")](I[e("0x235")],3),this[e("0x236")]=n[e("0x79")](I[e("0x236")],new n[e("0x83")](1,1,0,.5)),this[e("0x86")]=n[e("0x79")](I[e("0x86")],new n[e("0x83")](1,0,0)),this[e("0x7a")]=n[e("0x79")](I[e("0x7a")],!0),this[e("0x8b")]=n[e("0x11")][e("0x57")](n[e("0x11")][e("0x8c")]),this[e("0x237")]=0,this[e("0x238")]=0,this[e("0x239")]=0,this[e("0x23a")]=0,this[e("0x23b")]=1,this[e("0x23c")]=1,this[e("0x23d")]=1,this[e("0x23e")]=1,this[e("0x166")]=new n[e("0x4e")],this[e("0x23f")]=void 0,this[e("0x240")]=void 0}P[e("0xa4")][e("0x241")]=function(I){var M=this[e("0x23d")]*this[e("0x23b")],_=this[e("0x23e")]*this[e("0x23c")],b=p(this[e("0x237")],this[e("0x238")],this[e("0x239")],this[e("0x23a")],M,_,this[e("0x242")]),A=p(this[e("0x237")],this[e("0x238")],this[e("0x239")],this[e("0x23a")],M,_,this[e("0x242")]),F=S(M,_),T=G(this[e("0x23b")],this[e("0x23c")],this[e("0x23d")],this[e("0x23e")]);return this[e("0x243")](I,b,A,F,T)},P[e("0xa4")][e("0x244")]=function(I){var M=this[e("0x23d")]*this[e("0x23b")],_=this[e("0x23e")]*this[e("0x23c")],b=p(this[e("0x237")],this[e("0x238")],this[e("0x239")],this[e("0x23a")],M,_,this[e("0x245")]),A=p(this[e("0x237")],this[e("0x238")],this[e("0x239")],this[e("0x23a")],M,_,this[e("0x245")]),F=S(M,_),T=G(this[e("0x23b")],this[e("0x23c")],this[e("0x23d")],this[e("0x23e")]);return this[e("0x243")](I,b,A,F,T)},P[e("0xa4")][e("0x246")]=function(I){var M=this[e("0x23e")]*this[e("0x23c")],_=C(this[e("0x237")],this[e("0x239")],this[e("0x23a")],10,M,this[e("0x245")],this[e("0x242")]),b=C(this[e("0x237")],this[e("0x239")],this[e("0x23a")],10,M,this[e("0x245")],this[e("0x242")]),A=S(10,M),F=G(10,this[e("0x23c")],1,this[e("0x23e")]);return this[e("0x243")](I,_,b,A,F)},P[e("0xa4")][e("0x247")]=function(I){var M=this[e("0x23e")]*this[e("0x23c")],_=C(this[e("0x238")],this[e("0x239")],this[e("0x23a")],10,M,this[e("0x245")],this[e("0x242")]),b=C(this[e("0x238")],this[e("0x239")],this[e("0x23a")],10,M,this[e("0x245")],this[e("0x242")]),A=S(10,M),F=G(10,this[e("0x23c")],1,this[e("0x23e")]);return this[e("0x243")](I,_,b,A,F)},P[e("0xa4")][e("0x243")]=function(I,M,_,b,A){var F=this,T=n[e("0x248")][e("0x249")](!0,!1,void 0),Z=n[e("0xfb")][e("0xfc")](T),W=new n[e("0x136")]({sources:[e("0x24a")]}),R=new n[e("0x136")]({sources:[e("0x24b")]}),N={xbsjColor:function(){return F[e("0x236")]}},B={xbsjColor:function(){return F[e("0x86")]}},Y=n[e("0xf8")][e("0xfc")]({context:I,vertexShaderSource:W,fragmentShaderSource:R,attributeLocations:{position:0,normal:1}}),L=n[e("0x135")][e("0x190")]({context:I,typedArray:M,usage:n[e("0xf4")][e("0xf5")]}),J=n[e("0x135")][e("0x190")]({context:I,typedArray:_,usage:n[e("0xf4")][e("0xf5")]}),D=n[e("0x135")][e("0x24c")]({context:I,typedArray:b,usage:n[e("0xf4")][e("0xf5")],indexDatatype:n[e("0x1a1")][e("0x24d")]}),U=n[e("0x135")][e("0x24c")]({context:I,typedArray:A,usage:n[e("0xf4")][e("0xf5")],indexDatatype:n[e("0x1a1")][e("0x24d")]}),te=new n[e("0xf2")]({context:I,attributes:[{index:0,vertexBuffer:L,componentsPerAttribute:3,componentDatatype:n[e("0x7")][e("0x8")]},{index:1,vertexBuffer:J,componentsPerAttribute:3,componentDatatype:n[e("0x7")][e("0x8")]}],indexBuffer:D}),ne=new n[e("0xf2")]({context:I,attributes:[{index:0,vertexBuffer:L,componentsPerAttribute:3,componentDatatype:n[e("0x7")][e("0x8")]},{index:1,vertexBuffer:J,componentsPerAttribute:3,componentDatatype:n[e("0x7")][e("0x8")]}],indexBuffer:U}),Q=n[e("0x4e")][e("0x4f")](M);return{command:new n[e("0xee")]({vertexArray:te,primitiveType:n[e("0x51")][e("0x52")],renderState:Z,shaderProgram:Y,uniformMap:N,owner:this,pass:n[e("0xef")][e("0x129")],modelMatrix:new n[e("0x11")],boundingVolume:new n[e("0x4e")],cull:!0}),lineCommand:new n[e("0xee")]({vertexArray:ne,primitiveType:n[e("0x51")][e("0x59")],renderState:Z,shaderProgram:Y,uniformMap:B,owner:this,pass:n[e("0xef")][e("0x129")],modelMatrix:new n[e("0x11")],boundingVolume:new n[e("0x4e")],cull:!0}),initBoundingSphere:Q}},P[e("0xa4")][e("0xdb")]=function(I){var M=this;this[e("0x7a")]&&((this[e("0x22b")]!==this[e("0x245")]||this[e("0x22c")]!==this[e("0x242")]||this[e("0x22e")]!==this[e("0x237")]||this[e("0x22f")]!==this[e("0x238")]||this[e("0x230")]!==this[e("0x239")]||this[e("0x231")]!==this[e("0x23a")]||this[e("0x232")]!==this[e("0x23b")]||this[e("0x233")]!==this[e("0x23c")]||this[e("0x234")]!==this[e("0x23d")]||this[e("0x235")]!==this[e("0x23e")])&&(this[e("0x245")]=this[e("0x22b")],this[e("0x242")]=this[e("0x22c")],this[e("0x237")]=this[e("0x22e")],this[e("0x238")]=this[e("0x22f")],this[e("0x239")]=this[e("0x230")],this[e("0x23a")]=this[e("0x231")],this[e("0x23b")]=this[e("0x232")],this[e("0x23c")]=this[e("0x233")],this[e("0x23d")]=this[e("0x234")],this[e("0x23e")]=this[e("0x235")],this[e("0x8b")]=n[e("0x57")](n[e("0x11")][e("0x8c")]),this[e("0x24e")]()),n[e("0x2d")](this[e("0x24f")])&&this[e("0x24f")][e("0x2")]!==0||(this[e("0x24f")]||(this[e("0x24f")]=[]),this[e("0x24f")][e("0x4c")](this[e("0x241")](I[e("0xea")])),this[e("0x24f")][e("0x4c")](this[e("0x246")](I[e("0xea")])),this[e("0x24f")][e("0x4c")](this[e("0x247")](I[e("0xea")])),this[e("0x24f")][e("0x4c")](this[e("0x244")](I[e("0xea")]))),n[e("0x11")][e("0xba")](this[e("0x140")],this[e("0x8b")])||(n[e("0x11")][e("0x57")](this[e("0x140")],this[e("0x8b")]),this[e("0x24f")][e("0xae")](function(_){_[e("0x250")][e("0x140")]=n[e("0x11")][e("0x8c")],_[e("0x250")][e("0x140")]=M[e("0x8b")],_[e("0x250")][e("0x251")]=n[e("0x4e")][e("0x180")](_[e("0x252")],M[e("0x8b")],M[e("0x166")]),_[e("0x253")][e("0x140")]=n[e("0x11")][e("0x8c")],_[e("0x253")][e("0x140")]=M[e("0x8b")],_[e("0x253")][e("0x251")]=n[e("0x4e")][e("0x180")](_[e("0x252")],M[e("0x8b")],M[e("0x166")])})),this[e("0x24f")][e("0xae")](function(_){_[e("0x250")]&&I[e("0xe1")][e("0x4c")](_[e("0x250")]),_[e("0x253")]&&I[e("0xe1")][e("0x4c")](_[e("0x253")])}))},P[e("0xa4")][e("0x1f7")]=function(){return!1},P[e("0xa4")][e("0x24e")]=function(){this[e("0x24f")]&&this[e("0x24f")][e("0xae")](function(I){n[e("0x2d")](I[e("0x250")])&&(I[e("0x250")][e("0xf7")]=I[e("0x250")][e("0xf7")]&&I[e("0x250")][e("0xf7")][e("0xb0")](),I[e("0x250")][e("0xaf")]=I[e("0x250")][e("0xaf")]&&I[e("0x250")][e("0xaf")][e("0xb0")](),I[e("0x250")]=void 0),n[e("0x2d")](I[e("0x253")])&&(I[e("0x253")][e("0xf7")]=I[e("0x253")][e("0xf7")]&&I[e("0x253")][e("0xf7")][e("0xb0")](),I[e("0x253")][e("0xaf")]=I[e("0x253")][e("0xaf")]&&I[e("0x253")][e("0xaf")][e("0xb0")](),I[e("0x253")]=void 0)}),this[e("0x24f")]&&(this[e("0x24f")][e("0x2")]=0)},P[e("0xa4")][e("0xb0")]=function(){return this[e("0x24e")](),n[e("0x133")](this)},Object[e("0xa3")](P[e("0xa4")],{startRadius:{get:function(){return this[e("0x254")]},set:function(I){this[e("0x254")]=I,this[e("0x22b")]=[{fov:n[e("0x5d")][e("0x5e")](0),radius:I},{fov:n[e("0x5d")][e("0x5e")](10),radius:.9*I},{fov:n[e("0x5d")][e("0x5e")](20),radius:.8*I},{fov:n[e("0x5d")][e("0x5e")](30),radius:.7*I},{fov:n[e("0x5d")][e("0x5e")](40),radius:.6*I},{fov:n[e("0x5d")][e("0x5e")](50),radius:.5*I},{fov:n[e("0x5d")][e("0x5e")](60),radius:.4*I},{fov:n[e("0x5d")][e("0x5e")](70),radius:.3*I},{fov:n[e("0x5d")][e("0x5e")](80),radius:.1*I},{fov:n[e("0x5d")][e("0x5e")](90),radius:.01*I}]}},radius:{get:function(){return this[e("0x115")]},set:function(I){this[e("0x115")]=I,this[e("0x22c")]=[{fov:n[e("0x5d")][e("0x5e")](0),radius:I},{fov:n[e("0x5d")][e("0x5e")](10),radius:.9*I},{fov:n[e("0x5d")][e("0x5e")](20),radius:.8*I},{fov:n[e("0x5d")][e("0x5e")](30),radius:.7*I},{fov:n[e("0x5d")][e("0x5e")](40),radius:.6*I},{fov:n[e("0x5d")][e("0x5e")](50),radius:.5*I},{fov:n[e("0x5d")][e("0x5e")](60),radius:.4*I},{fov:n[e("0x5d")][e("0x5e")](70),radius:.3*I},{fov:n[e("0x5d")][e("0x5e")](80),radius:.1*I},{fov:n[e("0x5d")][e("0x5e")](90),radius:.01*I}]}}}),n.Scene[e("0x255")]=P}s(),o(),r(),l(),c(),u(),d(),x(),g(),i[e("0x256")]=!![]};let Be=null;function ya(i,n){i&&(this._viewer=i,Be=n,new Wo(Window,Be),this._customPluginLayer=new Be.CustomDataSource("_customPluginLayer"),i&&i.dataSources.add(this._customPluginLayer))}ya.prototype={createRectangularSensorGraphics:function(i){if(this._customPluginLayer&&i){let n=new Be.HeadingPitchRoll(Be.Math.toRadians(i.heading||90),Be.Math.toRadians(i.pitch||0),Be.Math.toRadians(i.roll||0)),r=i.position;return this._customPluginLayer.entities.add({position:r,orientation:Be.Transforms.headingPitchRollQuaternion(r,n),rectangularSensor:new Be.Scene.RectangularSensorGraphics({radius:i.radius||1e5,xHalfAngle:Be.Math.toRadians(i.xHalfAngle||45),yHalfAngle:Be.Math.toRadians(i.yHalfAngle||45),material:i.material||new Be.Color(1,0,1,.4),lineColor:i.lineColor||new Be.Color(1,0,1,1),showScanPlane:i.showScanPlane||!0,scanPlaneColor:i.scanPlaneColor||new Be.Color(1,0,1,1),scanPlaneMode:i.scanPlaneMode||"vertical",scanPlaneRate:i.scanPlaneRate||3,showThroughEllipsoid:i.showThroughEllipsoid||!1})})}},createSatelliteCoverageSimulationGraphics:function(i){if(i)return new Be.Scene.SatelliteCoverageSimulation(this._viewer,{position:i.position,angle1:i.angle1||30,angle2:i.angle2||45,areaType:i.areaType||2,rotation:{heading:Be.Math.toRadians(i.heading||0),pitch:Be.Math.toRadians(i.pitch||0),roll:Be.Math.toRadians(i.roll||0)},color:i.color||{red:.43137254901960786,green:.9607843137254902,blue:0,alpha:.8}})},createRadarPrimitive:function(i){if(i)return new Be.Scene.RadarPrimitive(this._viewer,{position:i.position,angle:i.angle||90-10,radius:i.radius||7e5,rotation:{heading:Be.Math.toRadians(i.heading||0),pitch:Be.Math.toRadians(i.pitch||40),roll:Be.Math.toRadians(i.roll||0)},color:i.color||{red:1,green:0,blue:0,alpha:.4},lineColor:i.lineColor||{red:1,green:1,blue:1,alpha:.9}})}};let re=null;function ba(i,n){i&&(this._viewer=i,re=n,this._installFileDragDropHandler())}ba.prototype={_installFileDragDropHandler(){function i(r,o){var s=document.createElement("div");s.id="fileDragDrop",s.classList.add("filedragdrop"),s.innerHTML="\u8BF7\u5C06Json\u6587\u4EF6\u62D6\u62FD\u5230\u6B64\u533A\u57DF",this._dragBox=s,this._viewer=o,this._parentDiv=r,r.appendChild(s),this.fileDragDropCallBack=void 0,this.callBackParms=void 0}i.prototype.startuploadfile=function(){var r=this,o=r._dragBox,s=null;document.ondragover=function(){clearTimeout(s),s=setTimeout(function(){o.innerHTML="\u8BF7\u5C06\u6587\u4EF6\u62D6\u62FD\u5230\u6B64\u533A\u57DF"},200)},o.ondragenter=function(){o.innerHTML="\u8BF7\u91CA\u653E\u9F20\u6807"},o.ondragover=function(){return!1},o.ondragleave=function(){o.innerHTML="\u8BF7\u5C06\u6587\u4EF6\u62D6\u62FD\u5230\u6B64\u533A\u57DF"},o.ondrop=function(l){l.preventDefault();var c=l.dataTransfer.files[0],u=new FileReader;return u.readAsText(c,"UTF-8"),u.onload=function(){var d=JSON.parse(this.result);r.fileDragDropCallBack&&r.fileDragDropCallBack(r.callBackParms,d,r._viewer)},u.onloadstart=function(){},u.onloadend=function(){},u.onabort=function(){alert("\u8BFB\u53D6\u6570\u636E\u4E2D\u65AD")},u.onerror=function(){alert("\u8BFB\u53D6\u6570\u636E\u5931\u8D25")},!1}};function n(r){var o=new i(document.querySelector(".cesium-viewer"),r);Object.defineProperties(r,{fileDragDropMixin:{get:function(){return o}}})}re.Scene.FileDragDropMixin=n},showLoadDataToScenePanel(i){if(i=i||{},i){let n=new it,r=this._viewer,o=n.addFolder("\u52A0\u8F7D\u6570\u636E\u6587\u4EF6"),s=c=>{let u=document.createElement("input");u.type="file",u.className="datgui_upload",u.onchange=function(){typeof c=="function"&&u.files.length&&c(URL.createObjectURL(u.files[0]))},document.getElementsByTagName("body")&&document.getElementsByTagName("body")[0].appendChild(u),u.click()},l={point:()=>{s(c=>{var u=re.GeoJsonDataSource.load(c);u.then(function(d){r.dataSources.add(d);for(var g=d.entities.values,x=0;x<g.length;x++){var m=g[x];m.nameID=x,m.point={color:re.Color.BLUE}}r.flyTo(d)})})},polyline:()=>{s(c=>{var u=re.GeoJsonDataSource.load(c);u.then(function(d){r.dataSources.add(d);for(var g=d.entities.values,x=0;x<g.length;x++){var m=g[x];m.nameID=x,m.polyline.width=5,m.polyline.material=new re.PolylineGlowMaterialProperty({glowPower:.1,color:re.Color.ORANGERED.withAlpha(.9)})}r.flyTo(d)})})},polygon:()=>{s(c=>{var u=re.GeoJsonDataSource.load(c);u.then(function(d){r.dataSources.add(d);for(var g=d.entities.values,x=0;x<g.length;x++){var m=g[x];m.nameID=x,m.polygon.width=10,m.polygon.material=re.Color.BLUE.withAlpha(.9)}r.flyTo(d)})})},model:()=>{s(c=>{r.flyTo(d3kit.createModelGraphics({position:re.Cartesian3.fromDegrees(120.38105869,31.10115627),m_url:c}))})},czml:()=>{s(c=>{r.flyTo(r.dataSources.add(re.CzmlDataSource.load(c)))})},"3dtilset":()=>{s(c=>{r.flyTo(r.scene.primitives.add(new re.Cesium3DTileset({url:c})))})}};o.add(l,"point"),o.add(l,"polyline"),o.add(l,"polygon"),o.add(l,"model"),o.add(l,"czml"),o.add(l,"3dtilset"),o.open()}},showPostProcessStagesPanel(i){i=i||{};let n=function(){this.blackAndWhiteShow=!1,this.blackAndWhiteGradations=5,this.brightnessShow=!1,this.brightnessValue=.5,this.nightVisionShow=!1,this.silhouette=!1},r=null,o=new n;if(i&&i.elementId){r=new it({autoPlace:!1});var s=document.getElementById(i.elementId);s.appendChild(r.domElement)}else r=new it;let c=this._viewer.scene.postProcessStages,u=c.add(re.PostProcessStageLibrary.createSilhouetteStage()),d=c.add(re.PostProcessStageLibrary.createBlackAndWhiteStage()),g=c.add(re.PostProcessStageLibrary.createBrightnessStage()),x=c.add(re.PostProcessStageLibrary.createNightVisionStage());u.uniforms.color=i.silhouetteColor||re.Color.YELLOW,u.enabled=!1,d.enabled=!1,d.uniforms.gradations=5,g.enabled=!1,g.uniforms.brightness=.5,x.enabled=!1,r.add(o,"blackAndWhiteShow").name("blackAndWhiteShow").onChange(function(m){d.enabled=m}),r.add(o,"blackAndWhiteGradations",0,10,.1).name("blackAndWhiteGradations").onChange(function(m){d.uniforms.gradations=m}),r.add(o,"brightnessShow").name("brightnessShow").onChange(function(m){g.enabled=m}),r.add(o,"brightnessValue",0,10,.1).name("brightnessValue").onChange(function(m){g.uniforms.brightness=m}),r.add(o,"nightVisionShow").name("nightVisionShow").onChange(function(m){x.enabled=m}),r.add(o,"silhouette").name("silhouette").onChange(function(m){u.enabled=m})},showSceneBloomPanel(i){let n=function(){this.contrast=128,this.brightness=-.3,this.delta=1,this.gamma=3.5,this.enabled=!1,this.highDynamicRange=!1,this.shadows=!1,this.glowOnly=!1,this.sigma=1,this.stepSize=5},r=null,o=new n;if(i&&i.elementId){r=new it({autoPlace:!1});var s=document.getElementById(i.elementId);s.appendChild(r.domElement)}else r=new it;let l=this._viewer;r.__closeButton.innerHTML="\u6536\u7F29\u9762\u677F";let c=l.scene.postProcessStages.bloom;r.add(o,"enabled").name("bloom").onChange(function(u){c.enabled=u}),r.add(o,"glowOnly").name("\u53D1\u5149").onChange(function(u){c.uniforms.glowOnly=u}),r.add(o,"enabled").name("\u542F\u7528\u6A21\u7CCA").onChange(function(u){c.enabled=u}),r.add(o,"contrast",-255,255,.01).name("\u5BF9\u6BD4\u5EA6").onChange(function(u){c.uniforms.contrast=u}),r.add(o,"brightness",-1,1,.01).name("\u5149\u6CFD\u4EAE\u5EA6").onChange(function(u){c.uniforms.brightness=u}),r.add(o,"delta",1,5,.01).name("\u56E0\u5B50").onChange(function(u){c.uniforms.delta=u}),r.add(o,"sigma",1,10,.01).name("sigma").onChange(function(u){c.uniforms.sigma=u}),r.add(o,"stepSize",.1,10).name("stepSize").onChange(function(u){c.uniforms.stepSize=u}),r.add(o,"shadows").name("\u542F\u7528\u9634\u5F71").onChange(function(u){l.shadows=u}),r.add(o,"highDynamicRange").name("\u9AD8\u52A8\u6001\u8303\u56F4").onChange(function(u){l.scene.highDynamicRange=u}),r.add(o,"gamma",1,10,.01).name("\u4F3D\u9A6C\u4EAE\u5EA6").onChange(function(u){l.scene.gamma=u})},showPrimitiveMatrixPanel(i){let n=i._delegate||i;this._viewer;let r=new it,o={height:100},s=r.addFolder("\u79BB\u5730\u9AD8\u5EA6");s.add(o,"height",0,1e3,1).onChange(function(v){var w=i.boundingSphere,p=re.Cartographic.fromCartesian(w.center),C=re.Cartesian3.fromRadians(p.longitude,p.latitude,0),S=re.Cartesian3.fromRadians(p.longitude,p.latitude,v),G=re.Cartesian3.subtract(S,C,new re.Cartesian3);i.modelMatrix=re.Matrix4.fromTranslation(G)}),s.open();let l=r.addFolder("\u7F29\u653E\u5927\u5C0F"),c={"m+Scale":()=>{n.readyPromise.then(v=>{let w=v.root.transform;re.Matrix4.multiplyByUniformScale(w,1.2,w),v.root.transform=w})},"m-Scale":()=>{n.readyPromise.then(v=>{let w=v.root.transform;re.Matrix4.multiplyByUniformScale(w,.8,w),v.root.transform=w})}};l.add(c,"m+Scale"),l.add(c,"m-Scale"),l.open();let u={"x+Axis":()=>{const v=re.Matrix4.fromTranslation(new re.Cartesian3(20,0,0));re.Matrix4.multiply(n.modelMatrix,v,n.modelMatrix)},"x-Axis":()=>{const v=re.Matrix4.fromTranslation(new re.Cartesian3(-20,0,0));re.Matrix4.multiply(n.modelMatrix,v,n.modelMatrix)},"y+Axis":()=>{const v=re.Matrix4.fromTranslation(new re.Cartesian3(0,20,0));re.Matrix4.multiply(n.modelMatrix,v,n.modelMatrix)},"y-Axis":()=>{const v=re.Matrix4.fromTranslation(new re.Cartesian3(0,-20,0));re.Matrix4.multiply(n.modelMatrix,v,n.modelMatrix)},"z+Axis":()=>{const v=re.Matrix4.fromTranslation(new re.Cartesian3(0,0,20));re.Matrix4.multiply(n.modelMatrix,v,n.modelMatrix)},"z-Axis":()=>{const v=re.Matrix4.fromTranslation(new re.Cartesian3(0,0,-20));re.Matrix4.multiply(n.modelMatrix,v,n.modelMatrix)}},d=r.addFolder("\u77E9\u9635\u5E73\u79FB");d.add(u,"x+Axis"),d.add(u,"x-Axis"),d.add(u,"y+Axis"),d.add(u,"y-Axis"),d.add(u,"z+Axis"),d.add(u,"z-Axis"),d.open();let g={x:0,y:0,z:0},x={"x+Axis":()=>{g.x+=15,n.readyPromise.then(v=>{const w=re.Matrix3.fromRotationX(re.Math.toRadians(g.x)),p=re.Matrix4.fromRotationTranslation(w),C=re.Transforms.eastNorthUpToFixedFrame(v.boundingSphere.center);re.Matrix4.multiply(C,p,C),v._root.transform=C})},"x-Axis":()=>{g.x-=15,n.readyPromise.then(v=>{const w=re.Matrix3.fromRotationX(re.Math.toRadians(g.x)),p=re.Matrix4.fromRotationTranslation(w),C=re.Transforms.eastNorthUpToFixedFrame(v.boundingSphere.center);re.Matrix4.multiply(C,p,C),v._root.transform=C})},"y+Axis":()=>{g.y+=15,n.readyPromise.then(v=>{const w=re.Matrix3.fromRotationY(re.Math.toRadians(g.y)),p=re.Matrix4.fromRotationTranslation(w),C=re.Transforms.eastNorthUpToFixedFrame(v.boundingSphere.center);re.Matrix4.multiply(C,p,C),v._root.transform=C})},"y-Axis":()=>{g.y-=15,n.readyPromise.then(v=>{const w=re.Matrix3.fromRotationY(re.Math.toRadians(g.y)),p=re.Matrix4.fromRotationTranslation(w),C=re.Transforms.eastNorthUpToFixedFrame(v.boundingSphere.center);re.Matrix4.multiply(C,p,C),v._root.transform=C})},"z+Axis":()=>{g.z+=15,n.readyPromise.then(v=>{const w=re.Matrix3.fromRotationZ(re.Math.toRadians(g.z)),p=re.Matrix4.fromRotationTranslation(w),C=re.Transforms.eastNorthUpToFixedFrame(v.boundingSphere.center);re.Matrix4.multiply(C,p,C),v._root.transform=C})},"z-Axis":()=>{g.z-=15,n.readyPromise.then(v=>{const w=re.Matrix3.fromRotationZ(re.Math.toRadians(g.z)),p=re.Matrix4.fromRotationTranslation(w),C=re.Transforms.eastNorthUpToFixedFrame(v.boundingSphere.center);re.Matrix4.multiply(C,p,C),v._root.transform=C})}},m=r.addFolder("\u65CB\u8F6C\u77E9\u9635");m.add(x,"x+Axis"),m.add(x,"x-Axis"),m.add(x,"y+Axis"),m.add(x,"y-Axis"),m.add(x,"z+Axis"),m.add(x,"z-Axis"),m.open(),r.__closeButton.innerHTML="\u6536\u7F29\u9762\u677F"},showLayerParamPanel:function(i,n){if(i){let l=null;if(n&&n.elementId){l=new it({autoPlace:!1});var r=document.getElementById(n.elementId);r.appendChild(l.domElement)}else l=new it;var o=new function(){this.alpha=i.alpha,this.brightness=i.brightness,this.contrast=i.contrast,this.gamma=i.gamma,this.hue=i.hue,this.dayAlpha=i.dayAlpha,this.nightAlpha=i.nightAlpha,this.saturation=i.saturation},s=l.addFolder("\u56FE\u5C42\u8C03\u6574");s.add(o,"alpha",0,1,.05).name("\u900F\u660E\u5EA6").onChange(function(c){i.alpha=c}),s.add(o,"brightness",0,5,.05).name("\u4EAE\u5EA6").onChange(function(c){i.brightness=c}),s.add(o,"contrast",0,5,.05).name("\u5BF9\u6BD4").onChange(function(c){i.contrast=c}),s.add(o,"gamma",0,5,.05).name("\u4F3D\u9A6C").onChange(function(c){i.gamma=c}),s.add(o,"hue",0,5,.05).name("\u8272\u8C03").onChange(function(c){i.hue=c}),s.add(o,"dayAlpha",0,1,.05).name("\u767D\u5929\u900F\u660E").onChange(function(c){i.dayAlpha=c}),s.add(o,"nightAlpha",0,1,.05).name("\u591C\u665A\u900F\u660E").onChange(function(c){i.nightAlpha=c}),s.add(o,"saturation",0,5,.05).name("\u9971\u548C").onChange(function(c){i.saturation=c}),s.open()}},showLayerSwitchPanel:function(i,n){if(i&&i.length){let u=null;if(n&&n.elementId){u=new it({autoPlace:!1});var r=document.getElementById(n.elementId);r.appendChild(u.domElement)}else u=new it;var o=new function(){i.forEach(d=>{this[d.id]=d.show})},s=u.addFolder("\u56FE\u5C42\u5207\u6362");i.forEach(d=>{s.add(o,d.id).name(d.name).onChange(function(g){d.show=g})});var l=new function(){i.forEach(d=>{this[d.id]=d.alpha})},c=u.addFolder("\u900F\u660E\u5EA6");i.forEach(d=>{c.add(l,d.id,0,1,.05).name(d.name).onChange(function(g){d.alpha=g})}),s.open(),c.open()}},showSceneEffectEditPanel:function(i){if(i=i||{},it&&this._viewer.scene.colorCorrection){var n=new it,r=this._viewer;r.scene.lightSource.ambientLightColor=i.ambientLightColor||new re.Color(.3,.3,.3,1),r.scene.colorCorrection.show=i.colorCorrection||!1,r.scene.colorCorrection.saturation=i.saturation||3.1,r.scene.colorCorrection.brightness=i.brightness||1.8,r.scene.colorCorrection.contrast=i.contrast||1.2,r.scene.colorCorrection.hue=i.hue||0,r.scene.bloomEffect.show=i.bloomEffect||!1,r.scene.hdrEnabled=i.hdrEnabled||!0,r.scene.bloomEffect.threshold=i.threshold||1,r.scene.bloomEffect.bloomIntensity=i.bloomIntensity||2;var o=new function(){this.bloomEffectShow=i.bloomEffect||!1,this.bloomThreshold=i.threshold||1,this.bloomIntensity=i.bloomIntensity||2,this.ambientLightColor=i.ambientLightColor||.3,this.hdrEnabled=i.hdrEnabled||!0,this.colorCorrectionShow=!1,this.colorCorrectionSaturation=i.saturation||3.1,this.colorCorrectionBrightness=i.brightness||1.8,this.colorCorrectionContrast=i.contrast||1.2,this.colorCorrectionHue=i.hue||0},s=n.addFolder("\u573A\u666F\u6548\u679C");console.log("sceneEffect:",o),s.add(o,"bloomEffectShow").name("\u6CDB\u5149\u5F00\u5173").onChange(function(l){r.scene.bloomEffect.show=l,r.scene.bloomEffect.threshold=o.bloomThreshold,r.scene.bloomEffect.bloomIntensity=o.bloomIntensity}),s.add(o,"bloomThreshold",0,1,.1).name("\u6CDB\u5149\u9608\u503C").onChange(function(l){r.scene.bloomEffect.threshold=l}),s.add(o,"bloomIntensity",0,10,.1).name("\u6CDB\u5149\u5F3A\u5EA6").onChange(function(l){r.scene.bloomEffect.bloomIntensity=l}),s.add(o,"hdrEnabled").name("HDR\u5F00\u5173").onChange(function(l){r.scene.hdrEnabled=l}),s.add(o,"colorCorrectionShow").name("\u989C\u8272\u6821\u6B63").onChange(function(l){r.scene.colorCorrection.show=l}),s.add(o,"colorCorrectionSaturation",0,5,.1).name("\u9971\u548C\u5EA6").onChange(function(l){r.scene.colorCorrection.saturation=l}),s.add(o,"colorCorrectionBrightness",0,5,.1).name("\u4EAE\u5EA6").onChange(function(l){r.scene.colorCorrection.brightness=l}),s.add(o,"colorCorrectionContrast",0,5,.1).name("\u5BF9\u6BD4\u5EA6").onChange(function(l){r.scene.colorCorrection.contrast=l}),s.add(o,"colorCorrectionHue",0,5,.1).name("\u8272\u8C03").onChange(function(l){r.scene.hdrEnabled=l}),s.add(o,"colorCorrectionHue",0,1,.1).name("\u73AF\u5883\u5149").onChange(function(l){r.scene.lightSource.ambientLightColor=new re.Color(l,l,l,1)}),s.open()}},showEntityOrientationEditPanel:function(i){if(i){var n=new it,r=new function(){this.heading=360,this.pitch=1,this.roll=1},o=n.addFolder("\u5B9E\u4F53\u59FF\u6001\u8C03\u6574"),s=this;o.add(r,"heading",0,360,1).name("\u89D2\u5EA6").onChange(function(l){r.heading=l,i.orientation=re.Transforms.headingPitchRollQuaternion(i.position.getValue(s._viewer.clock.currentTime),new re.HeadingPitchRoll(re.Math.toRadians(r.heading),re.Math.toRadians(r.pitch),re.Math.toRadians(r.roll)))}),o.add(r,"pitch",0,360,1).name("\u822A\u5411").onChange(function(l){r.pitch=l,i.orientation=re.Transforms.headingPitchRollQuaternion(i.position.getValue(s._viewer.clock.currentTime),new re.HeadingPitchRoll(re.Math.toRadians(r.heading),re.Math.toRadians(r.pitch),re.Math.toRadians(r.roll)))}),o.add(r,"roll",0,360,1).name("\u7FFB\u8F6C").onChange(function(l){r.roll=l,i.orientation=re.Transforms.headingPitchRollQuaternion(i.position.getValue(s._viewer.clock.currentTime),new re.HeadingPitchRoll(re.Math.toRadians(r.heading),re.Math.toRadians(r.pitch),re.Math.toRadians(r.roll)))}),o.open()}}};let $=null;function Ti(i,n){i&&(this._viewer=i,$=n,this._pluginLayer=new $.CustomDataSource("pluginLayer"),i&&i.dataSources.add(this._pluginLayer),this._installPlugin())}Ti.prototype={_installPlugin:function(){this._installCss3Renderer(),this._installGroundSkyBox(),this._installTerrainClipPlan()},_installTerrainClipPlan:function(){function i(n,r){this.viewer=n,this.options=r||{},this._positions=r.positions,this._height=this.options.height||0,this.bottomImg=r.bottomImg,this.wallImg=r.wallImg,this.splitNum=$.defaultValue(r.splitNum,50),this._positions&&this._positions.length>0&&this.updateData(this._positions)}Object.defineProperties(i.prototype,{show:{get:function(){return this._show},set:function(n){this._show=n,this.viewer.scene.globe.clippingPlanes&&(this.viewer.scene.globe.clippingPlanes.enabled=n),this._switchExcavate(n)}},height:{get:function(){return this._height},set:function(n){this._height=n,this._updateExcavateDepth(n)}}}),i.prototype.updateData=function(n){var r=[],o=n.length-1,s=new $.Cartesian3,l=$.Cartesian3.subtract(n[0],n[1],s);l=l.x>0,this.excavateMinHeight=9999;for(var c=0;c<o;c++){var u=(c+1)%o,d=$.Cartesian3.midpoint(n[c],n[u],new $.Cartesian3),g=$.Cartographic.fromCartesian(n[c]),x=this.viewer.scene.globe.getHeight(g)||g.height;x<this.excavateMinHeight&&(this.excavateMinHeight=x);var m,v=$.Cartesian3.normalize(d,new $.Cartesian3);m=l?$.Cartesian3.subtract(n[c],d,new $.Cartesian3):$.Cartesian3.subtract(n[u],d,new $.Cartesian3),m=$.Cartesian3.normalize(m,m);var w=$.Cartesian3.cross(m,v,new $.Cartesian3);w=$.Cartesian3.normalize(w,w);var p=new $.Plane(w,0),C=$.Plane.getPointDistance(p,d);r.push(new $.ClippingPlane(w,C))}this.viewer.scene.globe.clippingPlanes=new $.ClippingPlaneCollection({planes:r,edgeWidth:1,edgeColor:$.Color.WHITE,enabled:!0}),this._prepareWell(n),this._createWell(this.wellData)},i.prototype.clear=function(){this.viewer.scene.globe.clippingPlanes&&(this.viewer.scene.globe.clippingPlanes.enabled=!1,this.viewer.scene.globe.clippingPlanes.removeAll(),this.viewer.scene.globe.clippingPlanes.isDestroyed()||this.viewer.scene.globe.clippingPlanes.destroy()),this.viewer.scene.globe.clippingPlanes=void 0,this.bottomSurface&&this.viewer.scene.primitives.remove(this.bottomSurface),this.wellWall&&this.viewer.scene.primitives.remove(this.wellWall),delete this.bottomSurface,delete this.wellWall,this.viewer.scene.render()},i.prototype._prepareWell=function(n){var r=this.splitNum,o=n.length;if(o!=0){for(var s=this.excavateMinHeight-this.height,l=[],c=[],u=[],d=0;d<o;d++){var g=d==o-1?0:d+1,x=$.Cartographic.fromCartesian(n[d]),m=$.Cartographic.fromCartesian(n[g]),v=[x.longitude,x.latitude],w=[m.longitude,m.latitude];d==0&&(u.push(new $.Cartographic(v[0],v[1])),c.push($.Cartesian3.fromRadians(v[0],v[1],s)),l.push($.Cartesian3.fromRadians(v[0],v[1],0)));for(var p=1;p<=r;p++){var C=$.Math.lerp(v[0],w[0],p/r),S=$.Math.lerp(v[1],w[1],p/r);d==o-1&&p==r||(u.push(new $.Cartographic(C,S)),c.push($.Cartesian3.fromRadians(C,S,s)),l.push($.Cartesian3.fromRadians(C,S,0)))}}this.wellData={lerp_pos:u,bottom_pos:c,no_height_top:l}}},i.prototype._createWell=function(n){if(this.viewer.terrainProvider._layers){var r=this;this._createBottomSurface(n.bottom_pos);var o=$.sampleTerrainMostDetailed(this.viewer.terrainProvider,n.lerp_pos);$.when(o,function(s){for(var l=s.length,c=[],u=0;u<l;u++){var d=$.Cartesian3.fromRadians(s[u].longitude,s[u].latitude,s[u].height);c.push(d)}r._createWellWall(n.bottom_pos,c)})}else this._createBottomSurface(n.bottom_pos),this._createWellWall(n.bottom_pos,n.no_height_top)},i.prototype._getMinHeight=function(n){let r=5e6,o=null;for(let s=0;s<n.length;s++){let l=n[s].z;l<r&&(r=l,o=this._ellipsoidToLonLat(n[s]))}return o.altitude},i.prototype._ellipsoidToLonLat=function(n){let r=this.viewer.scene.globe.ellipsoid,o=new $.Cartesian3(n.x,n.y,n.z),s=r.cartesianToCartographic(o),l=$.Math.toDegrees(s.latitude),c=$.Math.toDegrees(s.longitude),u=s.height;return{longitude:c,latitude:l,altitude:u}},i.prototype._createBottomSurface=function(n){if(n.length){let s=this._getMinHeight(n),l=[];for(let d=0;d<n.length;d++){let g=this._ellipsoidToLonLat(n[d]);l.push(g.longitude),l.push(g.latitude),l.push(s)}let c=new $.PolygonGeometry({polygonHierarchy:new $.PolygonHierarchy($.Cartesian3.fromDegreesArrayHeights(l)),perPositionHeight:!0}),u=$.PolygonGeometry.createGeometry(c);var r=new $.Material({fabric:{type:"Image",uniforms:{image:this.bottomImg}}}),o=new $.MaterialAppearance({translucent:!1,flat:!0,material:r});this.bottomSurface=new $.Primitive({geometryInstances:new $.GeometryInstance({geometry:u}),appearance:o,asynchronous:!1}),this.viewer.scene.primitives.add(this.bottomSurface)}},i.prototype._createWellWall=function(n,r){let o=this._getMinHeight(n),s=[],l=[];for(let x=0;x<r.length;x++)s.push(this._ellipsoidToLonLat(r[x]).altitude),l.push(o);let c=new $.WallGeometry({positions:r,maximumHeights:s,minimumHeights:l}),u=$.WallGeometry.createGeometry(c);var d=new $.Material({fabric:{type:"Image",uniforms:{image:this.wallImg}}}),g=new $.MaterialAppearance({translucent:!1,flat:!0,material:d});this.wellWall=new $.Primitive({geometryInstances:new $.GeometryInstance({geometry:u,attributes:{color:$.ColorGeometryInstanceAttribute.fromColor($.Color.GREY)},id:"PitWall"}),appearance:g,asynchronous:!1}),this.viewer.scene.primitives.add(this.wellWall)},i.prototype._switchExcavate=function(n){n?(this.viewer.scene.globe.material=$.Material.fromType("WaJue"),this.wellWall.show=!0,this.bottomSurface.show=!0):(this.viewer.scene.globe.material=null,this.wellWall.show=!1,this.bottomSurface.show=!1)},i.prototype._updateExcavateDepth=function(n){this.bottomSurface&&this.viewer.scene.primitives.remove(this.bottomSurface),this.wellWall&&this.viewer.scene.primitives.remove(this.wellWall);for(var r=this.wellData.lerp_pos,o=[],s=r.length,l=0;l<s;l++)o.push($.Cartesian3.fromRadians(r[l].longitude,r[l].latitude,this.excavateMinHeight-n));this.wellData.bottom_pos=o,this._createWell(this.wellData),this.viewer.scene.primitives.add(this.bottomSurface),this.viewer.scene.primitives.add(this.wellWall)},$.Scene.TerrainClipPlan=i},buildLightScanGraphics:function(i){if(this._viewer&&i){for(var n=this,r=function(u,d){for(var g=d.observer[0],x=d.observer[1],m=d.observer[2],v=[],w=0;w<u.length;w++){var p;w===u.length-1?p=new $.PolygonHierarchy($.Cartesian3.fromDegreesArrayHeights([g,x,m,u[w].x,u[w].y,0,u[0].x,u[0].y,0])):p=new $.PolygonHierarchy($.Cartesian3.fromDegreesArrayHeights([g,x,m,u[w].x,u[w].y,0,u[w+1].x,u[w+1].y,0]));var C=n._pluginLayer.entities.add({name:"\u4E09\u89D2\u5F62",polygon:{hierarchy:p,outline:!1,perPositionHeight:!0,material:d.material}});v.push(C)}return v},o=function(u,d,g){var x=u.positionList,m,v,w,p,C,S,G=0,P=0;function I(M){m=x[M+1][0]-x[M][0],v=x[M+1][1]-x[M][1],w=m/u.number,p=v/u.number,P=0}I(G),d.polygon.hierarchy=new $.CallbackProperty(function(){return Math.abs(C)>=Math.abs(m)&&Math.abs(S)>=Math.abs(v)&&(G=G+1,G===x.length-1&&(G=0),g[0]=g[0]+C,g[1]=g[1]+S,g[2]=g[2]+C,g[3]=g[3]+S,I(G)),C=P*w,S=P*p,P++,new $.PolygonHierarchy($.Cartesian3.fromDegreesArrayHeights([u.observer[0],u.observer[1],u.observer[2],g[0]+C,g[1]+S,0,g[2]+C,g[3]+S,0]))},!1)},s=n._getCirclePoints(i.circle[0],i.circle[1],i.circle[2],i.circle[3]),l=r(s,i),c=0;c<l.length;c++)c!==l.length-1?o(i,l[c],[s[c].x,s[c].y,s[c+1].x,s[c+1].y]):o(i,l[c],[s[c].x,s[c].y,s[0].x,s[0].y]);return l}},buildPathRoaming:function(i){if(this._viewer&&i&&i.paths){var n=i.paths,r=new $.SampledPositionProperty,o=this.createGraphics(),s=new $.JulianDate,l=$.JulianDate.addSeconds(s,n[n.length-1].time,new $.JulianDate),c=i.startTime||s,u=i.stopTime||l;this._viewer.clock.startTime=c.clone(),this._viewer.clock.currentTime=c.clone(),this._viewer.clock.stopTime=u.clone(),this._viewer.clock.multiplier=i.multiplier||10,this._viewer.clock.clockRange=i.clockRange||$.ClockRange.CLAMPED;for(var d=0;d<n.length;d++){var g=$.Cartesian3.fromDegrees(n[d].lon,n[d].lat,n[d].alt),x=$.JulianDate.addSeconds(c,n[d].time,new $.JulianDate);r.addSample(x,g)}o.name=i.name||"\u8DEF\u5F84\u6F2B\u6E38",o.availability=new $.TimeIntervalCollection([new $.TimeInterval({start:c,stop:u})]),o.position=r,o.orientation=new $.VelocityOrientationProperty(r);var m=[];return i.polyline&&(o.polyline={positions:new $.CallbackProperty(function(){return m},!1),width:10,material:new $.PolylineGlowMaterialProperty({glowPower:1,color:$.Color.RED}),clampToGround:!0}),i.model&&(o.model=this.getModelGraphics(i)),i.label&&(o.label=this.getLabelGraphics(i)),i.billboard&&(o.billboard=this.getBillboardGraphics(i)),this._viewer.entities.add(o)}},_installCss3Renderer:function(){if(this._viewer){let n=function(r,o){this._scratch=new $.Cartesian2,this._viewer=i,this._scene=i.scene,this._camera=i.camera,this._container=null,this._elements=r,this._isBackHide=o,this.init()};var i=this._viewer;n.prototype.init=function(){var r=document.createElement("div");r.className="ys-css3-container",document.getElementById("info-warp").appendChild(r),this._container=r,this._elements.forEach(function(s){r.insertAdjacentHTML("beforeend",s.element)});var o=this;this._scene.preRender.addEventListener(function(){for(var s=0;s<r.children.length;s++){var l=$.Cartesian3.fromDegrees(o._elements[s].position[0],o._elements[s].position[1],o._elements[s].position[2]||0),c=o._scene.cartesianToCanvasCoordinates(l,o._scratch);if($.defined(c)&&(r.children[s].style.left=parseFloat(c.x)+parseFloat(o._elements[s].offset[0])+"px",r.children[s].style.top=parseFloat(c.y)+parseFloat(o._elements[s].offset[1])+"px",o._isBackHide)){var u=o._camera.position,d=o._scene.globe.ellipsoid.cartesianToCartographic(u).height;d+=1*o._scene.globe.ellipsoid.maximumRadius,$.Cartesian3.distance(u,l)>d?r.children[s].style.display="none":r.children[s].style.display="block"}}})},n.prototype.remove=function(r){this._elements=this._elements.filter(function(o){o.id}),this._container.removeChild(document.getElementById(r))},n.prototype.append=function(r){this._elements.push(r),this._container.insertAdjacentHTML("beforeend",r.element)},n.prototype.removeEntityLayer=function(r){this._viewer.entities.removeById(r+"_1"),this._viewer.entities.removeById(r+"_2"),this._viewer.entities.removeById(r+"_3"),this.remove(r)},n.prototype.addEntityLayer=function(r){var o=r.position[0],s=r.position[1],l=this,c=.001,u=c,d=c,g=c;setTimeout(function(S){},300);var x=$.Math.toRadians(30),m=$.Math.toRadians(30),v=r.boxHeight||300,w=r.boxHeightMax||400,p=r.boxHeightDif||10,C=!0;r.boxShow?this._viewer.entities.add({id:r.id+"_1",name:"\u7ACB\u65B9\u4F53\u76D2\u5B50",position:new $.CallbackProperty(function(){return v=v+p,v>=w&&(v=w),$.Cartesian3.fromDegrees(o,s,v/2)},!1),box:{dimensions:new $.CallbackProperty(function(){return v=v+p,v>=w&&(v=w,C&&(C=!1,l.append(r,!0))),new $.Cartesian3(r.boxSide||100,r.boxSide||100,v)},!1),material:r.boxMaterial||$.Color.DEEPSKYBLUE.withAlpha(.5)}}):setTimeout(function(){l.append(r,!0)},100),r.circleShow&&(r.circleSize=r.circleSize||120,this._viewer.entities.add({id:r.id+"_2",name:"\u692D\u5706",position:$.Cartesian3.fromDegrees(o,s),ellipse:{semiMinorAxis:new $.CallbackProperty(function(){return c},!1),semiMajorAxis:new $.CallbackProperty(function(){return u},!1),material:"static/data/images/Textures/circle2.png",rotation:new $.CallbackProperty(function(){return x+=.05,x},!1),stRotation:new $.CallbackProperty(function(){return x+=.05,x},!1),zIndex:2}}),this._viewer.entities.add({id:r.id+"_3",name:"\u692D\u5706",position:$.Cartesian3.fromDegrees(o,s),ellipse:{semiMinorAxis:new $.CallbackProperty(function(){return d},!1),semiMajorAxis:new $.CallbackProperty(function(){return g},!1),material:"static/data/images/Textures/circle1.png",rotation:new $.CallbackProperty(function(){return m-=.03,m},!1),stRotation:new $.CallbackProperty(function(){return m-=.03,m},!1),zIndex:3}}))},$.Scene.Css3Renderer=n}},_installGroundSkyBox:function(){var i=$.BoxGeometry,n=$.Cartesian3,r=$.defaultValue,o=$.defined,s=$.destroyObject,l=$.DeveloperError,c=$.GeometryPipeline,u=$.Matrix3,d=$.Matrix4,g=$.Transforms,x=$.VertexFormat,m=$.BufferUsage,v=$.CubeMap,w=$.DrawCommand,p=$.loadCubeMap,C=$.RenderState,S=$.VertexArray,G=$.BlendingState,P=$.SceneMode,I=$.ShaderProgram,M=$.ShaderSource,_=`uniform samplerCube u_cubeMap;
                varying vec3 v_texCoord;
                void main()
                {
                vec4 color = textureCube(u_cubeMap, normalize(v_texCoord));
                gl_FragColor = vec4(czm_gammaCorrect(color).rgb, czm_morphTime);
                }
                `,b=`attribute vec3 position;
                varying vec3 v_texCoord;
                uniform mat3 u_rotateMatrix;
                void main()
                {
                vec3 p = czm_viewRotation * u_rotateMatrix * (czm_temeToPseudoFixed * (czm_entireFrustum.y * position));
                gl_Position = czm_projection * vec4(p, 1.0);
                v_texCoord = position.xyz;
                }
                `;o(d.getRotation)||(d.getRotation=d.getMatrix3);function A(T){this.sources=T.sources,this._sources=void 0,this.show=r(T.show,!0),this._command=new w({modelMatrix:d.clone(d.IDENTITY),owner:this}),this._cubeMap=void 0,this._attributeLocations=void 0,this._useHdr=void 0}var F=new u;A.prototype.update=function(T,Z){var W=this;if(!!this.show&&!(T.mode!==P.SCENE3D&&T.mode!==P.MORPHING)&&!!T.passes.render){var R=T.context;if(this._sources!==this.sources){this._sources=this.sources;var N=this.sources;if(!o(N.positiveX)||!o(N.negativeX)||!o(N.positiveY)||!o(N.negativeY)||!o(N.positiveZ)||!o(N.negativeZ))throw new l("this.sources is required and must have positiveX, negativeX, positiveY, negativeY, positiveZ, and negativeZ properties.");if(typeof N.positiveX!=typeof N.negativeX||typeof N.positiveX!=typeof N.positiveY||typeof N.positiveX!=typeof N.negativeY||typeof N.positiveX!=typeof N.positiveZ||typeof N.positiveX!=typeof N.negativeZ)throw new l("this.sources properties must all be the same type.");typeof N.positiveX=="string"?p(R,this._sources).then(function(D){W._cubeMap=W._cubeMap&&W._cubeMap.destroy(),W._cubeMap=D}):(this._cubeMap=this._cubeMap&&this._cubeMap.destroy(),this._cubeMap=new v({context:R,source:N}))}var B=this._command;if(B.modelMatrix=g.eastNorthUpToFixedFrame(T.camera._positionWC),!o(B.vertexArray)){B.uniformMap={u_cubeMap:function(){return W._cubeMap},u_rotateMatrix:function(){return d.getRotation(B.modelMatrix,F)}};var Y=i.createGeometry(i.fromDimensions({dimensions:new n(2,2,2),vertexFormat:x.POSITION_ONLY})),L=this._attributeLocations=c.createAttributeLocations(Y);B.vertexArray=S.fromGeometry({context:R,geometry:Y,attributeLocations:L,bufferUsage:m._DRAW}),B.renderState=C.fromCache({blending:G.ALPHA_BLEND})}if(!o(B.shaderProgram)||this._useHdr!==Z){var J=new M({defines:[Z?"HDR":""],sources:[_]});B.shaderProgram=I.fromCache({context:R,vertexShaderSource:b,fragmentShaderSource:J,attributeLocations:this._attributeLocations}),this._useHdr=Z}if(!!o(this._cubeMap))return B}},A.prototype.isDestroyed=function(){return!1},A.prototype.destroy=function(){var T=this._command;return T.vertexArray=T.vertexArray&&T.vertexArray.destroy(),T.shaderProgram=T.shaderProgram&&T.shaderProgram.destroy(),this._cubeMap=this._cubeMap&&this._cubeMap.destroy(),s(this)},$.Scene.GroundSkyBox=A}};let xe=null;function _a(i,n){i&&(xe=n,this._analysisLayer=new xe.CustomDataSource("analysisLayer"),this.$math3d=new si(i,n),this.$graphics=new oi(i,n),i&&i.dataSources.add(this._analysisLayer))}_a.prototype={createVisibilityAnalysis:function(i){i=i||{};var n=this;n.drawLineGraphics({type:"straightLine",clampToGround:!1,callback:function(r,o){var s=new Ca({positions:r,that:n});n._graphicsLayer&&n._graphicsLayer.entities.remove(o),typeof i.callback=="function"&&i.callback(s)}})},createLookAroundAnalysis:function(i){if(i=i||{},this._viewer&&i){var n=this;n.drawCircleGraphics({callback:function(r,o){n._drawLayer.entities.remove(o);let s=new wa({that:n,radius:r.radius,center:r.center});typeof i.callback=="function"&&i.callback(s)}})}},createVisualFieldAnalysis:function(i){if(i=i||{},this._viewer&&i){var n=this,r=null;n.bindHandelEvent({leftClick:function(s,l){var c=n._viewer.scene.pickPosition(s.position);if(!c)return!1;xe.defined(r)?(l.destroy(),l=null):(r=new xe.Scene.ShadowPrimitive({scene:n._viewer.scene,viewerPosition:c}),n._analysisLayer._primitives.add(r))},mouseMove:function(s){var l=n._viewer.scene.pickPosition(s.endPosition);if(!l)return!1;r&&r.setPoseByTargetPoint(l)}})}},createClipPlanAnalysis:function(i){if(i=i||{},this._viewer&&i){var n=this,r=i.height||30,o=i.splitNum||50,s=i.wallImg||"static/data/images/file/excavate_side_min.jpg",l=i.bottomImg||"static/data/images/file/excavate_bottom_min.jpg";n.drawPolygonGraphics({callback:function(c,u){n._drawLayer.entities.remove(u);let d=new xe.Scene.TerrainClipPlan(n._viewer,{height:r,splitNum:o,wallImg:s,bottomImg:l});const g=n.transformWGS84ArrayToCartesianArray(c);d.updateData(g),typeof i.callback=="function"&&i.callback(d)}})}},createSubmergedAnalysis:function(i){if(i=i||{},this._viewer&&i){var n=this,r=i.maxH||15,o=i.speed||1,s=i.interval||10;n.drawPolygonGraphics({height:1,callback:function(l,c){if(!n._viewer.scene.globe.depthTestAgainstTerrain)return alert("\u8BF7\u5F00\u542F\u6DF1\u5EA6\u68C0\u6D4B"),!1;c&&setTimeout(()=>{c.polygon.heightReference="CLAMP_TO_GROUND",c.polygon.material="static/data/images/file/water.png";var u=0;c.polygon.extrudedHeight=u;var d=setInterval(function(){u=u+o,u>=r&&(u=r,clearTimeout(d)),c.polygon.extrudedHeight=u},s)},2e3)}})}},createSlopeAnalysis:function(i){if(i=i||{},!ji)return alert("\u9700\u8981\u5F15\u5165echarts\u5E93"),!1;var n=this;this._viewer&&i&&n.drawLineGraphics({type:"straightLine",clampToGround:!1,callback:function(r,o){var s=new Vo({positions:r,that:n});n._graphicsLayer&&n._graphicsLayer.entities.remove(o),typeof i.callback=="function"&&i.callback(s)}})},createCutVolumeAnalysis:function(i){if(i=i||{},this._viewer&&i){var n=this;n.drawWallGraphics({callback:function(r){var o=new Ro({positions:n.transformWGS84ArrayToCartesianArray(r,100),that:n});typeof i.callback=="function"&&i.callback(o)}})}}};function Ca(i){if(i&&i.positions){let g=function(){for(let C=0;C<d.length;++C){var m=d[C].object;if(m){if(m instanceof xe.Cesium3DTileFeature)l.push(m),m.oldColor=m.color.clone(),m.color=xe.Color.fromAlpha(xe.Color.YELLOW,m.color.alpha);else if(m.id instanceof xe.Entity){var v=m.id,w=v.polygon||v.polyline;l.push(v);var p=w.material.color.getValue();w.oldColor=p.clone(),w.material=xe.Color.fromAlpha(xe.Color.YELLOW,p.alpha)}}o.push(r._analysisLayer.entities.add({position:d[C].position,ellipsoid:{radii:new xe.Cartesian3(.8,.8,.8),material:xe.Color.RED}}))}},x=function(){for(let W=d.length-1;W>=0;W--){const R=d[W];xe.defined(R.position)||d.splice(W,1)}if(!xe.defined(d[0].position))throw new xe.DeveloperError("position is undefined");var m=d[0].position,v=xe.Cartesian3.distance(m,u),w=v<5,p=[c,d[0].position],C=r._analysisLayer.entities.add({polyline:{positions:p,width:10,arcType:xe.ArcType.NONE,material:new xe.PolylineArrowMaterialProperty(xe.Color.GREEN)}});if(s.push(C),!w){var S=[d[0].position,u],G=r._analysisLayer.entities.add({polyline:{positions:S,width:10,arcType:xe.ArcType.NONE,material:new xe.PolylineArrowMaterialProperty(xe.Color.RED)}});s.push(G)}g();var P=xe.Cartographic.fromCartesian(c),I=xe.Cartographic.fromCartesian(u),M={longitude:P.longitude/Math.PI*180,latitude:P.latitude/Math.PI*180,height:P.height},_={longitude:I.longitude/Math.PI*180,latitude:I.latitude/Math.PI*180,height:I.height},b=Math.sqrt(Math.pow(c.x-u.x,2)+Math.pow(c.y-u.y,2)+Math.pow(c.z-u.z,2)),A=Math.abs(_.height-M.height),F=Math.sqrt(Math.pow(b,2)+Math.pow(A,2)),T=w?"\u662F":"\u5426",Z="\u8D77\u70B9\u5750\u6807: "+("   ("+M.longitude.toFixed(6))+"\xB0,"+M.latitude.toFixed(6)+"\xB0,"+M.height.toFixed(2)+`)
\u7EC8\u70B9\u5750\u6807: `+("   ("+_.longitude.toFixed(6))+"\xB0,"+_.latitude.toFixed(6)+"\xB0,"+_.height.toFixed(2)+`)
\u5782\u76F4\u8DDD\u79BB:    `+A.toFixed(2)+`m
\u6C34\u5E73\u8DDD\u79BB:    `+b.toFixed(2)+`m
\u7A7A\u95F4\u8DDD\u79BB:    `+F.toFixed(2)+`m
\u662F\u5426\u53EF\u89C6:    `+T;o&&o[0]&&(o[0].label={text:Z,showBackground:!0,font:"14px monospace",fillColor:xe.Color.YELLOW,pixelOffset:{x:0,y:-20},verticalOrigin:xe.VerticalOrigin.BOTTOM,horizontalOrigin:xe.HorizontalOrigin.LEFT})};var n=i.positions,r=i.that,o=[],s=[],l=[],c=r.transformWGS84ToCartesian(n[0]),u=r.transformWGS84ToCartesian(n[1]);o=r.$graphics.createPointsGraphics({point:!0,positions:[c,u]});var d=r.$math3d.getIntersectObj(c,u,o,!0);if(d.length===0)return alert("\u6CA1\u6709\u53D6\u5230\u76F8\u4EA4\u70B9 , \u8BF7\u68C0\u67E5\u662F\u5426\u5F00\u542F\u6DF1\u5EA6\u68C0\u6D4B\u3002"),!1;x()}Ca.prototype.remove=function(){}}function wa(i){if(!i&&!i.center&&!i.radius&&i.that)return alert("\u6CA1\u6709\u83B7\u53D6\u5230\u5206\u6790\u53C2\u6570"),!1;var n=i.that,r=this;if(!n._viewer.scene.globe.depthTestAgainstTerrain)return alert("\u8BF7\u5F00\u542F\u6DF1\u5EA6\u68C0\u6D4B"),!1;var o=i.viewHeight||10,s=xe.Cartographic.fromCartesian(i.center);try{var l=i.radius,c={};c.semiMinorAxis=l,c.semiMajorAxis=l,c.rotation=0,c.center=i.center,c.granularity=Math.PI/45;let u=n.computeEllipseEdgePositions(c);for(let d=0;d<u.outerPositions.length;d+=3){let g=new xe.Cartesian3(u.outerPositions[d],u.outerPositions[d+1],u.outerPositions[d+2]),x=xe.Cartographic.fromCartesian(g),m=5e-5*Math.PI/180,v=n.computeInterpolateLineCartographic(s,x,m);n.computeCartographicPointsTerrainData(v,function(w){if(w.length>0){let p=!0,C=[],S=[];for(let G=1;G<w.length;G++){let P=!0;if(G>1){let M=new xe.Cartographic(w[0].longitude,w[0].latitude,w[0].height+o);if(p)n.computeInterpolateIndexLineHeightCartographic(M,w[G],G,G-1).height>=w[G-1].height?(p=!0,P=!0):(p=!1,P=!1);else{let _=n.computeInterpolateIndexLineHeightCartographic(M,w[G],G,G-1);for(let b=0;b<_.length;b++)if(_[b].height>=w[b].height)p=!0,P=!0;else{p=!1,P=!1;break}}}let I=xe.Cartesian3.fromRadians(w[G].longitude,w[G].latitude,w[G].height+1);C.push(I),P?(S.push(0),S.push(0),S.push(1),S.push(1)):(S.push(1),S.push(0),S.push(0),S.push(1))}r._pointsKSYResult=new xe.Scene.PointsPrimitive({viewer:n._viewer,Cartesians:C,Colors:S})}else alert("\u9AD8\u7A0B\u5F02\u5E38\uFF01")})}}catch(u){console.log(u)}wa.prototype.remove=function(){}}function Vo(i){if(i&&i.positions){let l=function(c,u){for(var d=xe.Cartographic.fromCartesian(c),g=[d],x=10,m=new xe.Cartesian3,v=[0],w=[0],p=0,C=1;C<=x;C++){xe.Cartesian3.lerp(c,u,C/x,m);var S=xe.Cartographic.fromCartesian(m),G=r._viewer.scene.globe.getHeight(S);S.height=G,g.push(S);var P=g[C-1],I=xe.Cartesian3.distance(xe.Cartographic.toCartesian(P),xe.Cartographic.toCartesian(S));w.push(w[C-1]+I),p=Math.asin((S.height-P.height)/I),v.push(Math.tan(p)*100)}var M=document.createElement("div");M.className="echart-viewer",r._viewer.container.appendChild(M,"dark",{renderer:"canvas",width:640,height:480}),M.style.position="absolute",M.style.left="20px",M.style.bottom="20px",M.style.height="300px",M.style.width="640px",M.style.overflow="hidden",M.style.zIndex="9999",M.style.opacity=.9;var _=ji.init(M),b={title:{text:"\u5256\u9762\u793A\u610F\u56FE",left:"center",subtext:"",textStyle:{color:"white",fontSize:15}},tooltip:{trigger:"axis"},legend:{data:[""]},toolbox:{show:!1,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,xAxis:[{type:"category",name:"\u957F\u5EA6(\u7C73)",boundaryGap:!1,data:w,axisLabel:{textStyle:{color:"white"}},axisLine:{lineStyle:{color:"white"}}}],yAxis:[{type:"value",name:"\u5761\u5EA6\uFF08%\uFF09",axisLabel:{formatter:function(A){return A.toFixed(2)+"%"},textStyle:{color:"white"}},axisLine:{lineStyle:{color:"white"}}}],series:[{name:"\u5761\u5EA6",type:"line",areaStyle:{},smooth:!0,data:v,markPoint:{data:[{type:"max",name:"\u6700\u5927\u503C"},{type:"min",name:"\u6700\u5C0F\u503C"}]},markLine:{data:[{type:"average",name:"\u5E73\u5747\u503C"}]}}]};return _.setOption(b),_};var n=i.positions,r=i.that,o=r.transformWGS84ToCartesian(n[0]),s=r.transformWGS84ToCartesian(n[1]);l(o,s)}}function Ro(i){if(i&&i.positions&&i.that){var n=i.that,r=i.positions,o=!0,s=this;u()}function l(d){for(var g=[],x=[],m=0;m<d.length;m++){var v=xe.Cartographic.fromCartesian(d[m]);g.push(v.longitude),x.push(v.latitude)}var w=0,p=0,C=0,S=0,G=0,P=0,I=0,M=0;for(m=0;m<d.length;m++)w=g[m],p=x[m],m==d.length-1?(C=g[0],S=x[0]):(C=g[m+1],S=x[m+1]),P=w*S-C*p,G+=P,I+=(w+C)*P,M+=(p+S)*P;return G*=.5,I/=6*G,M/=6*G,new xe.Cartographic(I,M)}function c(d,g,x){var m=xe.Cartesian3.distance(d,g),v=xe.Cartesian3.distance(g,x),w=xe.Cartesian3.distance(x,d),p=(m+v+w)/2;return Math.sqrt(p*(p-m)*(p-v)*(p-w))}function u(){var d=n._viewer.terrainProvider.availability;if(!d)return alert("\u672A\u83B7\u53D6\u5230\u5730\u5F62"),!1;for(var g=15e3,x=0;x<r.length;x++){var B=xe.Cartographic.fromCartesian(r[x]),m=n._viewer.scene.globe.getHeight(B);g>m&&(g=m),d.computeMaximumLevelAtPosition(B)}var v=Math.PI/Math.pow(2,11);v=v/64;var w=new xe.PolygonGeometry.fromPositions({positions:r,vertexFormat:xe.PerInstanceColorAppearance.FLAT_VERTEX_FORMAT,granularity:v}),p=new xe.PolygonGeometry.createGeometry(w),C=0,S=0,G,P,I,M,_,b,A,F,T,Z,W,R,N=new xe.Cartesian3,B,Y,L;for(x=0;x<p.indices.length;x+=3)if(G=p.indices[x],P=p.indices[x+1],I=p.indices[x+2],L=p.attributes.position.values,N.x=L[G*3],N.y=L[G*3+1],N.z=L[G*3+2],B=xe.Cartographic.fromCartesian(N),M=n._viewer.scene.globe.getHeight(B),A=xe.Cartesian3.fromRadians(B.longitude,B.latitude,M),Z=xe.Cartesian3.fromRadians(B.longitude,B.latitude,0),S<M&&(S=M),N.x=L[P*3],N.y=L[P*3+1],N.z=L[P*3+2],B=xe.Cartographic.fromCartesian(N),_=n._viewer.scene.globe.getHeight(B),F=xe.Cartesian3.fromRadians(B.longitude,B.latitude,_),W=xe.Cartesian3.fromRadians(B.longitude,B.latitude,0),S<_&&(S=_),N.x=L[I*3],N.y=L[I*3+1],N.z=L[I*3+2],B=xe.Cartographic.fromCartesian(N),b=n._viewer.scene.globe.getHeight(B),T=xe.Cartesian3.fromRadians(B.longitude,B.latitude,b),R=xe.Cartesian3.fromRadians(B.longitude,B.latitude,0),S<b&&(S=b),Y=c(Z,W,R),C=C+Y*(M-g+_-g+b-g)/3,o){var J=[];J.push(A),J.push(F),J.push(T);var D={polygon:{hierarchy:{positions:J},extrudedHeight:0,perPositionHeight:!0,material:xe.Color.fromRandom().withAlpha(.5),outline:!0,closeTop:!0,closeBottom:!0,outlineColor:xe.Color.WHITE,outlineWidth:2}};n._analysisLayer.entities.add(D)}var U=l(r);return s._volumeLabel=n._analysisLayer.entities.add({position:xe.Cartesian3.fromRadians(U.longitude,U.latitude,S+1e3),label:{text:"Cut Volume "+C.toString()+"m3"}}),S}}const Do=function(i,n){function r(o,s){var l=null;Array.isArray(o)?(o.forEach(u=>{c(u)}),l=new s(i,n),o.forEach(u=>{u.call(l,i,n)})):(c(o),l=new s(i,n),o.call(l,i,n));function c(u){for(var d=Object.keys(u.prototype),g,x,g=0,x=d.length;g<x;g++)s.prototype[d[g]]=u.prototype[d[g]]}return l}return r};function we(i,n,r,o=[]){const l=new To(i).init(n,r,o),c=Do(l,i),u=c([rt,Pi],pa),d=c(rt,oi),g=c(rt,si),x=c(rt,Mi),m=c([rt,si,fa],Gi),v=c([rt,Pi],xa),w=c(rt,ya),p=c(rt,ba),C=c(rt,Ti),S=new rt(l,i),G=c([rt,Gi,Ti],_a);return{viewer:l,material:u,graphics:d,math3d:g,primitive:x,draw:m,passEffect:v,customCesiumPlugin:w,control:p,plugin:C,base:S,analysis:G}}const Fo={mounted(){this.initMap()},methods:{initMap(){const i=[{id:3,name:"\u9AD8\u5FB7\u5730\u56FE02",type:"UrlTemplateImageryProvider",classConfig:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"},interfaceConfig:{},offset:"0,0",invertswitch:0,filterRGB:"#ffffff",showswitch:1,weigh:13,createtime:1624346908,updatetime:1647395260},{id:14,name:"\u9AD8\u5FB7\u5730\u56FE01",type:"UrlTemplateImageryProvider",classConfig:{url:"http://webst03.is.autonavi.com/appmaptile?x={x}&y={y}&z={z}&style=7"},interfaceConfig:{saturation:0,brightness:.6,contrast:1.8,hue:1,gamma:.3},offset:"0,0",invertswitch:1,filterRGB:"#4e70a6",showswitch:1,weigh:0,createtime:1624326728,updatetime:1646979297}],{viewer:n,material:r,graphics:o,sceneMang:s}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0,initNavigate:!0,depthTest:!0},i);this.c_viewer=n,this.material=r,this.graphics=o,n.scene.screenSpaceCameraController.maximumZoomDistance=999999999,n.dataSources.add(Cesium.CzmlDataSource.load("static/data/file/beidou.czml")),n.scene.skyBox=this.graphics.setOneSkyBox(),n.scene.globe.enableLighting=!0;let l=new Cesium.GridImageryProvider,c=n.imageryLayers.addImageryProvider(l);n.imageryLayers.raiseToTop(c);let u=Date.now();function d(){let g=.1,x=Date.now(),m=(x-u)/1e3;u=x,n.scene.camera.rotate(Cesium.Cartesian3.UNIT_Z,-g*m)}n.clock.onTick.addEventListener(d),setTimeout(()=>{n.delegate.clock.onTick.removeEventListener(d)},2e6)}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},Zo=fe("data-v-7300714e");ye("data-v-7300714e");const Bo={id:"cesiumContainer",class:"map3d-contaner"};be();const ko=Zo((i,n,r,o,s,l)=>(z(),H("div",Bo)));var Ia=le(Fo,[["render",ko],["__scopeId","data-v-7300714e"]]),Eo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ia});const No=$e({name:"App",components:{exampleCzm:Ia}});function Lo(i,n,r,o,s,l){const c=K("example-czm");return z(),H("div",null,[y(c)])}var Xo=le(No,[["render",Lo]]),Aa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xo}),Wi="./assets/logo.dcf5e03c.png";const zo=$e({name:"login",setup(i,n){let r=je({loading:!1,redirect:void 0});const o=je({username:"admin",password:"123456",codeUrl:"",code:"",uuid:"",rememberMe:!1}),s=ai(),l=Qe();mt(()=>{c()});const c=()=>{o.codeUrl="data:image/gif;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAA8AKADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDtrW1ga1hZoIySikkoOeKsCztv+feL/vgU2z/484P+ua/yqyKiMY8q0IjGPKtCIWdr/wA+0P8A3wKeLK1/59of+/YqUUpZVGWIA9TT5I9h8sexGLK0/wCfWH/v2KcLG0/59YP+/Ypl1f2tjbme6uI4Yh1d2wKntriK6gSeF1eNwGVlPBFV7PTmtoHLHsILCz/59YP+/YpwsLP/AJ9IP+/YqYU8VPLHsHLHsQjT7L/n0t/+/Y/wpw06y/587f8A79L/AIVNkCsvVfE+kaHLDFqF7HDJMcIh5JHrj096uFF1JcsI3fkgcYroaI06x/587f8A79L/AIU4abY/8+Vv/wB+l/wqZGVwCpBB6EVIKjkj2Dlj2K40yw/58rb/AL9L/hTxplh/z423/fpf8KsCnZA60csewcsexXGl6f8A8+Nt/wB+V/wp40rT/wDnwtf+/K/4Vzt58RfDlhr6aNNe/wCkltjOq5jjbsrN6/y74rrEYMMg5rWphp0knUhZPVXW/oCUXsVxpWnf8+Fr/wB+V/wpw0nTv+gfa/8Aflf8KtCnisuWPYOWPYqjSdN/6B9p/wB+V/wqtqel6fHpF66WNqrrA5VhCoIO08jitYVV1b/kC3//AF7yf+gmlKMeV6ClGPK9DkrP/jzg/wCua/yqyKr2f/HnB/1zX+VWRTj8KHH4UBOBmvLvitrVzFDaWNvK8aSEs5U4zjtXqEg+Q15L8SbF7mJZlBLQMT+B6/0/KvWyWpTp4+lKrtf89F+Iqibg7HIPpeo31vAZdQMiHGBI5IQHvzXs/glDY6Db2huPPWMfK/tXhtjHcasBbNP5cUa8+/pxXY+A/ET6NqM2h30h2M2IGPZvT6Hgj/69e/m9HFV6M6U6kXKm+ZwS6d797PVeeplTcU723Ou+KWoyQeFwsFw0M32hGBR9rcenf0rf8F6zJqnhbT7m4lMs7RYkc9WYHBJ/KvINa0jVNSuri81m+8yfJWEKBtCg8HA4APXHX15qloGr+IjA2gabciBGJ3MflaME/N83UDPpzzXLDL6FfA+ypVYuUJc0nskmraPra39aD52pXa3PR/iZJrDW8NxpV5JGsOfMjjJDH3Hr9K8n1O0l8q3uri6kuLy5OWDckDtz3r2Sz0V49BtbIzm4MEYTzCuMgdOP0rhte8KSSXzTCZkYLhB6HPWpyjOI4WcaMmlBN+9bVron1tfXv0HUp8yuen+E9ZW38JWk2pzpD5MAEkkrbQMcck1mW3xk0CbWzZNFPHaE7UvWHyk+pXqF9/zA7cf4f1mHXNCuvD+q7luANjjOC4Bzke4I5rAuNfsiG0240NIdMVjGpC4kjYcbs/3vXn8T3VDLIutVhXpuUr/ZaSSeqcb/ABPsv1Bz0TTPervxjolnc2Vqb6KWe9kWOGOFg5OejHHQe/5VwPxL8UeJdPvFttN3R2MyhRNGuTu7gnsa4PT7vRPDs63dmh1XUCf9HR1+WI9jju3+eK9VgU67psF8isolQMUYcqe6n3ByPwrnqUaeXVIV403OGvxq135LdW893cabmmr2PPptA0q18OyRXSr9ukXc105+bzOuB7Z4ruPhN41l1azOkXrF7m1jykhPLICAM+4yBXnPxDguYNUhTa32dY+CBxuzz+PStr4TWclvqU16w5dQi/TOT/SvSrwjUyeWIxNTmlJ3j5O9ml8t10IWlS0UfQanIqQVBbEmJc+lWBXx50DhVXVv+QJf/wDXtJ/6Catiqur/APIEv/8Ar2k/9BNTL4WTL4WclZ/8eUH/AFzX+VWRVey/48oP+ua/yqyKI/Cgj8KFIyK5XxNpX2mFiFzxXWCo57dZkKkVRR883ejX+mX7y2S5VuoPb86xb57r7V5lyCsvZhx+Ve86l4bWYsVXrXKXXg0yTYkj3LnOCK+kwPEU6NSMq1NS0s3b3mvXr92pjKimtGXNLsX1jQLa5lH714gW9z61zp8LXsPia2u7NlRd/wC93enfjvkV6loWm/Z7NIiuFUYAq8dIjM2/bXi08XOjUnOlopXVuln0NHG61IrSAJYbWyMrjI6ivI9ds/FNnq9zOl6txEeFJI+6Og2np+Fe4/ZB5Owelcvq/h1rjcQOtVg8ZLCttRjK+lpK4SjzHgjXdwdZjuNpjuhIMgcfNmvUrrRTfW7B4w6OOVI60yPwZ/xM0neEF0bIbFelaZpaC2VXXtXbmmaQxqpOnDlcFb/hvJdCYQ5b3PMfD/hGLTr3zoYW8wnhn5Kj0HpXqenWRFthl5I5q5FpkKNkKK0EiCrgCvLrVqlaXPVk5Pu9S0ktEeV+OPD893BIbc4lHKgjhj6H2NY/wv1bT5NSOkNDJbXagsEkOQSPvKO/HXB9/SvWNWsfPiOBzXM6R4dtbLW31BLKJbp+Gl28/wD1v61vRr0lQnSqxbvqmns/Puvy6bsTTvdHoMIAQYqYVBb58sZqwK4yhwqrq/8AyBL/AP69pP8A0E1bFVdX/wCQJf8A/XtJ/wCgmpl8LJl8LOSsv+PK3/65r/KrIrmYtauYokjVIiEUKMg9vxqT+37r/nnD/wB8n/Gso1o2RnGrGyOlFOArmf8AhIbv/nnB/wB8n/Gl/wCEiu/+ecH/AHyf8ar20R+2idPsB6imG1jY5Kiuc/4SS8/55Qf98n/Gl/4SW8/55Qf98n/Gj20Q9tE6iOJUHAqYAVyX/CT3v/PK3/75b/Gl/wCEovf+eVv/AN8t/jR7aIe2ideBQY1bqK5H/hKr7/nlb/8AfLf40v8Awld9/wA8rb/vlv8AGj20Q9tE6oWce7O0VZjQIMAVxv8Awlt//wA8bb/vlv8AGl/4S/UP+eNt/wB8t/8AFUe2iHtonbCniuH/AOEw1D/nja/98t/8VS/8JlqP/PG1/wC+W/8AiqPbRD20TuCgYcimLaoGzgVxf/CZ6j/zxtf++G/+Kpf+E11L/nhaf98N/wDFUe2iHtoneKuBUgrgP+E21L/nhaf98N/8VS/8Jxqf/PC0/wC+G/8AiqPbRD20T0EVV1f/AJAeof8AXtJ/6Ca4r/hOdT/54Wn/AHw3/wAVUdz4z1G6tZrd4bUJKjIxVWyARjj5qmVaNmKVWNmf/9k=",o.uuid="324434433443"},u=je({username:[{required:!0,trigger:"blur",message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A"}],password:[{required:!0,trigger:"blur",message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],code:[{required:!0,trigger:"change",message:"\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A"}]}),d=async()=>{const x=pt(l);if(!!x)try{await x.validate(m=>{m&&g()})}catch(m){console.log(m)}};let g=()=>{r.loading=!0,Dt.dispatch("Login",o).then(m=>{console.log(m),r.loading=!1,s.push({path:"/home",query:{num:1}})}).catch(m=>{console.log(m),r.loading=!1})};return{loginFormRef:l,loginForm:o,loginRules:u,submitForm:d,custRef:r}}}),bt=fe("data-v-f62dccf6");ye("data-v-f62dccf6");const Ho={class:"login"},Uo=y("div",{class:"login_logo"},[y("img",{src:Wi,alt:""}),y("span",null,"Cesium development kit")],-1),$o={class:"login-container"},Yo=y("h3",{class:"title"},"cesium_kit",-1),Oo={class:"login-code"},jo=he("\u8BB0\u4F4F\u5BC6\u7801"),Qo={key:0},Jo={key:1},Ko=y("div",{class:"el-login-footer"},[y("span",null,[he("Copyright \xA9 2019-2021 "),y("a",{href:"#"},"bigdata.com"),he(" All Rights Reserved.")])],-1);be();const qo=bt((i,n,r,o,s,l)=>{const c=K("el-input"),u=K("el-form-item"),d=K("el-checkbox"),g=K("el-button"),x=K("el-form");return z(),H("div",Ho,[Uo,y("div",$o,[y(x,{model:i.loginForm,rules:i.loginRules,class:"login-form",ref:"loginFormRef"},{default:bt(()=>[Yo,y(u,{prop:"username"},{default:bt(()=>[y(c,{modelValue:i.loginForm.username,"onUpdate:modelValue":n[1]||(n[1]=m=>i.loginForm.username=m),type:"text","auto-complete":"off",placeholder:"\u8D26\u53F7","prefix-icon":"el-icon-user"},null,8,["modelValue"])]),_:1}),y(u,{prop:"password"},{default:bt(()=>[y(c,{modelValue:i.loginForm.password,"onUpdate:modelValue":n[2]||(n[2]=m=>i.loginForm.password=m),type:"password","auto-complete":"new-password",placeholder:"\u5BC6\u7801",onKeyup:Qi(i.submitForm,["enter"]),"prefix-icon":"el-icon-goods"},null,8,["modelValue","onKeyup"])]),_:1}),y(u,{prop:"code"},{default:bt(()=>[y(c,{modelValue:i.loginForm.code,"onUpdate:modelValue":n[3]||(n[3]=m=>i.loginForm.code=m),"auto-complete":"off",placeholder:"\u9A8C\u8BC1\u7801",style:{width:"63%"},onKeyup:Qi(i.submitForm,["enter"]),"prefix-icon":"el-icon-circle-check"},null,8,["modelValue","onKeyup"]),y("div",Oo,[y("img",{src:i.loginForm.codeUrl,onClick:n[4]||(n[4]=(...m)=>i.getCode&&i.getCode(...m)),class:"login-code-img"},null,8,["src"])])]),_:1}),y(d,{modelValue:i.loginForm.rememberMe,"onUpdate:modelValue":n[5]||(n[5]=m=>i.loginForm.rememberMe=m),style:{margin:"0px 0px 25px 0px"}},{default:bt(()=>[jo]),_:1},8,["modelValue"]),y(u,{style:{width:"100%"}},{default:bt(()=>[y(g,{loading:i.custRef.loading,size:"medium",type:"primary",style:{width:"100%"},onClick:Rt(i.submitForm,["prevent"])},{default:bt(()=>[i.custRef.loading?(z(),H("span",Jo,"\u767B \u5F55 \u4E2D...")):(z(),H("span",Qo,"\u767B \u5F55"))]),_:1},8,["loading","onClick"])]),_:1})]),_:1},8,["model","rules"]),Ko])])});var es=le(zo,[["render",qo],["__scopeId","data-v-f62dccf6"]]),Sa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:es});const ts=$e({setup(){const i=je([{id:67,nodeName:"\u6D41\u7A0B001",processId:76,processingFlow:"",returnProcess:null,timeType:"0",timeRestrict:2,handleStatus:"1",taskName:"\u672A\u6574\u6539",eventStatus:"0",handleStatusCode:"handel_event",eventStatusCode:"handel_task",isNode:null,nodePaName:"",nodePid:null,operationType:"0",isFinal:null,sort:0,handleGroupId:175,copyGroupId:176,handleGroupInfo:{id:175,handleId:"113",handleUsername:"test123",implementId:"",groupType:null,groupId:"",implementUserName:"",groupName:"",sign:null},handleClassification:"0",handleCont:"\u4E0A\u7EA7\u5BA1\u6838",handleContCode:"handle_state",copyGroupInfo:{id:176,handleId:"",handleUsername:"",implementId:"",groupType:0,groupId:"3",implementUserName:"",groupName:"\u4EA7\u54C1\u5206\u6790",sign:null}},{id:68,nodeName:"\u6D41\u7A0B002",processId:76,processingFlow:"",returnProcess:null,timeType:"0",timeRestrict:2,handleStatus:"0",taskName:"\u5BA1\u6838\u901A\u8FC7",eventStatus:"0",handleStatusCode:"examine_event",eventStatusCode:"examine_task",isNode:null,nodePaName:"",nodePid:null,operationType:"1",isFinal:null,sort:1,handleGroupId:177,copyGroupId:178,handleGroupInfo:{id:177,handleId:"",handleUsername:"",implementId:"",groupType:1,groupId:"103",implementUserName:"",groupName:"\u5F00\u53D1\u4EBA\u5458",sign:null},handleClassification:"1",handleCont:"\u4E0B\u7EA7\u5904\u7406",handleContCode:"examine",copyGroupInfo:{id:178,handleId:"",handleUsername:"",implementId:"",groupType:0,groupId:"1",implementUserName:"",groupName:"\u4EA7\u54C1\u5206\u6790",sign:null}},{id:69,nodeName:"\u6D41\u7A0B003",processId:76,processingFlow:"",returnProcess:null,timeType:"0",timeRestrict:2,handleStatus:"1",taskName:"\u901A\u8FC7",eventStatus:"0",handleStatusCode:"review_event",eventStatusCode:"check_task",isNode:null,nodePaName:"",nodePid:null,operationType:"2",isFinal:null,sort:2,handleGroupId:179,copyGroupId:180,handleGroupInfo:{id:179,handleId:"107",handleUsername:"\u5904\u7406\u4EBA\u5458",implementId:"",groupType:null,groupId:"",implementUserName:"",groupName:"",sign:null},handleClassification:"1",handleCont:"\u5DF2\u89E3\u51B3",handleContCode:"review_state",copyGroupInfo:{id:180,handleId:"100",handleUsername:"\u529E\u4E8B\u5458",implementId:"",groupType:null,groupId:"",implementUserName:"",groupName:"",sign:null}},{id:70,nodeName:"\u6D41\u7A0B004",processId:76,processingFlow:"",returnProcess:null,timeType:"0",timeRestrict:2,handleStatus:"2",taskName:"\u5F85\u590D\u67E5",eventStatus:"0",handleStatusCode:"check_event",eventStatusCode:"review_task",isNode:null,nodePaName:"",nodePid:null,operationType:"3",isFinal:null,sort:3,handleGroupId:181,copyGroupId:182,handleGroupInfo:{id:181,handleId:"",handleUsername:"",implementId:"1",groupType:null,groupId:"",implementUserName:"\u672C\u7EA7",groupName:"",sign:null},handleClassification:"1",handleCont:"\u9A73\u56DE",handleContCode:"check_state",copyGroupInfo:{id:182,handleId:"",handleUsername:"",implementId:"",groupType:1,groupId:"105",implementUserName:"",groupName:"test123",sign:null}},{id:71,nodeName:"\u6D41\u7A0B005",processId:76,processingFlow:"",returnProcess:null,timeType:"",timeRestrict:null,handleStatus:"1",taskName:"\u5BA1\u6838\u4E0D\u901A\u8FC7",eventStatus:"0",handleStatusCode:"examine_event",eventStatusCode:"examine_task",isNode:null,nodePaName:"",nodePid:null,operationType:"1",isFinal:null,sort:4,handleGroupId:183,copyGroupId:184,handleGroupInfo:{id:183,handleId:"",handleUsername:"",implementId:"",groupType:1,groupId:"103",implementUserName:"",groupName:"\u5F00\u53D1\u4EBA\u5458",sign:null},handleClassification:"1",handleCont:"\u4E0B\u7EA7\u5904\u7406",handleContCode:"examine",copyGroupInfo:{id:184,handleId:"",handleUsername:"",implementId:"0",groupType:0,groupId:"2",implementUserName:"\u4E0A\u7EA7\u529E\u4E8B\u5458",groupName:"\u7F8E\u5DE5\u8BBE\u8BA1",sign:null}},{id:72,nodeName:"\u6D41\u7A0B007",processId:76,processingFlow:"",returnProcess:null,timeType:"",timeRestrict:null,handleStatus:"1",taskName:"\u5BA1\u6838\u4E0D\u901A\u8FC7",eventStatus:"0",handleStatusCode:"examine_event",eventStatusCode:"examine_task",isNode:null,nodePaName:"",nodePid:null,operationType:"1",isFinal:null,sort:5,handleGroupId:185,copyGroupId:186,handleGroupInfo:{id:185,handleId:"107",handleUsername:"\u5904\u7406\u4EBA\u5458",implementId:"",groupType:null,groupId:"",implementUserName:"",groupName:"",sign:null},handleClassification:"1",handleCont:"\u4E0B\u7EA7\u5904\u7406",handleContCode:"examine",copyGroupInfo:{id:186,handleId:"101",handleUsername:"axianlu",implementId:"",groupType:null,groupId:"",implementUserName:"",groupName:"",sign:null}},{id:73,nodeName:"\u6D41\u7A0B008",processId:76,processingFlow:"",returnProcess:null,timeType:"",timeRestrict:null,handleStatus:"0",taskName:"\u5BA1\u6838\u901A\u8FC7",eventStatus:"0",handleStatusCode:"examine_event",eventStatusCode:"examine_task",isNode:null,nodePaName:"",nodePid:null,operationType:"1",isFinal:null,sort:6,handleGroupId:187,copyGroupId:188,handleGroupInfo:{id:187,handleId:"",handleUsername:"",implementId:"1",groupType:0,groupId:"3",implementUserName:"\u672C\u7EA7",groupName:"\u4EA7\u54C1\u5206\u6790",sign:null},handleClassification:"0",handleCont:"\u4E0A\u7EA7\u590D\u67E5",handleContCode:"examine",copyGroupInfo:{id:188,handleId:"107",handleUsername:"\u5904\u7406\u4EBA\u5458",implementId:"",groupType:null,groupId:"",implementUserName:"",groupName:"",sign:null}},{id:74,nodeName:"\u6D41\u7A0B009",processId:76,processingFlow:"",returnProcess:null,timeType:"",timeRestrict:null,handleStatus:"0",taskName:"\u5F85\u5904\u7406",eventStatus:"3",handleStatusCode:"handel_task",eventStatusCode:"handel_event",isNode:null,nodePaName:"",nodePid:null,operationType:"0",isFinal:null,sort:null,handleGroupId:189,copyGroupId:190,handleGroupInfo:{id:189,handleId:"107",handleUsername:"\u5904\u7406\u4EBA\u5458",implementId:"",groupType:null,groupId:"",implementUserName:"",groupName:"",sign:null},handleClassification:"2",handleCont:"\u5DF2\u89E3\u51B3",handleContCode:"handle_state",copyGroupInfo:{id:190,handleId:"",handleUsername:"",implementId:"2",groupType:null,groupId:"",implementUserName:"\u4E0B\u7EA7\u529E\u4E8B\u5458",groupName:"",sign:null}}]);return{calculationProce:Ee(()=>{let c=i,u=[];for(let g=0;g<Math.ceil(c.length/3);g++){var d=[];c.length>g*3&&(d.push(c[g*3]),c.length>g*3+1&&(d.push({name:"\u6D41\u7A0B\u6807\u8BC6",type:"arrow"}),d.push(c[g*3+1]),c.length>g*3+2&&(d.push({name:"\u6D41\u7A0B\u6807\u8BC6",type:"arrow"}),d.push(c[g*3+2])))),d.length>0&&u.push({id:g,children:g%2!=0?d.reverse():d})}return u}),convertImpl:c=>"\u5904\u7406\u4EBA\u7684\uFF1A"+c.implementUserName,convertGroup:c=>c.groupType===0?"\u90E8\u95E8\uFF1A"+c.groupName:"\u89D2\u8272\uFF1A"+c.groupName,editNodeData:c=>{console.log(c)},delNodeById:(c,u)=>{ii.confirm("\u662F\u5426\u786E\u8BA4\u5220\u9664\u7F16\u53F7\u4E3A\u3010"+u+"\u3011\u7684\u6570\u636E\u9879?","\u8B66\u544A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{let d=i.findIndex(g=>g.id===c);d>-1&&i.splice(d,1),tt({type:"success",message:"\u5220\u9664\u6210\u529F"})}).catch(function(){tt({type:"success",message:"\u5220\u9664\u53D6\u6D88"})})}}}}),ht=fe("data-v-78728514");ye("data-v-78728514");const is={class:"proc-ctrl"},as={class:"card-title"},ns=y("div",{class:"exe"},"\u6267\u884C\u4EBA",-1),rs=y("div",{class:"send"},"\u6284\u9001\u4EBA",-1),os={class:"proce-status"},ss=y("span",{class:"name"},"\u4EFB\u52A1\u72B6\u6001\uFF1A",-1),ls={class:"status"},cs={key:1,class:"arrow"},hs={key:0},us=y("span",null,null,-1);be();const ds=ht((i,n,r,o,s,l)=>{const c=K("el-tag"),u=K("el-card"),d=K("el-col"),g=K("el-row");return z(),H(g,{class:"proce-content"},{default:ht(()=>[y(d,{span:24,class:"proce-tem"},{default:ht(()=>[(z(!0),H(qe,null,nt(i.calculationProce,(x,m)=>(z(),H("div",{key:m},[y("article",{class:m%2==0?"orient-right":"orient-left"},[(z(!0),H(qe,null,nt(x.children,(v,w)=>(z(),H("section",{class:v.type==="arrow"?m%2==0?"horizontal-arrow  right":"horizontal-arrow  left":"proce-card",key:m+"_"+w},[v.type!=="arrow"?(z(),H(u,{key:0,class:"proc-card",shadow:"hover"},{default:ht(()=>[y("div",is,[y("i",{class:"el-icon-edit edit",onClick:p=>i.editNodeData(v)},null,8,["onClick"]),y("i",{class:"el-icon-delete del",onClick:p=>i.delNodeById(v.id,v.nodeName)},null,8,["onClick"])]),y("span",as,Ce(v.nodeName),1),ns,v.handleGroupInfo.handleUsername?(z(),H(c,{key:0,class:"tag"},{default:ht(()=>[he(Ce(v.handleGroupInfo.handleUsername),1)]),_:2},1024)):Ne("",!0),v.handleGroupInfo.implementId?(z(),H(c,{key:1,class:"tag"},{default:ht(()=>[he(Ce(i.convertImpl(v.handleGroupInfo)),1)]),_:2},1024)):Ne("",!0),v.handleGroupInfo.groupId?(z(),H(c,{key:2,class:"tag"},{default:ht(()=>[he(Ce(i.convertGroup(v.handleGroupInfo)),1)]),_:2},1024)):Ne("",!0),rs,v.copyGroupInfo.handleUsername?(z(),H(c,{key:3,class:"tag"},{default:ht(()=>[he(Ce(v.copyGroupInfo.handleUsername),1)]),_:2},1024)):Ne("",!0),v.copyGroupInfo.implementId?(z(),H(c,{key:4,class:"tag"},{default:ht(()=>[he(Ce(i.convertImpl(v.copyGroupInfo)),1)]),_:2},1024)):Ne("",!0),v.copyGroupInfo.groupId?(z(),H(c,{key:5,class:"tag"},{default:ht(()=>[he(Ce(i.convertGroup(v.copyGroupInfo)),1)]),_:2},1024)):Ne("",!0),y("div",os,[ss,y("span",ls,Ce(v.taskName),1)])]),_:2},1024)):Ne("",!0),v.type==="arrow"?(z(),H("span",cs)):Ne("",!0)],2))),128))],2),m<i.calculationProce.length-1?(z(),H("article",hs,[y("section",{class:m%2==0?"vertical-arrow right":"vertical-arrow left"},[us],2)])):Ne("",!0)]))),128))]),_:1})]),_:1})});var gs=le(ts,[["render",ds],["__scopeId","data-v-78728514"]]),ms=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gs});const ps={};function fs(i,n){const r=K("router-view");return z(),H(r)}var xs=le(ps,[["render",fs]]),Pa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xs});const vs={data(){return{posHeading:0,posPitch:0,posRoll:0,posAlt:0,posLat:0,posLon:0,cartesinaX:0,cartesinaY:0,cartesinaZ:0,cartesinaH:0,cartesinaP:0,cartesinaR:0}},mounted(){this.initMap()},methods:{initMap(){const i=[{id:3,name:"\u9AD8\u5FB7\u5730\u56FE02",type:"UrlTemplateImageryProvider",classConfig:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"},interfaceConfig:{},offset:"0,0",invertswitch:0,filterRGB:"#ffffff",showswitch:1,weigh:13,createtime:1624346908,updatetime:1647395260},{id:14,name:"\u9AD8\u5FB7\u5730\u56FE01",type:"UrlTemplateImageryProvider",classConfig:{url:"http://webst03.is.autonavi.com/appmaptile?x={x}&y={y}&z={z}&style=7"},interfaceConfig:{saturation:0,brightness:.6,contrast:1.8,hue:1,gamma:.3},offset:"0,0",invertswitch:1,filterRGB:"#4e70a6",showswitch:1,weigh:0,createtime:1624326728,updatetime:1646979297}],{viewer:n,base:r}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0,initNavigate:!0,depthTest:!0},i);this.c_viewer=n,this.base=r;let o=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));o.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),n.flyTo(o),this.initCameraPos(),this.cameraModify()},initCameraPos(){let i=this.base.getCameraPosition();if(i){const{lon:n,lat:r,height:o,heading:s,pitch:l,roll:c,position:{x:u,y:d,z:g},cameraHeading:x,cameraPitch:m,cameraRoll:v}=i;this.posAlt=o,this.posHeading=s,this.posPitch=l,this.posRoll=c,this.posLat=r,this.posLon=n,this.cartesinaX=u,this.cartesinaY=d,this.cartesinaZ=g,this.cartesinaH=x,this.cartesinaP=m,this.cartesinaR=v}else console.log("can not get postion.")},cameraModify(){this.c_viewer.scene.camera.moveEnd.addEventListener(i=>{let n=this.base.getCameraPosition();if(n){const{lon:r,lat:o,height:s,heading:l,pitch:c,roll:u,position:{x:d,y:g,z:x},cameraHeading:m,cameraPitch:v,cameraRoll:w}=n;this.posAlt=s,this.posHeading=l,this.posPitch=c,this.posRoll=u,this.posLat=o,this.posLon=r,this.cartesinaX=d,this.cartesinaY=g,this.cartesinaZ=x,this.cartesinaH=m,this.cartesinaP=v,this.cartesinaR=w}else console.log("can not get postion.")})}},beforeUnmount(){this.c_viewer=null,this.base=null}},Ma=fe("data-v-bebf1234");ye("data-v-bebf1234");const ys={class:"sky-box"},bs=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),_s={class:"position-panel"},Cs=y("div",{class:"clearfix"},[y("span",null,"\u76F8\u673A\u4F4D\u7F6E")],-1),ws={class:"card-content"},Is=y("span",null,"longitude\uFF1A",-1),As=y("span",null,"latitude\uFF1A",-1),Ss=y("span",null,"heading\uFF1A",-1),Ps=y("span",null,"pitch\uFF1A",-1),Ms=y("span",null,"roll\uFF1A",-1),Gs=y("span",null,"posAlt\uFF1A",-1),Ts=y("div",{class:"clearfix"},[y("span",null,"\u76F8\u673A\u7B1B\u5361\u5C14\u4F4D\u7F6E")],-1),Ws={class:"card-content"},Vs=y("span",null,"\u7B1B\u5361\u5C14\u7ECF\u5EA6:",-1),Rs=y("span",null,"\u7B1B\u5361\u5C14\u7EAC\u5EA6:",-1),Ds=y("span",null,"\u7B1B\u5361\u5C14\u9AD8\u5EA6:",-1),Fs=y("span",null,"\u671D\u5411:",-1),Zs=y("span",null,"\u503E\u659C\u89D2:",-1),Bs=y("span",null,"\u7FFB\u6EDA\u89D2:",-1);be();const ks=Ma((i,n,r,o,s,l)=>{const c=K("el-card");return z(),H("div",ys,[bs,y("div",_s,[y(c,{class:"box-card"},{default:Ma(()=>[Cs,y("div",ws,[y("p",null,[Is,he(Ce(s.posLon),1)]),y("p",null,[As,he(Ce(s.posLat),1)]),y("p",null,[Ss,he(Ce(s.posHeading),1)]),y("p",null,[Ps,he(Ce(s.posPitch),1)]),y("p",null,[Ms,he(Ce(s.posRoll),1)]),y("p",null,[Gs,he(Ce(s.posAlt),1)])]),Ts,y("div",Ws,[y("p",null,[Vs,he(Ce(s.cartesinaX),1)]),y("p",null,[Rs,he(Ce(s.cartesinaY),1)]),y("p",null,[Ds,he(Ce(s.cartesinaZ),1)]),y("p",null,[Fs,he(Ce(s.cartesinaH),1)]),y("p",null,[Zs,he(Ce(s.cartesinaP),1)]),y("p",null,[Bs,he(Ce(s.cartesinaR),1)])])]),_:1})])])});var Es=le(vs,[["render",ks],["__scopeId","data-v-bebf1234"]]),Ns=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Es});const Ls={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,base:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0,initNavigate:!0,depthTest:!0},[]);this.c_viewer=i,this.base=n;let r=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));r.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),i.flyTo(r),this.base.setCameraEotateHeading({lng:104.081701757991,lat:30.627042558105988,height:15.8,heading:0,pitch:0,roll:0})}},beforeUnmount(){this.c_viewer=null,this.base=null}},Xs=fe("data-v-30e9809b");ye("data-v-30e9809b");const zs={id:"cesiumContainer",class:"map3d-contaner"};be();const Hs=Xs((i,n,r,o,s,l)=>(z(),H("div",zs)));var Us=le(Ls,[["render",Hs],["__scopeId","data-v-30e9809b"]]),$s=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Us});const Ys={mounted(){this.initMap()},methods:{initMap(){const{viewer:i}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0,initNavigate:!0,depthTest:!0},[]);var n=i.dataSources.add(Cesium.CzmlDataSource.load("static/data/file/rockets.czml"));n.then(function(r){i.trackedEntity=r.entities.getById("Vulcan")}).otherwise(function(r){window.alert(r)})}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},Os=fe("data-v-1dedb8bd");ye("data-v-1dedb8bd");const js={id:"cesiumContainer",class:"map3d-contaner"};be();const Qs=Os((i,n,r,o,s,l)=>(z(),H("div",js)));var Js=le(Ys,[["render",Qs],["__scopeId","data-v-1dedb8bd"]]),Ks=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Js});const qs={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,math3d:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.math3d=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene();let s=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));s.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.flyto(),this.createModel()},flyto(){this.material.flyTo({position:{x:-1.3371320092982147e6,y:5330611474631115e-9,z:3228680029449292e-9},orientation:{heading:Cesium.Math.toRadians(1.0114629015290062),pitch:Cesium.Math.toRadians(-23.53661660731824),roll:Cesium.Math.toRadians(.00324596311071617)}})},createModel(){var i=this.graphics.createModelGraphics({position:Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,200),m_url:"static/data/model/zhui.glb",m_scale:200});this.graphics.setGraphicsRotate({entity:i,position:this.graphics.transformCartesianToWGS84(Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,50)),rotateAmount:4}),this.graphics.setGraphicsFloat({entity:i,cartesians:Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,100),maxHeiht:200,speed:.5})}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},el=fe("data-v-07c22489");ye("data-v-07c22489");const tl=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1);be();const il=el((i,n,r,o,s,l)=>(z(),H("div",null,[tl])));var al=le(qs,[["render",il],["__scopeId","data-v-07c22489"]]),nl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:al});const rl={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,math3d:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.math3d=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene();let s=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));s.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.flyto(),this.createModel()},flyto(){this.material.flyTo({position:{x:-1.3371320092982147e6,y:5330611474631115e-9,z:3228680029449292e-9},orientation:{heading:Cesium.Math.toRadians(1.0114629015290062),pitch:Cesium.Math.toRadians(-23.53661660731824),roll:Cesium.Math.toRadians(.00324596311071617)}})},createModel(){this.graphics.craeteDynamicShadeWallGraphics({positions:Cesium.Cartesian3.fromDegreesArrayHeights([104.07263175401185,30.647622150198725,500,104.06369117158526,30.648834374000277,500,104.06437182811021,30.62274533905387,500,104.07463538167119,30.62285687644371,500,104.07263175401185,30.647622150198725,500])})}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},ol=fe("data-v-73347978");ye("data-v-73347978");const sl={id:"cesiumContainer",class:"map3d-contaner"};be();const ll=ol((i,n,r,o,s,l)=>(z(),H("div",sl)));var cl=le(rl,[["render",ll],["__scopeId","data-v-73347978"]]),hl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:cl});const ul={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,math3d:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.math3d=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene();let s=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));s.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.flyto(),this.createModel()},flyto(){this.material.flyTo({position:{x:-1.3371320092982147e6,y:5330611474631115e-9,z:3228680029449292e-9},orientation:{heading:Cesium.Math.toRadians(1.0114629015290062),pitch:Cesium.Math.toRadians(-23.53661660731824),roll:Cesium.Math.toRadians(.00324596311071617)}})},createModel(){var i=this.math3d.computeEllipseEdgePositions({semiMinorAxis:500,semiMajorAxis:500,rotation:0,center:Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,50),granularity:Math.PI/150});let n=[];for(let r=0;r<i.outerPositions.length;r+=3){let o=new Cesium.Cartesian3(i.outerPositions[r],i.outerPositions[r+1],i.outerPositions[r+2]);n.push(o)}this.intevalRotatePlane(n),this.graphics.craeteRotatePlaneGraphics({positions:n,center:Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,50),image:"static/data/images/Textures/b2.png",dimensions:new Cesium.Cartesian2(200,100)})},intevalRotatePlane(i){setTimeout(()=>{this.graphics.craeteRotatePlaneGraphics({positions:i,center:Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,50),image:"static/data/images/Textures/b4.png",dimensions:new Cesium.Cartesian2(200,100)}),setTimeout(()=>{this.graphics.craeteRotatePlaneGraphics({positions:i,center:Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,50),image:"static/data/images/Textures/g_1_t_0.png",dimensions:new Cesium.Cartesian2(200,100)}),setTimeout(()=>{this.graphics.craeteRotatePlaneGraphics({positions:i,center:Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,50),image:"static/data/images/Textures/movingRiver.png",dimensions:new Cesium.Cartesian2(200,100)})},1e3)},1200)},1500)}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},dl=fe("data-v-724cec6c");ye("data-v-724cec6c");const gl={id:"cesiumContainer",class:"map3d-contaner"};be();const ml=dl((i,n,r,o,s,l)=>(z(),H("div",gl)));var pl=le(ul,[["render",ml],["__scopeId","data-v-724cec6c"]]),fl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pl});const xl={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,math3d:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.math3d=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene();let s=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));s.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.flyto(),this.createModel()},flyto(){this.material.flyTo({position:{x:-1.3371320092982147e6,y:5330611474631115e-9,z:3228680029449292e-9},orientation:{heading:Cesium.Math.toRadians(1.0114629015290062),pitch:Cesium.Math.toRadians(-23.53661660731824),roll:Cesium.Math.toRadians(.00324596311071617)}})},createModel(){this.graphics.createPointsGraphics({positions:[Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,400)],billboard:{b_img:"static/data/images/Textures/billboard2.png",b_width:40,b_height:25,b_scale:1.5,b_scaleByDistance:new Cesium.NearFarScalar(150,2,15e6,.5)},label:{l_text:"\u4E2D\u79D1\u8F83\u5927",l_fillColor:Cesium.Color.YELLOW,l_outlineColor:Cesium.Color.KHAKI}})}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},vl=fe("data-v-524353eb");ye("data-v-524353eb");const yl=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1);be();const bl=vl((i,n,r,o,s,l)=>(z(),H("div",null,[yl])));var _l=le(xl,[["render",bl],["__scopeId","data-v-524353eb"]]),Cl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_l});const wl={mounted(){this.initMap()},methods:{initMap(){const i=[{id:3,name:"\u9AD8\u5FB7\u5730\u56FE02",type:"UrlTemplateImageryProvider",classConfig:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"},interfaceConfig:{},offset:"0,0",invertswitch:0,filterRGB:"#ffffff",showswitch:1,weigh:13,createtime:1624346908,updatetime:1647395260},{id:14,name:"\u9AD8\u5FB7\u5730\u56FE01",type:"UrlTemplateImageryProvider",classConfig:{url:"http://webst03.is.autonavi.com/appmaptile?x={x}&y={y}&z={z}&style=7"},interfaceConfig:{saturation:0,brightness:.6,contrast:1.8,hue:1,gamma:.3},offset:"0,0",invertswitch:1,filterRGB:"#4e70a6",showswitch:1,weigh:0,createtime:1624326728,updatetime:1646979297}],{viewer:n,material:r,graphics:o,sceneMang:s}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0,initNavigate:!0,depthTest:!0},i);this.c_viewer=n,this.material=r,this.graphics=o,console.log(this.material.myname),this.$nextTick(()=>{this.material.setDefSceneConfig(),this.material.setBloomLightScene();let l=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));l.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.createModel(),this.flyto()})},flyto(){this.material.flyTo({position:{x:-1.3371320092982147e6,y:5330611474631115e-9,z:3228680029449292e-9},orientation:{heading:Cesium.Math.toRadians(1.0114629015290062),pitch:Cesium.Math.toRadians(-23.53661660731824),roll:Cesium.Math.toRadians(.00324596311071617)}})},createModel(){const i=this.graphics.createModelGraphics({position:Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,400),m_url:"static/data/model/zhui.glb",m_scale:60}),n=this.graphics.transformCartesianToWGS84(Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,50));this.graphics.setGraphicsRotate({entity:i,position:n,rotateAmount:4}),this.graphics.setGraphicsFloat({entity:i,cartesians:Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,400),maxHeiht:100,speed:.5}),this.graphics.craeteDynamicCricleGraphics({center:{lng:104.081701757991,lat:30.627042558105988,alt:1},radius:800,scale:1500})}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},Il=fe("data-v-7893887c");ye("data-v-7893887c");const Al={id:"cesiumContainer",class:"map3d-contaner"};be();const Sl=Il((i,n,r,o,s,l)=>(z(),H("div",Al)));var Pl=le(wl,[["render",Sl],["__scopeId","data-v-7893887c"]]),Ml=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pl});const Gl={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,math3d:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.math3d=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene();let s=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));s.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.flyto(),this.createModel()},flyto(){this.material.flyTo({position:{x:-1.3371320092982147e6,y:5330611474631115e-9,z:3228680029449292e-9},orientation:{heading:Cesium.Math.toRadians(1.0114629015290062),pitch:Cesium.Math.toRadians(-23.53661660731824),roll:Cesium.Math.toRadians(.00324596311071617)}})},createModel(){this.graphics.createGifBillboardGraphics({position:Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,200),url:"static/data/file/scene1.gif"})}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},Tl=fe("data-v-712de5b0");ye("data-v-712de5b0");const Wl=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1);be();const Vl=Tl((i,n,r,o,s,l)=>(z(),H("div",null,[Wl])));var Rl=le(Gl,[["render",Vl],["__scopeId","data-v-712de5b0"]]),Dl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Rl}),Fl="./static/data/file/cs.mp4";const Zl={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,math3d:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.math3d=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene();let s=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));s.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.flyto(),this.createModel()},flyto(){this.material.flyTo({position:{x:-1.3371320092982147e6,y:5330611474631115e-9,z:3228680029449292e-9},orientation:{heading:Cesium.Math.toRadians(1.0114629015290062),pitch:Cesium.Math.toRadians(-23.53661660731824),roll:Cesium.Math.toRadians(.00324596311071617)}})},createModel(){var i=this.$refs.videoBox;this.graphics.createVideoPlaneGraphics({position:Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,200),videoElement:i,dimensions:new Cesium.Cartesian2(400,200)}),i.play()}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},Bl=fe("data-v-43d0900b");ye("data-v-43d0900b");const kl=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),El={ref:"videoBox",style:{display:"none"},muted:"",autoplay:"",loop:"",crossorigin:"",controls:""},Nl=y("source",{src:Fl,type:"video/mp4"},null,-1);be();const Ll=Bl((i,n,r,o,s,l)=>(z(),H("div",null,[kl,y("video",El,[Nl],512)])));var Xl=le(Zl,[["render",Ll],["__scopeId","data-v-43d0900b"]]),zl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xl});const Hl={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,sceneMang:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.graphics.setDefSceneConfig(),this.graphics.setBloomLightScene();let s=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));s.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.createModel(),this.flyto()},flyto(){this.material.flyTo({position:{x:-1.3371320092982147e6,y:5330611474631115e-9,z:3228680029449292e-9},orientation:{heading:Cesium.Math.toRadians(1.0114629015290062),pitch:Cesium.Math.toRadians(-23.53661660731824),roll:Cesium.Math.toRadians(.00324596311071617)}})},createModel(){this.graphics.craeteRotateCylinderGraphics({position:Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,1),length:500/2})}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},Ul=fe("data-v-0f98f824");ye("data-v-0f98f824");const $l={id:"cesiumContainer",class:"map3d-contaner"};be();const Yl=Ul((i,n,r,o,s,l)=>(z(),H("div",$l)));var Ol=le(Hl,[["render",Yl],["__scopeId","data-v-0f98f824"]]),jl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ol});const Ql={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,sceneMang:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.material.setDefSceneConfig(),this.material.setBloomLightScene();let s=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));s.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.createModel(),this.flyto()},flyto(){this.material.flyTo({position:{x:-1.3371320092982147e6,y:5330611474631115e-9,z:3228680029449292e-9},orientation:{heading:Cesium.Math.toRadians(1.0114629015290062),pitch:Cesium.Math.toRadians(-23.53661660731824),roll:Cesium.Math.toRadians(.00324596311071617)}})},createModel(){this.graphics.craeteDynamicBlinkCircleGraphics({position:Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,1),semiMinorAxis:500,semiMajorAxis:500})}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},Jl=fe("data-v-373ec67f");ye("data-v-373ec67f");const Kl={id:"cesiumContainer",class:"map3d-contaner"};be();const ql=Jl((i,n,r,o,s,l)=>(z(),H("div",Kl)));var ec=le(Ql,[["render",ql],["__scopeId","data-v-373ec67f"]]),tc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ec});const ic={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.material.setDefSceneConfig(),this.material.setBloomLightScene(),this.load3dTiles(i)},load3dTiles(i){var n=this,r=i.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));r.readyPromise.then(function(o){o.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),i.flyTo(o),n.addEntityToScene(i)})},addEntityToScene(i){new Cesium.Scene.Css3Renderer([{id:"box4",position:[104.08985268964015,30.635443158056148,50],element:'<div class="ys-css3-box ex-box" id="box4">xxx \u4FE1\u606F\u70B9</div>',offset:[10,10]}],!0)}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},ac=fe("data-v-03f26005");ye("data-v-03f26005");const nc=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),rc=y("div",{id:"info-warp",class:"info-msg-box"},null,-1);be();const oc=ac((i,n,r,o,s,l)=>(z(),H("div",null,[nc,rc])));var sc=le(ic,[["render",oc],["__scopeId","data-v-03f26005"]]),lc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sc});const cc={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,graphics:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.graphics=n,this.graphics.setDefSceneConfig(),this.graphics.setBloomLightScene(),this.load3dTiles(i)},load3dTiles(i){var n=this,r=i.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));r.readyPromise.then(function(o){o.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),i.flyTo(o),n.addEntityToScene(i)})},addEntityToScene(i){this.graphics.createCustomDefBillboardGraphics({position:Cesium.Cartesian3.fromDegrees(104.06417395476578,30.636185094244944,30),b_scale:3,text:"\u83AB\u6761\u8FBE\u7F57 \u4FE1\u606F\u70B9"})}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},hc=fe("data-v-0753b41c");ye("data-v-0753b41c");const uc=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),dc=y("div",{id:"info-warp",class:"info-msg-box"},null,-1);be();const gc=hc((i,n,r,o,s,l)=>(z(),H("div",null,[uc,dc])));var mc=le(cc,[["render",gc],["__scopeId","data-v-0753b41c"]]),pc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mc});const fc={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.material.setDefSceneConfig(),this.material.setBloomLightScene(),this.load3dTiles(i)},load3dTiles(i){var n=this,r=i.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));r.readyPromise.then(function(o){o.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),i.flyTo(o),n.addEntityToScene(i)})},addEntityToScene(i){new Cesium.Scene.Css3Renderer([],!0).addEntityLayer({position:[104.06417395476578,30.636185094244944,30],element:`<div class='ysc-dynamic-layer ys-css3-box'>
               <div class='line'></div>
               <div class='main' style="font-size:20px">
                        <div class="" style="color:#ff9800">\u4FE1\u606F\u70B9</div>
                       <div class=""> \u946B\u946B\u5927\u53A6 </div>
                </div>
           </div>`,offset:[10,-250],boxShow:!1,circleShow:!1})}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},xc=fe("data-v-1ebe37bc");ye("data-v-1ebe37bc");const vc=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),yc=y("div",{id:"info-warp",class:"info-msg-box"},null,-1);be();const bc=xc((i,n,r,o,s,l)=>(z(),H("div",null,[vc,yc])));var _c=le(fc,[["render",bc],["__scopeId","data-v-1ebe37bc"]]),Cc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_c});const wc={data(){return{activeId:"light"}},mounted(){this.initMap()},methods:{initMap(){const{viewer:i,control:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.control=n;let r=this.c_viewer.imageryLayers.addImageryProvider(new Cesium.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}));r.name="\u5F71\u50CF",r.id="layer1";let o=this.c_viewer.imageryLayers.addImageryProvider(new Cesium.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/arcgis/rest/services/World_Shaded_Relief/MapServer "}));o.name="\u7535\u5B50",o.id="layer2",o.show=!1;let s=this.c_viewer.imageryLayers.addImageryProvider(new Cesium.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer"}));s.name="\u5730\u5F62",s.id="layer3",s.show=!1;let l=this.c_viewer.imageryLayers.addImageryProvider(new Cesium.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/arcgis/rest/services/World_Terrain_Base/MapServer"}));l.name="\u5730\u5F622",l.id="layer4",l.show=!1,this.control.showLayerSwitchPanel([r,o,s,l],{elementId:"cust-gui-box"}),this.flyto()},flyto(){this.control.flyTo({position:{x:-1.3371320092982147e6,y:5330611474631115e-9,z:3228680029449292e-9},orientation:{heading:Cesium.Math.toRadians(1.0114629015290062),pitch:Cesium.Math.toRadians(-23.53661660731824),roll:Cesium.Math.toRadians(.00324596311071617)}})}},beforeUnmount(){this.c_viewer=null,this.control=null}},Ic=fe("data-v-76846dec");ye("data-v-76846dec");const Ac={class:"sky-box"},Sc=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),Pc=y("div",{class:"cust-gui-box",id:"cust-gui-box"},null,-1);be();const Mc=Ic((i,n,r,o,s,l)=>(z(),H("div",Ac,[Sc,Pc])));var Gc=le(wc,[["render",Mc],["__scopeId","data-v-76846dec"]]),Tc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Gc});const Wc={data(){return{activeId:"light"}},mounted(){this.initMap()},methods:{initMap(){const{viewer:i,control:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.control=n;let r=this.c_viewer.imageryLayers.addImageryProvider(new Cesium.Scene.BaiduImageryProvider({}));r.name="\u7535\u5B50",r.id="layer1";let o=this.c_viewer.imageryLayers.addImageryProvider(new Cesium.Scene.BaiduImageryProvider({style:"midnight"}));o.name="\u5348\u591C\u84DD",o.id="layer2",o.show=!1;let s=this.c_viewer.imageryLayers.addImageryProvider(new Cesium.Scene.BaiduImageryProvider({style:"dark"}));s.name="\u9ED1\u591C",s.id="layer3",s.show=!1;let l=this.c_viewer.imageryLayers.addImageryProvider(new Cesium.Scene.BaiduImageryProvider({style:"googlelite"}));l.name="\u7CBE\u7B80",l.id="layer4",l.show=!1;let c=this.c_viewer.imageryLayers.addImageryProvider(new Cesium.Scene.BaiduImageryProvider({style:"redalert"}));c.name="\u7EA2\u8272\u8B66\u6212",c.id="layer5",c.show=!1,this.control.showLayerSwitchPanel([r,o,s,l,c],{elementId:"cust-gui-box"})}},beforeUnmount(){this.c_viewer=null,this.control=null}},Vc=fe("data-v-3f3e368e");ye("data-v-3f3e368e");const Rc={class:"sky-box"},Dc=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),Fc=y("div",{class:"cust-gui-box",id:"cust-gui-box"},null,-1);be();const Zc=Vc((i,n,r,o,s,l)=>(z(),H("div",Rc,[Dc,Fc])));var Bc=le(Wc,[["render",Zc],["__scopeId","data-v-3f3e368e"]]),kc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bc});const Ec={data(){return{activeId:"light"}},mounted(){this.initMap()},methods:{initMap(){const{viewer:i,control:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.control=n;let r=this.c_viewer.imageryLayers.addImageryProvider(new Cesium.Scene.TencentImageryProvider({layer:"vec"}));r.name="\u7535\u5B50\u5E95\u56FE",r.id="layer1",r.show=!0;let o=this.c_viewer.imageryLayers.addImageryProvider(new Cesium.Scene.TencentImageryProvider({layer:"imgimg"}));o.name="\u5F71\u50CF\u5E95\u56FE",o.id="layer2",o.show=!1,this.control.showLayerSwitchPanel([r,o],{elementId:"cust-gui-box"}),this.flyTo()},flyTo(){this.control.flyTo({position:{x:-1.3371320092982147e6,y:5330611474631115e-9,z:3228680029449292e-9},orientation:{heading:Cesium.Math.toRadians(1.0114629015290062),pitch:Cesium.Math.toRadians(-23.53661660731824),roll:Cesium.Math.toRadians(.00324596311071617)}})}},beforeUnmount(){this.c_viewer=null,this.control=null}},Nc=fe("data-v-1d0879f4");ye("data-v-1d0879f4");const Lc={class:"sky-box"},Xc=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),zc=y("div",{class:"cust-gui-box",id:"cust-gui-box"},null,-1);be();const Hc=Nc((i,n,r,o,s,l)=>(z(),H("div",Lc,[Xc,zc])));var Uc=le(Ec,[["render",Hc],["__scopeId","data-v-1d0879f4"]]),$c=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Uc});const Yc={data(){return{activeId:"light"}},mounted(){this.initMap()},methods:{initMap(){const{viewer:i,control:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.control=n;let r="7eb11c0c503429878691ac917238f87f",o=this.c_viewer.imageryLayers.addImageryProvider(new Cesium.Scene.TdtImageryProvider({key:r,style:"cva"}));o.name="\u6807\u6CE8",o.id="layer1",o.show=!1;let s=this.c_viewer.imageryLayers.addImageryProvider(new Cesium.Scene.TdtImageryProvider({key:r}));s.name="\u7535\u5B50",s.id="layer2",s.show=!1;let l=this.c_viewer.imageryLayers.addImageryProvider(new Cesium.Scene.TdtImageryProvider({key:r,style:"img"}));l.name="\u5F71\u50CF",l.id="layer3",l.show=!0;let c=this.c_viewer.imageryLayers.addImageryProvider(new Cesium.Scene.TdtImageryProvider({key:r,style:"ter"}));c.name="\u5730\u5F62",c.id="layer3",c.show=!0,this.control.showLayerSwitchPanel([o,s,l,c],{elementId:"cust-gui-box"}),this.flyTo()},flyTo(){this.control.flyTo({position:{x:-1.3371320092982147e6,y:5330611474631115e-9,z:3228680029449292e-9},orientation:{heading:Cesium.Math.toRadians(1.0114629015290062),pitch:Cesium.Math.toRadians(-23.53661660731824),roll:Cesium.Math.toRadians(.00324596311071617)}})}},beforeUnmount(){this.c_viewer=null,this.control=null}},Oc=fe("data-v-0a6df3b9");ye("data-v-0a6df3b9");const jc={class:"sky-box"},Qc=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),Jc=y("div",{class:"cust-gui-box",id:"cust-gui-box"},null,-1);be();const Kc=Oc((i,n,r,o,s,l)=>(z(),H("div",jc,[Qc,Jc])));var qc=le(Yc,[["render",Kc],["__scopeId","data-v-0a6df3b9"]]),e0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qc});let t0=[{lng:104.05483668149648,lat:30.6225232645789,alt:0,_heading:0,_pitch:0},{lng:104.06459444369042,lat:30.62260552518052,alt:0,_heading:0,_pitch:0},{lng:104.07468833602204,lat:30.622855714464748,alt:0,_heading:0,_pitch:0},{lng:104.08717755269335,lat:30.623135635302166,alt:0,_heading:0,_pitch:0},{lng:104.09163741901779,lat:30.623216504129974,alt:0,_heading:0,_pitch:0},{lng:104.09300033008742,lat:30.623766791452454,alt:0,_heading:0,_pitch:0},{lng:104.09473502716435,lat:30.625917679203354,alt:0,_heading:0,_pitch:0},{lng:104.10059331246991,lat:30.63465710085125,alt:0,_heading:0,_pitch:0},{lng:104.10877583363862,lat:30.64746191492104,alt:0,_heading:0,_pitch:0},{lng:104.11220127094215,lat:30.653566794508787,alt:0,_heading:0,_pitch:0},{lng:104.11248323533987,lat:30.66172641514816,alt:0,_heading:0,_pitch:0},{lng:104.10907609098015,lat:30.66999566666932,alt:0,_heading:0,_pitch:0},{lng:104.10915719941032,lat:30.670323977595064,alt:0,_heading:0,_pitch:0}],i0=[{lng:104.04515975514362,lat:30.65664038012177,alt:0,_heading:0,_pitch:0},{lng:104.04687204329721,lat:30.655792100684952,alt:0,_heading:0,_pitch:0},{lng:104.04987098286604,lat:30.655278729024825,alt:0,_heading:0,_pitch:0},{lng:104.05127947704744,lat:30.654877980019034,alt:0,_heading:0,_pitch:0},{lng:104.05248507490258,lat:30.653854957158103,alt:0,_heading:0,_pitch:0},{lng:104.05352464649329,lat:30.65267338334786,alt:0,_heading:0,_pitch:0},{lng:104.05508060695212,lat:30.651439025626072,alt:0,_heading:0,_pitch:0},{lng:104.05578985218686,lat:30.651114752234136,alt:0,_heading:0,_pitch:0},{lng:104.05738387364224,lat:30.650774492402626,alt:0,_heading:0,_pitch:0},{lng:104.05909263739684,lat:30.649990275732424,alt:0,_heading:0,_pitch:0},{lng:104.06018573031031,lat:30.649813254840673,alt:0,_heading:0,_pitch:0},{lng:104.06202708046048,lat:30.649906584479275,alt:0,_heading:0,_pitch:0},{lng:104.06397343265881,lat:30.649829403133403,alt:0,_heading:0,_pitch:0}],a0=[{lng:104.0924560497751,lat:30.60870815496917,alt:0,_heading:0,_pitch:0},{lng:104.09215197770858,lat:30.614431194413008,alt:0,_heading:0,_pitch:0},{lng:104.09120402164606,lat:30.616389298715838,alt:0,_heading:0,_pitch:0},{lng:104.09040642135795,lat:30.617432410210426,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.09032241301502,lat:30.623175007509378,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.09029803407135,lat:30.624939720229143,alt:0,_heading:0,_pitch:0},{lng:104.0915052266538,lat:30.62774994620696,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.09222784511536,lat:30.6317730947558,alt:0,_heading:0,_pitch:0},{lng:104.09232095503909,lat:30.63323060270313,alt:0,_heading:0,_pitch:0},{lng:104.09086769726088,lat:30.636362779040212,alt:0,_heading:0,_pitch:0},{lng:104.08959864549828,lat:30.64006058203392,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.08699671330692,lat:30.642898997904474,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.08563113646058,lat:30.64413013929877,alt:0,_heading:0,_pitch:0},{lng:104.08032693706595,lat:30.645866842295195,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.0778024533592,lat:30.647176234981817,alt:0,_heading:0,_pitch:0},{lng:104.07521008491524,lat:30.648340593138375,alt:0,_heading:0,_pitch:0},{lng:104.07195007913509,lat:30.648872771580482,alt:0,_heading:0,_pitch:0},{lng:104.06405165918704,lat:30.649937937956746,alt:0,_heading:0,_pitch:0},{lng:104.06344595378214,lat:30.652279859289777,alt:0,_heading:0,_pitch:0},{lng:104.0633705349813,lat:30.657566716292905,alt:0,_heading:0,_pitch:0},{lng:104.06338611419245,lat:30.65885116484306,alt:0,_heading:0,_pitch:0},{lng:104.05822900003922,lat:30.65874403796288,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.05780197633165,lat:30.670551473260076,alt:0,_heading:0,_pitch:0},{lng:104.05787124577986,lat:30.670569160923954,alt:0,_heading:0,_pitch:0}],n0=[{lng:104.07468634163506,lat:30.610160211586027,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.07439361152606,lat:30.622773544559188,alt:0,_heading:0,_pitch:0},{lng:104.07354944477886,lat:30.63627636840404,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.07300977855027,lat:30.64490456799328,alt:0,_heading:0,_pitch:0},{lng:104.07221561881664,lat:30.648973340565295,alt:0,_heading:0,_pitch:0},{lng:104.07274338904237,lat:30.65090641152965,alt:0,_heading:0,_pitch:0},{lng:104.0773331642171,lat:30.656995676635855,alt:0,_heading:0,_pitch:0},{lng:104.08571778951817,lat:30.670665563536552,alt:0,_heading:0,_pitch:0}],r0=[{lng:104.06472003023976,lat:30.609646023203606,alt:0,_heading:0,_pitch:0},{lng:104.06424787371509,lat:30.623368431603982,alt:0,_heading:0,_pitch:0},{lng:104.06417395476578,lat:30.636185094244944,alt:0,_heading:0,_pitch:0},{lng:104.06338390991841,lat:30.649491352828676,alt:0,_heading:0,_pitch:0},{lng:104.06371182793808,lat:30.65893613754448,alt:0,_heading:0,_pitch:0},{lng:104.06841903111855,lat:30.658946263063225,alt:0,_heading:0,_pitch:0},{lng:104.06814745606835,lat:30.665052288374014,alt:0,_heading:0,_pitch:0},{lng:104.06811809719818,lat:30.669668301036992,alt:0,_heading:0,_pitch:0},{lng:104.05775105076418,lat:30.669384378379394,alt:0,_heading:0,_pitch:0},{lng:104.04740149742463,lat:30.674189636711628,alt:0,_heading:0,_pitch:0},{lng:104.04644020930145,lat:30.674644296279894,alt:0,_heading:0,_pitch:0}],o0=[{lng:104.09786695322745,lat:30.669809006716715,alt:0,_heading:0,_pitch:0},{lng:104.0993161642455,lat:30.66604105426537,alt:0,_heading:0,_pitch:0},{lng:104.09996964672716,lat:30.663926315207274,alt:0,_heading:0,_pitch:0},{lng:104.09978543601625,lat:30.662312572638942,alt:0,_heading:0,_pitch:0},{lng:104.09091315601611,lat:30.64815455482987,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.08780416490538,lat:30.64335859739226,alt:0,_heading:0,_pitch:0},{lng:104.08506623224535,lat:30.64166703445844,alt:0,_heading:0,_pitch:0},{lng:104.07782104176363,lat:30.63835506114767,alt:0,_heading:0,_pitch:0},{lng:104.07352328754757,lat:30.63622511046471,alt:0,_heading:0,_pitch:0},{lng:104.06412379329738,lat:30.636214766542203,alt:0,_heading:0,_pitch:0},{lng:104.05596676016499,lat:30.635776291428073,alt:0,_heading:0,_pitch:0},{lng:104.05232911345348,lat:30.635882628407142,alt:0,_heading:0,_pitch:0},{lng:104.04957687759283,lat:30.637112609258054,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.04251097500605,lat:30.6405250591567,alt:0,_heading:0,_pitch:0},{lng:104.04716434078293,lat:30.646859268089347,alt:0,_heading:0,_pitch:0},{lng:104.0518374226271,lat:30.64889701937682,alt:0,_heading:0,_pitch:0},{lng:104.05530151989106,lat:30.652157611545242,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.0582449718762,lat:30.656634170601468,alt:0,_heading:0,_pitch:0},{lng:104.05803228163909,lat:30.659323461383764,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.05378832800363,lat:30.662848830381613,alt:0,_heading:0,_pitch:0},{lng:104.05190586984988,lat:30.663620644169267,alt:0,_heading:0,_pitch:0},{lng:104.04941818951488,lat:30.663502356823795,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.0440974370961,lat:30.665685112735694,alt:0,_heading:0,_pitch:0}],s0=[{lng:104.11200625908954,lat:30.653422565339604,alt:0,_heading:0,_pitch:0},{lng:104.0981882803317,lat:30.659940340035135,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.08331020691642,lat:30.666814987666918,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.07651726622119,lat:30.670154516524445,alt:0,_heading:0,_pitch:0},{lng:104.07198750831256,lat:30.662601579425978,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.07876012254823,lat:30.659182831790197,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.08534166672217,lat:30.656091209876013,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.09814398647991,lat:30.650214104295802,alt:0,_heading:0,_pitch:0},{lng:104.10799895027522,lat:30.645761122612065,alt:1337510218503426e-24,_heading:0,_pitch:0},{lng:104.10490759528538,lat:30.640949134395452,alt:1337510218503426e-24,_heading:0,_pitch:0},{lng:104.09953739740776,lat:30.644178292072038,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.09447126550947,lat:30.646356610634967,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.09027167565056,lat:30.648332552506854,alt:0,_heading:0,_pitch:0},{lng:104.08329641268868,lat:30.65141541767637,alt:0,_heading:0,_pitch:0},{lng:104.07576653528987,lat:30.6549061459115,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.06878794099372,lat:30.65823280707112,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.0664779681836,lat:30.655159470516356,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.06138845273149,lat:30.655133027365217,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.05799966983452,lat:30.64972225945129,alt:0,_heading:0,_pitch:0},{lng:104.05470968540469,lat:30.644641963439216,alt:0,_heading:0,_pitch:0},{lng:104.04919562912652,lat:30.62895719340148,alt:0,_heading:0,_pitch:0},{lng:104.05262727216456,lat:30.627196792648604,alt:0,_heading:0,_pitch:0},{lng:104.07400012556678,lat:30.627747863616268,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.07484087096907,lat:30.618999751903807,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.08023664361203,lat:30.619173923586597,alt:0,_heading:0,_pitch:0},{lng:104.07898345118201,lat:30.614653975794972,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.05538505659916,lat:30.61419375172516,alt:1337510218503426e-24,_heading:0,_pitch:0},{lng:104.0550776703513,lat:30.61131946331862,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.0745925090065,lat:30.610949991469912,alt:0,_heading:0,_pitch:0},{lng:104.0781965183043,lat:30.610993846363463,alt:0,_heading:0,_pitch:0},{lng:104.0814405745628,lat:30.62332850837119,alt:0,_heading:0,_pitch:0},{lng:104.081701757991,lat:30.627042558105988,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.08450621317475,lat:30.629362377988404,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.08760751035182,lat:30.629636295016116,alt:0,_heading:0,_pitch:0},{lng:104.08908037329583,lat:30.63305562220032,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.08985268964015,lat:30.635443158056148,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.08905853444088,lat:30.638205038118926,alt:0,_heading:0,_pitch:0},{lng:104.08685819864118,lat:30.641613731337934,alt:0,_heading:0,_pitch:0},{lng:104.08523946244816,lat:30.643327458972664,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.08316926977975,lat:30.643909111300765,alt:0,_heading:0,_pitch:0},{lng:104.07902460275815,lat:30.645800069841748,alt:0,_heading:0,_pitch:0},{lng:104.07557937511469,lat:30.647736906317345,alt:0,_heading:0,_pitch:0},{lng:104.07224692270138,lat:30.64757375745847,alt:0,_heading:0,_pitch:0},{lng:104.06800342411101,lat:30.647999793943388,alt:0,_heading:0,_pitch:0},{lng:104.0648574432213,lat:30.64890423152947,alt:0,_heading:0,_pitch:0},{lng:104.06021118421852,lat:30.649003456474496,alt:9313225746154785e-25,_heading:0,_pitch:0},{lng:104.05677188262229,lat:30.649480008950356,alt:0,_heading:0,_pitch:0},{lng:104.05411512092844,lat:30.650869461941067,alt:0,_heading:0,_pitch:0},{lng:104.05272324984963,lat:30.65257547706251,alt:0,_heading:0,_pitch:0},{lng:104.05131507640397,lat:30.65397821938294,alt:0,_heading:0,_pitch:0},{lng:104.04964094498267,lat:30.654227429066623,alt:0,_heading:0,_pitch:0},{lng:104.0468147287171,lat:30.65349448170418,alt:0,_heading:0,_pitch:0}];const l0={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,math3d:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.math3d=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene(),this.load3dTiles(i)},load3dTiles(i){var n=this;i.scene.sun.show=!1,i.scene.moon.show=!1,i.scene.skyAtmosphere.show=!1;var r=i.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));r.readyPromise.then(function(o){o.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),i.flyTo(o),n.addEntityToScene(i)})},addEntityToScene(i){i.entities.add({polyline:{positions:this.material.transformWGS84ArrayToCartesianArray(t0),width:10,material:new Cesium.Scene.PolylineCityLinkMaterialProperty({color:new Cesium.Color(5,5,10),duration:2e3})}}),i.entities.add({polyline:{positions:this.material.transformWGS84ArrayToCartesianArray(i0),width:10,material:new Cesium.Scene.PolylineCityLinkMaterialProperty({color:new Cesium.Color(5,5,10),duration:2e3})}}),i.entities.add({polyline:{positions:this.material.transformWGS84ArrayToCartesianArray(a0),width:10,material:new Cesium.Scene.PolylineCityLinkMaterialProperty({color:new Cesium.Color(5,5,10),duration:2e3})}}),i.entities.add({polyline:{positions:this.material.transformWGS84ArrayToCartesianArray(n0),width:10,material:new Cesium.Scene.PolylineCityLinkMaterialProperty({color:Cesium.Color.fromBytes(255,165,0,1),duration:2e3})}}),i.entities.add({polyline:{positions:this.material.transformWGS84ArrayToCartesianArray(r0),width:10,material:new Cesium.Scene.PolylineCityLinkMaterialProperty({color:Cesium.Color.fromBytes(220,20,60,1),duration:2e3})}}),i.entities.add({polyline:{positions:this.material.transformWGS84ArrayToCartesianArray(o0),width:10,material:new Cesium.Scene.PolylineCityLinkMaterialProperty({color:new Cesium.Color(5,5,8),duration:2e3})}}),i.entities.add({polyline:{positions:this.material.transformWGS84ArrayToCartesianArray(s0),width:4,material:new Cesium.Scene.PolylineCityLinkMaterialProperty({color:Cesium.Color.fromBytes(255,140,0,1),duration:2e3,imgUrl:"static/data/images/Textures/colors1.png"})}})}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},c0=fe("data-v-cf466e2a");ye("data-v-cf466e2a");const h0=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1);be();const u0=c0((i,n,r,o,s,l)=>(z(),H("div",null,[h0])));var d0=le(l0,[["render",u0],["__scopeId","data-v-cf466e2a"]]),g0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:d0});const m0={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,math3d:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.math3d=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene();let s=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));s.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.c_viewer.flyTo(s),this.createPolygonOne(),this.createPolygonTwo()},createCustMaterialWall(i,n,r,o,s){return this.material.getCustomMaterialWall({image:i,freely:s,direction:"+",count:o,color:n,duration:r})},createPolygonOne(){this.c_viewer.entities.add({name:"aaaaa",wall:{positions:Cesium.Cartesian3.fromDegreesArrayHeights([104.09816110606057,30.659821965447698,500,104.1120972824757,30.65330300319938,500,104.10758419863926,30.64592470850288,500,104.09351691196979,30.652434826507452,500,104.09816110606057,30.659821965447698,500]),material:this.createCustMaterialWall("static/data/images/Textures/jsx2.png",Cesium.Color.RED,3e3,5,"cross")}})},createPolygonTwo(){this.c_viewer.entities.add({name:"aaaaa",wall:{positions:Cesium.Cartesian3.fromDegreesArrayHeights([104.07263175401185,30.647622150198725,500,104.06369117158526,30.648834374000277,500,104.06437182811021,30.62274533905387,500,104.07463538167119,30.62285687644371,500,104.07263175401185,30.647622150198725,500]),material:this.createCustMaterialWall("static/data/images/Textures/b2.png",Cesium.Color.RED,2e3,2,"vertical")}})}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},p0=fe("data-v-2fbc63eb");ye("data-v-2fbc63eb");const f0=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1);be();const x0=p0((i,n,r,o,s,l)=>(z(),H("div",null,[f0])));var v0=le(m0,[["render",x0],["__scopeId","data-v-2fbc63eb"]]),y0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:v0});const b0={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,math3d:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.math3d=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene();let s=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));s.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.c_viewer.flyTo(s),this.createPolygonOne(),this.createPolygonTwo()},createCustMaterialWall(i,n,r,o,s){return this.material.getCustomMaterialWall({image:i,freely:s,direction:"+",count:o,color:n,duration:r})},createPolygonOne(){this.c_viewer.entities.add({name:"aaaaa",wall:{positions:Cesium.Cartesian3.fromDegreesArrayHeights([104.07263175401185,30.647622150198725,500,104.06369117158526,30.648834374000277,500,104.06437182811021,30.62274533905387,500,104.07463538167119,30.62285687644371,500,104.07263175401185,30.647622150198725,500]),material:this.createCustMaterialWall("static/data/images/Textures/test1.png",Cesium.Color.BLUE,2e3,0,"cross")}})},createPolygonTwo(){this.c_viewer.entities.add({name:"aaaaa",wall:{positions:Cesium.Cartesian3.fromDegreesArrayHeights([104.09816110606057,30.659821965447698,200,104.1120972824757,30.65330300319938,200,104.10758419863926,30.64592470850288,200,104.09351691196979,30.652434826507452,200,104.09816110606057,30.659821965447698,200]),material:this.createCustMaterialWall("static/data/images/Textures/color3.png",Cesium.Color.BLUE,2e3,5,"vertical")}})}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},_0=fe("data-v-12bae0a1");ye("data-v-12bae0a1");const C0=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1);be();const w0=_0((i,n,r,o,s,l)=>(z(),H("div",null,[C0])));var I0=le(b0,[["render",w0],["__scopeId","data-v-12bae0a1"]]),A0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:I0});const S0={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,math3d:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.math3d=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene();let s=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));s.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.c_viewer.flyTo(s),this.createModel()},getCustomMaterialLine(i,n){return this.material.getCustomMaterialLine({image:i,color:n,duration:2e3})},createModel(){const i=this;for(var n=[new Cesium.Color(77/255,201/255,255/255,1),new Cesium.Color(255/255,201/255,38/255,1),new Cesium.Color(221/255,221/255,221/255,1)],r=["static/data/images/Textures/ArrowOpacity.png","static/data/images/Textures/ArrowTransparent.png","static/data/images/Textures/DataTransLine.png","static/data/images/Textures/DotTransparent.png","static/data/images/Textures/LinkPulse.png","static/data/images/Textures/meteor_01.png","static/data/images/Textures/Trail.png","static/data/images/Textures/Trail1.png"],o=Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988),s=0,l=8;s<l;s++){var c=Cesium.Cartesian3.fromDegrees(Math.random()/100+104.081701757991,Math.random()/100+30.627042558105988),u=this.math3d.getLinkedPointList(o,c,1e5,50);this.c_viewer.entities.add({polyline:{positions:u,width:5,material:i.getCustomMaterialLine(r[s],n[s%3])}})}}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},P0=fe("data-v-8739c218");ye("data-v-8739c218");const M0=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1);be();const G0=P0((i,n,r,o,s,l)=>(z(),H("div",null,[M0])));var T0=le(S0,[["render",G0],["__scopeId","data-v-8739c218"]]),W0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:T0});const V0={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,math3d:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.math3d=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene();let s=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));s.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.c_viewer.flyTo(s),this.createModel()},getCustomMaterialLine(i){return new Cesium.Scene.PolylineFlowMaterialProperty({color:i,duration:200})},createModel(){const i=this;for(var n=[new Cesium.Color(77/255,201/255,255/255,1),new Cesium.Color(255/255,201/255,38/255,1),new Cesium.Color(221/255,221/255,221/255,1)],r=Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988),o=0,s=8;o<s;o++){var l=Cesium.Cartesian3.fromDegrees(Math.random()/100+104.081701757991,Math.random()/100+30.627042558105988),c=this.math3d.getLinkedPointList(r,l,1e5,50);this.c_viewer.entities.add({polyline:{positions:c,width:5,material:i.getCustomMaterialLine(n[o%3])}})}}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},R0=fe("data-v-22e60d69");ye("data-v-22e60d69");const D0=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1);be();const F0=R0((i,n,r,o,s,l)=>(z(),H("div",null,[D0])));var Z0=le(V0,[["render",F0],["__scopeId","data-v-22e60d69"]]),B0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Z0});const k0={mounted(){this.initMap()},methods:{initMap(){const i=this,{viewer:n,sceneMang:r,graphics:o,material:s}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0});this.c_viewer=n,this.sceneMang=r,this.material=s,this.graphics=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene();var l=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));l.readyPromise.then(function(c){c.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),i.c_viewer.flyTo(c),i.graphics.createFadeCylinderGraphics({position:Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988),length:700,bottomRadius:500})})}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},E0={id:"cesiumContainer",class:"map3d-contaner"};function N0(i,n,r,o,s,l){return z(),H("div",E0)}var L0=le(k0,[["render",N0]]),X0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:L0});const z0={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,math3d:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.math3d=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene();let s=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));s.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.c_viewer.flyTo(s),this.createPolygonOne(),this.createPolygonTwo()},createCustMaterialWall(i,n,r){return this.material.getCustomMaterialWall({image:i,freely:"vertical",direction:"+",count:2,color:n,duration:r})},createPolygonOne(){var i=this.graphics.createPolygonGraphics({positions:Cesium.Cartesian3.fromDegreesArray([104.09816110606057,30.659821965447698,104.1120972824757,30.65330300319938,104.10758419863926,30.64592470850288,104.09351691196979,30.652434826507452,104.09816110606057,30.659821965447698]),material:this.createCustMaterialWall("static/data/images/Textures/color3.png",Cesium.Color.BLUE,5e4)});i.polygon.extrudedHeight=500},createPolygonTwo(){var i=this.graphics.createPolygonGraphics({positions:Cesium.Cartesian3.fromDegreesArray([104.07263175401185,30.647622150198725,104.06369117158526,30.648834374000277,104.06437182811021,30.62274533905387,104.07463538167119,30.62285687644371,104.07263175401185,30.647622150198725]),material:this.createCustMaterialWall("static/data/images/Textures/gradual_change_red_02.png",Cesium.Color.BLUE.withAlpha(.5),2e4)});i.polygon.extrudedHeight=500}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},H0=fe("data-v-1885a31d");ye("data-v-1885a31d");const U0=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1);be();const $0=H0((i,n,r,o,s,l)=>(z(),H("div",null,[U0])));var Y0=le(z0,[["render",$0],["__scopeId","data-v-1885a31d"]]),O0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Y0});const j0={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,math3d:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.math3d=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene();let s=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));s.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.flyto(),this.createModel()},flyto(){this.material.flyTo({position:{x:-1.3371320092982147e6,y:5330611474631115e-9,z:3228680029449292e-9},orientation:{heading:Cesium.Math.toRadians(1.0114629015290062),pitch:Cesium.Math.toRadians(-23.53661660731824),roll:Cesium.Math.toRadians(.00324596311071617)}})},createModel(){let i=[new Cesium.Color(77/255,201/255,255/255,1),new Cesium.Color(255/255,201/255,38/255,1),new Cesium.Color(221/255,221/255,221/255,1)];for(let n=0,r=8;n<r;n++){let o=Math.random()/100+104.081701757991,s=Math.random()/100+30.627042558105988,l=Cesium.Cartesian3.fromDegrees(o,s,0),c=Cesium.Cartesian3.fromDegrees(o,s,1e4);this.c_viewer.entities.add({polyline:{positions:[l,c],width:3,material:new Cesium.Scene.PolylineCityLinkMaterialProperty({color:i[n%3],duration:1500})}})}}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},Q0=fe("data-v-3f8ca325");ye("data-v-3f8ca325");const J0=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1);be();const K0=Q0((i,n,r,o,s,l)=>(z(),H("div",null,[J0])));var q0=le(j0,[["render",K0],["__scopeId","data-v-3f8ca325"]]),eh=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:q0});const th={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,math3d:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.math3d=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene();let s=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));s.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.c_viewer.flyTo(s),this.createEllipsoidOne(),this.createEllipsoidTwo(),this.createEllipsoidThree()},createCustMaterialWall(i,n,r,o){return this.material.getCustomMaterialWall({image:i,freely:"cross",direction:"+",count:o,color:n,duration:r})},createEllipsoidOne(){var i=new Cesium.EllipsoidGraphics({radii:new Cesium.Cartesian3(500,500,500),material:this.createCustMaterialWall("static/data/images/Textures/test1.png",Cesium.Color.BLUE,2e3,0),maximumCone:Cesium.Math.PI_OVER_TWO}),n=Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988);this.c_viewer.entities.add({name:"aaaaa",position:n,ellipsoid:i})},createEllipsoidTwo(){var i=Cesium.Cartesian3.fromDegrees(104.06417395476578,30.636185094244944),n=this.graphics.getEllipsoidGraphics({radii:700,material:this.createCustMaterialWall("static/data/images/Textures/color3.png",Cesium.Color.BLUE.withAlpha(.5),2e3,1),outline:!1,outlineColor:Cesium.Color.WHITE.withAlpha(.8)});n.innerRadii=new Cesium.Cartesian3(700/1.5,700/1.5,700/1.5),this.c_viewer.entities.add({name:"aaaaa",position:i,ellipsoid:n})},createEllipsoidThree(){var i=new Cesium.EllipsoidGraphics({radii:new Cesium.Cartesian3(500,500,500),material:this.createCustMaterialWall("static/data/images/Textures/b2.png",Cesium.Color.BLUE,2e3,1),maximumCone:Cesium.Math.PI_OVER_TWO}),n=Cesium.Cartesian3.fromDegrees(104.05248507490258,30.653854957158103);this.c_viewer.entities.add({name:"aaaaa",position:n,ellipsoid:i})}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},ih=fe("data-v-64903b18");ye("data-v-64903b18");const ah=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1);be();const nh=ih((i,n,r,o,s,l)=>(z(),H("div",null,[ah])));var rh=le(th,[["render",nh],["__scopeId","data-v-64903b18"]]),oh=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rh});const sh={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,math3d:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.material=n,this.graphics=r,this.math3d=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene();let s=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));s.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.flyto(),this.createModel()},flyto(){this.material.flyTo({position:{x:-1.3371320092982147e6,y:5330611474631115e-9,z:3228680029449292e-9},orientation:{heading:Cesium.Math.toRadians(1.0114629015290062),pitch:Cesium.Math.toRadians(-23.53661660731824),roll:Cesium.Math.toRadians(.00324596311071617)}})},createModel(){this.c_viewer.scene.primitives.add(new Cesium.Scene.TetrahedronPrimitive({position:Cesium.Cartesian3.fromDegrees(104.081701757991,30.627042558105988,180),color:Cesium.Color.BLUE,distance:10,speed:2,scale:new Cesium.Cartesian3(30,30,50)})).startAnimate()}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},lh=fe("data-v-1e5d7ec9");ye("data-v-1e5d7ec9");const ch=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1);be();const hh=lh((i,n,r,o,s,l)=>(z(),H("div",null,[ch])));var uh=le(sh,[["render",hh],["__scopeId","data-v-1e5d7ec9"]]),dh=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uh});const gh={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,passEffect:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.passEffect=n,this.passEffect.setDefSceneConfig(),this.passEffect.setBloomLightScene();let r=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));r.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.c_viewer.flyTo(r),this.createRadarScan(),this.createCircleScan()},createRadarScan(){this.passEffect.setRadarScanEffect({id:"radarScanA",position:Cesium.Cartesian3.fromDegrees(104.08985268964015,30.635443158056148,10),color:Cesium.Color.LIGHTGREEN.withAlpha(.8),duration:2e3,radius:1e3,border:-1,width:5})},createCircleScan(){this.passEffect.setCircleScanEffect({id:"CircleScan",position:Cesium.Cartesian3.fromDegrees(104.08985268964015,30.635443158056148,10),color:Cesium.Color.MEDIUMTURQUOISE.withAlpha(.5),duration:5e3,border:10,radius:2e3})}},beforeUnmount(){this.c_viewer=null,this.passEffect=null}},mh=fe("data-v-48ab61fd");ye("data-v-48ab61fd");const ph=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1);be();const fh=mh((i,n,r,o,s,l)=>(z(),H("div",null,[ph])));var xh=le(gh,[["render",fh],["__scopeId","data-v-48ab61fd"]]),vh=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xh});const yh={data(){return{currPosition:Cesium.Cartesian3.fromDegrees(117.224,31.819,128),roll:0,pitch:40,heading:0,xHalfAngleDef:{max:89,min:0,value:80},yHalfAngleDef:{max:2e6,min:1e5,value:7e5},HeadingDef:{max:360,min:0,value:90},PitchDef:{max:360,min:0,value:0},RollDef:{max:360,min:0,value:0}}},mounted(){this.initMap()},methods:{initMap(){const{viewer:i,customCesiumPlugin:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.customCesiumPlugin=n,this.flyToPos(),this.initPhaseControl()},flyToPos(){this.customCesiumPlugin.flyTo({position:{x:-1.5771007186109242e6,y:5851821270502206e-9,z:3447255476239793e-9},orientation:{heading:Cesium.Math.toRadians(78.17580384898336),pitch:Cesium.Math.toRadians(-29.981992162453782),roll:Cesium.Math.toRadians(.005676460617140785)}})},initPhaseControl(){const i=this;this.sensorEntity=this.customCesiumPlugin.createRadarPrimitive({position:i.currPosition,heading:i.heading,pitch:i.pitch,roll:i.roll})},xHalfAngleChange(i){this.sensorEntity.angle=i},yHalfAngleChange(i){this.sensorEntity.radius=i},HeadingChange(i){this.heading=i,this.sensorEntity._rotation.heading=Cesium.Math.toRadians(this.heading)},PitchChange(i){this.pitch=i,this.sensorEntity._rotation.pitch=Cesium.Math.toRadians(this.pitch)},RollChange(i){this.roll=i,this.sensorEntity._rotation.roll=Cesium.Math.toRadians(this.roll)}},beforeUnmount(){this.c_viewer=null,this.customCesiumPlugin=null}},bh=fe("data-v-6e3e3a62");ye("data-v-6e3e3a62");const _h={class:"phase-page"},Ch=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),wh={class:"elslider-control"},Ih={class:"block"},Ah=y("span",{class:"demonstration"},"xHalfAngle:",-1),Sh={class:"block"},Ph=y("span",{class:"demonstration"},"yHalfAngle:",-1),Mh={class:"block"},Gh=y("span",{class:"demonstration"},"Heading:",-1),Th={class:"block"},Wh=y("span",{class:"demonstration"},"Pitch:",-1),Vh={class:"block"},Rh=y("span",{class:"demonstration"},"Roll:",-1);be();const Dh=bh((i,n,r,o,s,l)=>{const c=K("el-slider");return z(),H("div",_h,[Ch,y("section",wh,[y("div",Ih,[Ah,y(c,{modelValue:s.xHalfAngleDef.value,"onUpdate:modelValue":n[1]||(n[1]=u=>s.xHalfAngleDef.value=u),max:s.xHalfAngleDef.max,min:s.xHalfAngleDef.min,onChange:l.xHalfAngleChange},null,8,["modelValue","max","min","onChange"])]),y("div",Sh,[Ph,y(c,{modelValue:s.yHalfAngleDef.value,"onUpdate:modelValue":n[2]||(n[2]=u=>s.yHalfAngleDef.value=u),max:s.yHalfAngleDef.max,min:s.yHalfAngleDef.min,onChange:l.yHalfAngleChange},null,8,["modelValue","max","min","onChange"])]),y("div",Mh,[Gh,y(c,{modelValue:s.HeadingDef.value,"onUpdate:modelValue":n[3]||(n[3]=u=>s.HeadingDef.value=u),max:s.HeadingDef.max,min:s.HeadingDef.min,onChange:l.HeadingChange},null,8,["modelValue","max","min","onChange"])]),y("div",Th,[Wh,y(c,{modelValue:s.PitchDef.value,"onUpdate:modelValue":n[4]||(n[4]=u=>s.PitchDef.value=u),max:s.PitchDef.max,min:s.PitchDef.min,onChange:l.PitchChange},null,8,["modelValue","max","min","onChange"])]),y("div",Vh,[Rh,y(c,{modelValue:s.RollDef.value,"onUpdate:modelValue":n[5]||(n[5]=u=>s.RollDef.value=u),max:s.RollDef.max,min:s.RollDef.min,onChange:l.RollChange},null,8,["modelValue","max","min","onChange"])])])])});var Fh=le(yh,[["render",Dh],["__scopeId","data-v-6e3e3a62"]]),Zh=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Fh});const Bh={data(){return{currPosition:Cesium.Cartesian3.fromDegrees(117.224,31.819,128),roll:0,pitch:40,heading:0,menuList:[{label:"X\u8F74\u5E73\u79FB\u3010+\u3011",flag:"X-Translation-Plus",bindVal:{max:1e3,min:0,value:0}},{label:"Y\u8F74\u5E73\u79FB\u3010+\u3011",flag:"Y-Translation-Plus",bindVal:{max:1e3,min:0,value:0}},{label:"Z\u8F74\u5E73\u79FB\u3010+\u3011",flag:"Z-Translation-Plus",bindVal:{max:0,min:-1e3,value:-1e3}},{label:"X\u8F74\u5E73\u79FB\u3010-\u3011",flag:"X-Translation-Minus",bindVal:{max:0,min:-1e3,value:-1e3}},{label:"Y\u8F74\u5E73\u79FB\u3010-\u3011",flag:"Y-Translation-Minus",bindVal:{max:0,min:-1e3,value:-1e3}},{label:"Z\u8F74\u5E73\u79FB\u3010-\u3011",flag:"Z-Translation-Minus",bindVal:{max:3,min:1,value:1}},{label:"X\u65CB\u8F6C\u3010+\u3011",flag:"X-Rotate-plus",bindVal:{max:3,min:1,value:1}},{label:"Y\u65CB\u8F6C\u3010+\u3011",flag:"Y-Rotate-plus",bindVal:{max:3,min:1,value:1}},{label:"Z\u65CB\u8F6C\u3010+\u3011",flag:"Z-Rotate-Plus",bindVal:{max:-1,min:-3,value:-3}},{label:"X\u65CB\u8F6C\u3010-\u3011",flag:"X-Rotate-Minus",bindVal:{max:-1,min:-3,value:-3}},{label:"Y\u65CB\u8F6C\u3010-\u3011",flag:"Y-Rotate-Minus",bindVal:{max:-1,min:-3,value:-3}},{label:"Z\u65CB\u8F6C\u3010-\u3011",flag:"Z-Rotate-Minus",bindVal:{max:-1,min:-3,value:-3}}]}},mounted(){this.initMap()},methods:{initMap(){const{viewer:i,primitive:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.primitive=n,this.flyToPos(),this.initPhaseControl()},flyToPos(){this.primitive.flyTo({position:{x:-1.5771007186109242e6,y:5851821270502206e-9,z:3447255476239793e-9},orientation:{heading:Cesium.Math.toRadians(78.17580384898336),pitch:Cesium.Math.toRadians(-29.981992162453782),roll:Cesium.Math.toRadians(.005676460617140785)}})},initPhaseControl(){const i=this;this.Probing=new Cesium.Scene.ProbingPrimitive({center:i.currPosition,thickness:.8,repeat:20})},sliderChanger(i,n){const r=this.Probing;let o=null,s=null,l=null;switch(i){case"X-Translation-Plus":o=Cesium.Matrix4.fromTranslation(new Cesium.Cartesian3(n,0,0)),Cesium.Matrix4.multiply(r._radar.modelMatrix,o,r._radar.modelMatrix);break;case"Y-Translation-Plus":o=Cesium.Matrix4.fromTranslation(new Cesium.Cartesian3(0,n,0)),Cesium.Matrix4.multiply(r._radar.modelMatrix,o,r._radar.modelMatrix);break;case"Z-Translation-Plus":o=Cesium.Matrix4.fromTranslation(new Cesium.Cartesian3(0,0,n)),Cesium.Matrix4.multiply(r._radar.modelMatrix,o,r._radar.modelMatrix);break;case"X-Translation-Minus":o=Cesium.Matrix4.fromTranslation(new Cesium.Cartesian3(n,0,0)),Cesium.Matrix4.multiply(r._radar.modelMatrix,o,r._radar.modelMatrix);break;case"Y-Translation-Minus":o=Cesium.Matrix4.fromTranslation(new Cesium.Cartesian3(0,n,0)),Cesium.Matrix4.multiply(r._radar.modelMatrix,o,r._radar.modelMatrix);break;case"Z-Translation-Minus":o=Cesium.Matrix4.fromTranslation(new Cesium.Cartesian3(0,0,n)),Cesium.Matrix4.multiply(r._radar.modelMatrix,o,r._radar.modelMatrix);break;case"X-Rotate-Plus":s=Cesium.Matrix3.fromRotationX(Cesium.Math.toRadians(n)),l=Cesium.Matrix4.fromRotationTranslation(s),Cesium.Matrix4.multiply(r._radar.modelMatrix,l,r._radar.modelMatrix);break;case"Y-Rotate-Plus":s=Cesium.Matrix3.fromRotationY(Cesium.Math.toRadians(n)),l=Cesium.Matrix4.fromRotationTranslation(s),Cesium.Matrix4.multiply(r._radar.modelMatrix,l,r._radar.modelMatrix);break;case"Z-Rotate-Plus":s=Cesium.Matrix3.fromRotationZ(Cesium.Math.toRadians(n)),l=Cesium.Matrix4.fromRotationTranslation(s),Cesium.Matrix4.multiply(r._radar.modelMatrix,l,r._radar.modelMatrix);break;case"X-Rotate-Minus":s=Cesium.Matrix3.fromRotationX(Cesium.Math.toRadians(n)),l=Cesium.Matrix4.fromRotationTranslation(s),Cesium.Matrix4.multiply(r._radar.modelMatrix,l,r._radar.modelMatrix);break;case"Y-Rotate-Minus":s=Cesium.Matrix3.fromRotationY(Cesium.Math.toRadians(n)),l=Cesium.Matrix4.fromRotationTranslation(s),Cesium.Matrix4.multiply(r._radar.modelMatrix,l,r._radar.modelMatrix);break;case"Z-Rotate-Minus":s=Cesium.Matrix3.fromRotationZ(Cesium.Math.toRadians(n)),l=Cesium.Matrix4.fromRotationTranslation(s),Cesium.Matrix4.multiply(r._radar.modelMatrix,l,r._radar.modelMatrix);break}}},beforeUnmount(){this.c_viewer=null,this.customCesiumPlugin=null}},kh=fe("data-v-16548166");ye("data-v-16548166");const Eh={class:"phase-page"},Nh=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),Lh={class:"elslider-control"},Xh={class:"demonstration"};be();const zh=kh((i,n,r,o,s,l)=>{const c=K("el-slider");return z(),H("div",Eh,[Nh,y("section",Lh,[(z(!0),H(qe,null,nt(s.menuList,(u,d)=>(z(),H("div",{class:"block",key:d},[y("span",Xh,Ce(u.label),1),y(c,{modelValue:u.bindVal.value,"onUpdate:modelValue":g=>u.bindVal.value=g,max:u.bindVal.max,min:u.bindVal.min,onChange:g=>l.sliderChanger(u.flag,g)},null,8,["modelValue","onUpdate:modelValue","max","min","onChange"])]))),128))])])});var Hh=le(Bh,[["render",zh],["__scopeId","data-v-16548166"]]),Uh=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Hh});const $h={data(){return{currPosition:Cesium.Cartesian3.fromDegrees(117.224,31.819,128),roll:0,pitch:0,heading:90,xHalfAngleDef:{max:90,min:0,value:55},yHalfAngleDef:{max:90,min:0,value:0},HeadingDef:{max:360,min:0,value:90},PitchDef:{max:360,min:0,value:0},RollDef:{max:360,min:0,value:0}}},mounted(){this.initMap()},methods:{initMap(){const{viewer:i,customCesiumPlugin:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.customCesiumPlugin=n,this.flyToPos(),this.initPhaseControl()},flyToPos(){this.customCesiumPlugin.flyTo({position:{x:-1.5771007186109242e6,y:5851821270502206e-9,z:3447255476239793e-9},orientation:{heading:Cesium.Math.toRadians(78.17580384898336),pitch:Cesium.Math.toRadians(-29.981992162453782),roll:Cesium.Math.toRadians(.005676460617140785)}})},initPhaseControl(){const i=this;this.sensorEntity=this.customCesiumPlugin.createRectangularSensorGraphics({position:i.currPosition,heading:i.heading,pitch:i.pitch,roll:i.roll})},xHalfAngleChange(i){this.sensorEntity.rectangularSensor.xHalfAngle=Cesium.Math.toRadians(i)},yHalfAngleChange(i){this.sensorEntity.rectangularSensor.yHalfAngle=Cesium.Math.toRadians(i)},HeadingChange(i){const n=this;n.heading=i,n.sensorEntity.orientation=Cesium.Transforms.headingPitchRollQuaternion(n.currPosition,new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(n.heading),Cesium.Math.toRadians(n.pitch),Cesium.Math.toRadians(n.roll)))},PitchChange(i){const n=this;n.pitch=i,n.sensorEntity.orientation=Cesium.Transforms.headingPitchRollQuaternion(n.currPosition,new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(n.heading),Cesium.Math.toRadians(n.pitch),Cesium.Math.toRadians(n.roll)))},RollChange(i){const n=this;this.roll=i,this.sensorEntity.orientation=Cesium.Transforms.headingPitchRollQuaternion(n.currPosition,new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(n.heading),Cesium.Math.toRadians(n.pitch),Cesium.Math.toRadians(n.roll)))}},beforeUnmount(){this.c_viewer=null,this.customCesiumPlugin=null}},Yh=fe("data-v-837c1fbe");ye("data-v-837c1fbe");const Oh={class:"phase-page"},jh=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),Qh={class:"elslider-control"},Jh={class:"block"},Kh=y("span",{class:"demonstration"},"xHalfAngle:",-1),qh={class:"block"},eu=y("span",{class:"demonstration"},"yHalfAngle:",-1),tu={class:"block"},iu=y("span",{class:"demonstration"},"Heading:",-1),au={class:"block"},nu=y("span",{class:"demonstration"},"Pitch:",-1),ru={class:"block"},ou=y("span",{class:"demonstration"},"Roll:",-1);be();const su=Yh((i,n,r,o,s,l)=>{const c=K("el-slider");return z(),H("div",Oh,[jh,y("section",Qh,[y("div",Jh,[Kh,y(c,{modelValue:s.xHalfAngleDef.value,"onUpdate:modelValue":n[1]||(n[1]=u=>s.xHalfAngleDef.value=u),max:s.xHalfAngleDef.max,min:s.xHalfAngleDef.min,onChange:l.xHalfAngleChange},null,8,["modelValue","max","min","onChange"])]),y("div",qh,[eu,y(c,{modelValue:s.yHalfAngleDef.value,"onUpdate:modelValue":n[2]||(n[2]=u=>s.yHalfAngleDef.value=u),max:s.yHalfAngleDef.max,min:s.yHalfAngleDef.min,onChange:l.yHalfAngleChange},null,8,["modelValue","max","min","onChange"])]),y("div",tu,[iu,y(c,{modelValue:s.HeadingDef.value,"onUpdate:modelValue":n[3]||(n[3]=u=>s.HeadingDef.value=u),max:s.HeadingDef.max,min:s.HeadingDef.min,onChange:l.HeadingChange},null,8,["modelValue","max","min","onChange"])]),y("div",au,[nu,y(c,{modelValue:s.PitchDef.value,"onUpdate:modelValue":n[4]||(n[4]=u=>s.PitchDef.value=u),max:s.PitchDef.max,min:s.PitchDef.min,onChange:l.PitchChange},null,8,["modelValue","max","min","onChange"])]),y("div",ru,[ou,y(c,{modelValue:s.RollDef.value,"onUpdate:modelValue":n[5]||(n[5]=u=>s.RollDef.value=u),max:s.RollDef.max,min:s.RollDef.min,onChange:l.RollChange},null,8,["modelValue","max","min","onChange"])])])])});var lu=le($h,[["render",su],["__scopeId","data-v-837c1fbe"]]),cu=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lu});const hu={data(){return{currPosition:Cesium.Cartesian3.fromDegrees(117.224,31.819,128),roll:0,pitch:0,heading:90,xHalfAngleDef:{max:90,min:0,value:55},yHalfAngleDef:{max:90,min:0,value:0},HeadingDef:{max:360,min:0,value:90},PitchDef:{max:360,min:0,value:0},RollDef:{max:360,min:0,value:0}}},mounted(){this.initMap()},methods:{initMap(){const{viewer:i,customCesiumPlugin:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.customCesiumPlugin=n,this.flyToPos(),this.initPhaseControl()},flyToPos(){this.customCesiumPlugin.flyTo({position:{x:-1.5771007186109242e6,y:5851821270502206e-9,z:3447255476239793e-9},orientation:{heading:Cesium.Math.toRadians(78.17580384898336),pitch:Cesium.Math.toRadians(-29.981992162453782),roll:Cesium.Math.toRadians(.005676460617140785)}})},initPhaseControl(){const i=this;this.sensorEntity=this.customCesiumPlugin.createRectangularSensorGraphics({position:i.currPosition,xHalfAngle:90,yHalfAngle:90,heading:i.heading,pitch:i.pitch,roll:i.roll,scanPlaneColor:new Cesium.Color(1,1,1.5,1),material:new Cesium.Color(1,1,1.5,.4),lineColor:new Cesium.Color(1,1,1.5,1)})},xHalfAngleChange(i){this.sensorEntity.rectangularSensor.xHalfAngle=Cesium.Math.toRadians(i)},yHalfAngleChange(i){this.sensorEntity.rectangularSensor.yHalfAngle=Cesium.Math.toRadians(i)},HeadingChange(i){const n=this;n.heading=i,n.sensorEntity.orientation=Cesium.Transforms.headingPitchRollQuaternion(n.currPosition,new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(n.heading),Cesium.Math.toRadians(n.pitch),Cesium.Math.toRadians(n.roll)))},PitchChange(i){const n=this;n.pitch=i,n.sensorEntity.orientation=Cesium.Transforms.headingPitchRollQuaternion(n.currPosition,new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(n.heading),Cesium.Math.toRadians(n.pitch),Cesium.Math.toRadians(n.roll)))},RollChange(i){const n=this;this.roll=i,this.sensorEntity.orientation=Cesium.Transforms.headingPitchRollQuaternion(n.currPosition,new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(n.heading),Cesium.Math.toRadians(n.pitch),Cesium.Math.toRadians(n.roll)))}},beforeUnmount(){this.c_viewer=null,this.customCesiumPlugin=null}},uu=fe("data-v-3077bcb4");ye("data-v-3077bcb4");const du={class:"phase-page"},gu=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),mu={class:"elslider-control"},pu={class:"block"},fu=y("span",{class:"demonstration"},"xHalfAngle:",-1),xu={class:"block"},vu=y("span",{class:"demonstration"},"yHalfAngle:",-1),yu={class:"block"},bu=y("span",{class:"demonstration"},"Heading:",-1),_u={class:"block"},Cu=y("span",{class:"demonstration"},"Pitch:",-1),wu={class:"block"},Iu=y("span",{class:"demonstration"},"Roll:",-1);be();const Au=uu((i,n,r,o,s,l)=>{const c=K("el-slider");return z(),H("div",du,[gu,y("section",mu,[y("div",pu,[fu,y(c,{modelValue:s.xHalfAngleDef.value,"onUpdate:modelValue":n[1]||(n[1]=u=>s.xHalfAngleDef.value=u),max:s.xHalfAngleDef.max,min:s.xHalfAngleDef.min,onChange:l.xHalfAngleChange},null,8,["modelValue","max","min","onChange"])]),y("div",xu,[vu,y(c,{modelValue:s.yHalfAngleDef.value,"onUpdate:modelValue":n[2]||(n[2]=u=>s.yHalfAngleDef.value=u),max:s.yHalfAngleDef.max,min:s.yHalfAngleDef.min,onChange:l.yHalfAngleChange},null,8,["modelValue","max","min","onChange"])]),y("div",yu,[bu,y(c,{modelValue:s.HeadingDef.value,"onUpdate:modelValue":n[3]||(n[3]=u=>s.HeadingDef.value=u),max:s.HeadingDef.max,min:s.HeadingDef.min,onChange:l.HeadingChange},null,8,["modelValue","max","min","onChange"])]),y("div",_u,[Cu,y(c,{modelValue:s.PitchDef.value,"onUpdate:modelValue":n[4]||(n[4]=u=>s.PitchDef.value=u),max:s.PitchDef.max,min:s.PitchDef.min,onChange:l.PitchChange},null,8,["modelValue","max","min","onChange"])]),y("div",wu,[Iu,y(c,{modelValue:s.RollDef.value,"onUpdate:modelValue":n[5]||(n[5]=u=>s.RollDef.value=u),max:s.RollDef.max,min:s.RollDef.min,onChange:l.RollChange},null,8,["modelValue","max","min","onChange"])])])])});var Su=le(hu,[["render",Au],["__scopeId","data-v-3077bcb4"]]),Pu=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Su});const Mu={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,passEffect:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.passEffect=n,this.passEffect.setDefSceneConfig(),this.passEffect.setBloomLightScene();let r=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));r.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.c_viewer.flyTo(r),this.createRadarScan()},createRadarScan(){this.passEffect.setRadarScanEffect({id:"radarScanA",position:Cesium.Cartesian3.fromDegrees(104.08985268964015,30.635443158056148,10),color:Cesium.Color.LIGHTGREEN.withAlpha(.8),duration:2e3,radius:1e3,border:-1,width:5})}},beforeUnmount(){this.c_viewer=null,this.passEffect=null}},Gu=fe("data-v-c7697e5e");ye("data-v-c7697e5e");const Tu=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1);be();const Wu=Gu((i,n,r,o,s,l)=>(z(),H("div",null,[Tu])));var Vu=le(Mu,[["render",Wu],["__scopeId","data-v-c7697e5e"]]),Ru=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Vu});const Du={data(){return{currPosition:Cesium.Cartesian3.fromDegrees(117.224,31.819,1e5),roll:0,pitch:0,heading:0,xHalfAngleDef:{max:90,min:0,value:30},yHalfAngleDef:{max:90,min:0,value:45},HeadingDef:{max:360,min:0,value:90},PitchDef:{max:360,min:0,value:0},RollDef:{max:360,min:0,value:0}}},mounted(){this.initMap()},methods:{initMap(){const{viewer:i,customCesiumPlugin:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.customCesiumPlugin=n,this.flyToPos(),this.initPhaseControl()},flyToPos(){this.customCesiumPlugin.flyTo({position:{x:-1.5771007186109242e6,y:5851821270502206e-9,z:3447255476239793e-9},orientation:{heading:Cesium.Math.toRadians(78.17580384898336),pitch:Cesium.Math.toRadians(-29.981992162453782),roll:Cesium.Math.toRadians(.005676460617140785)}})},initPhaseControl(){const i=this;this.sensorEntity=this.customCesiumPlugin.createSatelliteCoverageSimulationGraphics({position:i.currPosition,heading:i.heading,pitch:i.pitch,roll:i.roll})},xHalfAngleChange(i){this.sensorEntity.angle1=i},yHalfAngleChange(i){this.sensorEntity.angle1=i},HeadingChange(i){this.heading=i,this.sensorEntity._rotation.heading=Cesium.Math.toRadians(this.heading)},PitchChange(i){this.pitch=i,this.sensorEntity._rotation.pitch=Cesium.Math.toRadians(this.pitch)},RollChange(i){this.roll=i,this.sensorEntity._rotation.roll=Cesium.Math.toRadians(this.roll)}},beforeUnmount(){this.c_viewer=null,this.customCesiumPlugin=null}},Fu=fe("data-v-837384ea");ye("data-v-837384ea");const Zu={class:"phase-page"},Bu=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),ku={class:"elslider-control"},Eu={class:"block"},Nu=y("span",{class:"demonstration"},"xHalfAngle:",-1),Lu={class:"block"},Xu=y("span",{class:"demonstration"},"yHalfAngle:",-1),zu={class:"block"},Hu=y("span",{class:"demonstration"},"Heading:",-1),Uu={class:"block"},$u=y("span",{class:"demonstration"},"Pitch:",-1),Yu={class:"block"},Ou=y("span",{class:"demonstration"},"Roll:",-1);be();const ju=Fu((i,n,r,o,s,l)=>{const c=K("el-slider");return z(),H("div",Zu,[Bu,y("section",ku,[y("div",Eu,[Nu,y(c,{modelValue:s.xHalfAngleDef.value,"onUpdate:modelValue":n[1]||(n[1]=u=>s.xHalfAngleDef.value=u),max:s.xHalfAngleDef.max,min:s.xHalfAngleDef.min,onChange:l.xHalfAngleChange},null,8,["modelValue","max","min","onChange"])]),y("div",Lu,[Xu,y(c,{modelValue:s.yHalfAngleDef.value,"onUpdate:modelValue":n[2]||(n[2]=u=>s.yHalfAngleDef.value=u),max:s.yHalfAngleDef.max,min:s.yHalfAngleDef.min,onChange:l.yHalfAngleChange},null,8,["modelValue","max","min","onChange"])]),y("div",zu,[Hu,y(c,{modelValue:s.HeadingDef.value,"onUpdate:modelValue":n[3]||(n[3]=u=>s.HeadingDef.value=u),max:s.HeadingDef.max,min:s.HeadingDef.min,onChange:l.HeadingChange},null,8,["modelValue","max","min","onChange"])]),y("div",Uu,[$u,y(c,{modelValue:s.PitchDef.value,"onUpdate:modelValue":n[4]||(n[4]=u=>s.PitchDef.value=u),max:s.PitchDef.max,min:s.PitchDef.min,onChange:l.PitchChange},null,8,["modelValue","max","min","onChange"])]),y("div",Yu,[Ou,y(c,{modelValue:s.RollDef.value,"onUpdate:modelValue":n[5]||(n[5]=u=>s.RollDef.value=u),max:s.RollDef.max,min:s.RollDef.min,onChange:l.RollChange},null,8,["modelValue","max","min","onChange"])])])])});var Qu=le(Du,[["render",ju],["__scopeId","data-v-837384ea"]]),Ju=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qu});let At=null,ci=!0;const Ku={data(){return{activeId:"light"}},mounted(){this.initMap()},methods:{initMap(){const i=[{id:3,name:"\u9AD8\u5FB7\u5730\u56FE02",type:"UrlTemplateImageryProvider",classConfig:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"},interfaceConfig:{},offset:"0,0",invertswitch:0,filterRGB:"#ffffff",showswitch:1,weigh:13,createtime:1624346908,updatetime:1647395260}],{viewer:n,material:r,graphics:o,math3d:s}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},i);this.c_viewer=n,this.material=r,this.graphics=o,this.math3d=s,this.flyto(),this.sky1("light"),this.addListenerToScene()},flyto(){this.material.setView({position:Cesium.Cartesian3.fromDegrees(120.380788,31.066719,12136),orientation:{heading:Cesium.Math.toRadians(0),pitch:Cesium.Math.toRadians(-30),roll:Cesium.Math.toRadians(0)}})},sky1(i){this.activeId=i,At=this.material.setOneGroundSkyBox(),this.c_viewer.scene.skyBox=At,this.c_viewer.scene.skyAtmosphere.show=!1},sky2(i){this.activeId=i,At=this.material.setTwoGroundSkyBox(),this.c_viewer.scene.skyBox=At,this.c_viewer.scene.skyAtmosphere.show=!1},sky3(i){this.activeId=i,At=this.material.setThreeGroundSkyBox(),this.c_viewer.scene.skyBox=At,this.c_viewer.scene.skyAtmosphere.show=!1},addListenerToScene(){this.c_viewer.scene.camera.moveEnd.addEventListener(i=>{let n=this.material.getCameraPosition();!n.height||(1e5<=n.height?ci&&(this.c_viewer.scene.skyBox=this.material.setOneSkyBox(),this.c_viewer.scene.skyAtmosphere.show=!0,ci=!1):1e5>n.height&&(ci||(this.c_viewer.scene.skyBox=At,this.c_viewer.scene.skyAtmosphere.show=!1,ci=!0)))})}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},Vi=fe("data-v-4e144270");ye("data-v-4e144270");const qu={class:"sky-box"},ed=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),td=y("div",{class:"card-header"},[y("span",null,"\u8FD1\u666F\u5929\u7A7A\u76D2")],-1);be();const id=Vi((i,n,r,o,s,l)=>{const c=K("el-card");return z(),H("div",qu,[ed,y(c,{class:"box-card"},{header:Vi(()=>[td]),default:Vi(()=>[y("div",{class:["text item",s.activeId==="light"?"active":""],onClick:n[1]||(n[1]=u=>l.sky1("light"))},"\u6674\u5929",2),y("div",{class:["text item",s.activeId==="late"?"active":""],onClick:n[2]||(n[2]=u=>l.sky2("late"))},"\u665A\u971E",2),y("div",{class:["text item",s.activeId==="blue"?"active":""],onClick:n[3]||(n[3]=u=>l.sky3("blue"))},"\u84DD\u5929",2)]),_:1})])});var ad=le(Ku,[["render",id],["__scopeId","data-v-4e144270"]]),nd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ad});const rd={data(){return{activeId:"light"}},mounted(){this.initMap()},methods:{initMap(){const{viewer:i,control:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.control=n;let r=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));r.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.c_viewer.flyTo(r);let o=this.c_viewer.imageryLayers.addImageryProvider(new Cesium.Scene.GoogleImageryProvider({}));this.control.showLayerParamPanel(o,{elementId:"cust-gui-box"})}},beforeUnmount(){this.c_viewer=null,this.control=null}},od=fe("data-v-ade3ea6a");ye("data-v-ade3ea6a");const sd={class:"sky-box"},ld=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),cd=y("div",{class:"cust-gui-box",id:"cust-gui-box"},null,-1);be();const hd=od((i,n,r,o,s,l)=>(z(),H("div",sd,[ld,cd])));var ud=le(rd,[["render",hd],["__scopeId","data-v-ade3ea6a"]]),dd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ud});const gd={data(){return{activeId:"light"}},mounted(){this.initMap()},methods:{initMap(){const i=[{id:3,name:"\u9AD8\u5FB7\u5730\u56FE02",type:"UrlTemplateImageryProvider",classConfig:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"},interfaceConfig:{},offset:"0,0",invertswitch:0,filterRGB:"#ffffff",showswitch:1,weigh:13,createtime:1624346908,updatetime:1647395260}],{viewer:n,control:r}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},i);this.c_viewer=n,this.control=r,this.control.setDefSceneConfig(),this.control.setBloomLightScene();let o=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));o.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.c_viewer.flyTo(o),this.control.showPostProcessStagesPanel({elementId:"cust-gui-box"})}},beforeUnmount(){this.c_viewer=null,this.control=null}},md=fe("data-v-c1f8c7c4");ye("data-v-c1f8c7c4");const pd={class:"sky-box"},fd=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),xd=y("div",{class:"cust-gui-box",id:"cust-gui-box"},null,-1);be();const vd=md((i,n,r,o,s,l)=>(z(),H("div",pd,[fd,xd])));var yd=le(gd,[["render",vd],["__scopeId","data-v-c1f8c7c4"]]),bd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yd});const _d={data(){return{activeId:"light"}},mounted(){this.initMap()},methods:{initMap(){const i=[{id:3,name:"\u9AD8\u5FB7\u5730\u56FE02",type:"UrlTemplateImageryProvider",classConfig:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"},interfaceConfig:{},offset:"0,0",invertswitch:0,filterRGB:"#ffffff",showswitch:1,weigh:13,createtime:1624346908,updatetime:1647395260}],{viewer:n,material:r}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},i);this.c_viewer=n,this.material=r;let o=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));o.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.c_viewer.flyTo(o),this.material.setRainEffect()}},beforeUnmount(){this.c_viewer=null,this.material=null}},Cd=fe("data-v-74404641");ye("data-v-74404641");const wd={class:"sky-box"},Id=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1);be();const Ad=Cd((i,n,r,o,s,l)=>(z(),H("div",wd,[Id])));var Sd=le(_d,[["render",Ad],["__scopeId","data-v-74404641"]]),Pd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Sd});const Md={data(){return{activeId:"light"}},mounted(){this.initMap()},methods:{initMap(){const i=[{id:3,name:"\u9AD8\u5FB7\u5730\u56FE02",type:"UrlTemplateImageryProvider",classConfig:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"},interfaceConfig:{},offset:"0,0",invertswitch:0,filterRGB:"#ffffff",showswitch:1,weigh:13,createtime:1624346908,updatetime:1647395260}],{viewer:n,control:r}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},i);this.c_viewer=n,this.control=r;let o=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));o.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.c_viewer.flyTo(o),this.control.showSceneBloomPanel({elementId:"cust-gui-box"})}},beforeUnmount(){this.c_viewer=null,this.control=null}},Gd=fe("data-v-d966e1d6");ye("data-v-d966e1d6");const Td={class:"sky-box"},Wd=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),Vd=y("div",{class:"cust-gui-box",id:"cust-gui-box"},null,-1);be();const Rd=Gd((i,n,r,o,s,l)=>(z(),H("div",Td,[Wd,Vd])));var Dd=le(Md,[["render",Rd],["__scopeId","data-v-d966e1d6"]]),Fd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Dd});const Zd={data(){return{activeId:"light"}},mounted(){this.initMap()},methods:{initMap(){const i=[{id:3,name:"\u9AD8\u5FB7\u5730\u56FE02",type:"UrlTemplateImageryProvider",classConfig:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"},interfaceConfig:{},offset:"0,0",invertswitch:0,filterRGB:"#ffffff",showswitch:1,weigh:13,createtime:1624346908,updatetime:1647395260}],{viewer:n,material:r}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},i);this.c_viewer=n,this.material=r;let o=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));o.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),this.c_viewer.flyTo(o),this.material.setSnowEffect()}},beforeUnmount(){this.c_viewer=null,this.material=null}},Bd=fe("data-v-6f9638c1");ye("data-v-6f9638c1");const kd={class:"sky-box"},Ed=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1);be();const Nd=Bd((i,n,r,o,s,l)=>(z(),H("div",kd,[Ed])));var Ld=le(Zd,[["render",Nd],["__scopeId","data-v-6f9638c1"]]),Xd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ld});const zd={name:"docmanage",setup(){}},Hd=fe("data-v-1cd9dff6"),Ud=Hd((i,n,r,o,s,l)=>(z(),H("div",null,"system manage >> auth")));var $d=le(zd,[["render",Ud],["__scopeId","data-v-1cd9dff6"]]),Yd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$d});const Od={name:"codeReg",setup(){}},jd=fe("data-v-60b4bf46"),Qd=jd((i,n,r,o,s,l)=>(z(),H("div",null,"system manage >> code regular")));var Jd=le(Od,[["render",Qd],["__scopeId","data-v-60b4bf46"]]),Kd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jd});const qd={name:"docmanage",setup(){}},eg=fe("data-v-fe6e6d0e"),tg=eg((i,n,r,o,s,l)=>(z(),H("div",null,"system manage >> config")));var ig=le(qd,[["render",tg],["__scopeId","data-v-fe6e6d0e"]]),ag=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ig});const ng={name:"docmanage",setup(){}},rg=fe("data-v-5daadb28"),og=rg((i,n,r,o,s,l)=>(z(),H("div",null,"system manage\u300B log ")));var sg=le(ng,[["render",og],["__scopeId","data-v-5daadb28"]]),lg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sg});class cg{constructor(){this.initBaseVar()}initBaseVar(){var n=[2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066],r=un("EPSG:4326");this.projectionExtent=r.getExtent();for(var o=dn(this.projectionExtent)/256,n=[],s=2;s<19;++s)n[s]=o/Math.pow(2,s);this.resolutions=n,this.laymap=new Map,this.nowLayer=null,this.layerId=[],this.geometryObj=null,this.drawObj=null,this.drawing=!1,this.wktStr=null}mousePositionControl(){return new gn({coordinateFormat:mn(8),projection:"EPSG:4326",className:"custom-mouse-position",target:document.getElementById("mouse-position"),undefinedHTML:"&nbsp"})}initMap(n,r){const o=Fe({center:[119.571419,33.55001],zoom:6,minZoom:4,maxZoom:20,projection:"EPSG:4326"},r);var s=new pn(o),l=new fn({controls:xn().extend([new vn,this.mousePositionControl()]),interactions:yn().extend([new bn]),layers:this.initLayers(),view:s,target:n,logo:!1});this.map=l}initLayers(){var n=new _n({}),r=new Cn({source:n});this.vecLayerObj=this.vecLayer(),this.cvaLayerObj=this.cvaLayer();var o=[this.vecLayerObj,this.cvaLayerObj,r];return o}vecLayer(){return new Ji({source:new Ki({name:"\u4E2D\u56FD\u77E2\u91CF",url:"https://t0.tianditu.gov.cn/vec_c/wmts?tk=7eb11c0c503429878691ac917238f87f",layer:"vec",style:"default",matrixSet:"c",format:"tiles",wrapX:!0,crossOrigin:"anonymous",tileGrid:new qi({origin:ea(this.projectionExtent),resolutions:this.resolutions,matrixIds:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]})}),visible:!0})}cvaLayer(){return new Ji({source:new Ki({name:"\u4E2D\u56FD\u77E2\u91CF\u6CE8\u8BB01-4\u7EA7",url:"https://t0.tianditu.gov.cn/cva_c/wmts?tk=7eb11c0c503429878691ac917238f87f",layer:"cva",style:"default",matrixSet:"c",format:"tiles",wrapX:!0,crossOrigin:"anonymous",tileGrid:new qi({origin:ea(this.projectionExtent),resolutions:this.resolutions,matrixIds:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]})}),visible:!0})}}const hg=new cg,ug=$e({name:"v2dpage",setup(){mt(()=>{hg.initMap("dataManageMap",{projection:"EPSG:4326"})})}}),dg=fe("data-v-2df1d9d3");ye("data-v-2df1d9d3");const gg={id:"dataManageMap",class:"map2d-container"};be();const mg=dg((i,n,r,o,s,l)=>(z(),H("div",gg)));var pg=le(ug,[["render",mg],["__scopeId","data-v-2df1d9d3"]]),Ga=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pg});Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI4NzNiMDhkOS0wMWVkLTQ1MDYtOTE5Zi1iNjVmNzU1YzdlYzEiLCJpZCI6MTIxODIsImlhdCI6MTYzNDgyMTQwNX0.KS4Fov-Kdyfr7lxby8WHSUoYipl2XK5zhf204iwQJNE";const fg=$e({name:"v3dpage",setup(){return xg(),zt(()=>{}),{}}});function xg(){mt(()=>{const i=new Cesium.Viewer("cesiumContainer",{animation:!1,timeline:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,selectionIndicator:!1,shadow:!0,sceneMode:Cesium.SceneMode.SCENE3D,infoBox:!1,sceneModePicker:!1,navigationHelpButton:!1,projectionPicker:!1,baseLayerPicker:!1,shouldAnimate:!0,navigation:!1,showRenderLoopErrors:!1,terrainProvider:Cesium.createWorldTerrain()});i._cesiumWidget._creditContainer.style.display="none",i.scene.globe.depthTestAgainstTerrain=!0,i.scene.primitives.add(Cesium.createOsmBuildings()),i.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(-122.4175,37.655,400),orientation:{heading:Cesium.Math.toRadians(0),pitch:Cesium.Math.toRadians(-15)}})})}const vg=fe("data-v-6d3d1411");ye("data-v-6d3d1411");const yg={id:"cesiumContainer"};be();const bg=vg((i,n,r,o,s,l)=>(z(),H("div",yg)));var _g=le(fg,[["render",bg],["__scopeId","data-v-6d3d1411"]]),Ta=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_g});const Cg={mounted(){this.initMap()},methods:{initMap(){const{viewer:i,analysis:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0,depthTest:!0,imageryProvider:new Cesium.ArcGisMapServerImageryProvider({url:"https://server.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer?f=jsapi"}),terrainProvider:new Cesium.ArcGISTiledElevationTerrainProvider({url:"https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer"})},[]);this.c_viewer=i,this.analysis=n,this.flyTo()},flyTo(){this.analysis.setView({position:new Cesium.Cartesian3(-1.3370357496454942e6,5285202940044943e-9,3305373990594733e-9),orientation:{heading:6.108097731064569,pitch:-.15254104473396812,roll:6.283157460498558}})},VisibilityAnalysis(){this.analysis.createVisibilityAnalysis()},lookAroundAnalysis(){this.analysis.createLookAroundAnalysis()},visualFieldAnalysis(){this.analysis.createVisualFieldAnalysis()},clipPlanAnalysis(){this.analysis.createClipPlanAnalysis()},submergedAnalysis(){this.analysis.createSubmergedAnalysis()},slopeAnalysis(){this.analysis.createSlopeAnalysis()},cutVolumeAnalysis(){this.analysis.createCutVolumeAnalysis()}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},ut=fe("data-v-cce23de2");ye("data-v-cce23de2");const wg={class:"analysis-plane"},Ig=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),Ag=y("div",{class:"card-header"},[y("span",null,"\u5206\u6790\u9762\u677F")],-1),Sg={class:"group-btn"},Pg=he("\u901A\u89C6\u5206\u6790"),Mg=he("\u73AF\u89C6\u5206\u6790"),Gg=he("\u53EF\u89C6\u57DF\u5206\u6790"),Tg=he("\u5730\u5F62\u5F00\u6316\u5206\u6790"),Wg=he("\u6DF9\u6CA1\u5206\u6790"),Vg=he("\u5761\u5EA6\u5206\u6790"),Rg=he(" \u65B9\u91CF\u5206\u6790");be();const Dg=ut((i,n,r,o,s,l)=>{const c=K("el-button"),u=K("el-card");return z(),H("div",wg,[Ig,y(u,{class:"box-card"},{header:ut(()=>[Ag]),default:ut(()=>[y("div",Sg,[y(c,{size:"mini",onClick:l.VisibilityAnalysis},{default:ut(()=>[Pg]),_:1},8,["onClick"]),y(c,{size:"mini",onClick:l.lookAroundAnalysis},{default:ut(()=>[Mg]),_:1},8,["onClick"]),y(c,{size:"mini",onClick:l.visualFieldAnalysis},{default:ut(()=>[Gg]),_:1},8,["onClick"]),y(c,{size:"mini",onClick:l.clipPlanAnalysis},{default:ut(()=>[Tg]),_:1},8,["onClick"]),y(c,{size:"mini",onClick:l.submergedAnalysis},{default:ut(()=>[Wg]),_:1},8,["onClick"]),y(c,{size:"mini",onClick:l.slopeAnalysis},{default:ut(()=>[Vg]),_:1},8,["onClick"]),y(c,{size:"mini",onClick:l.cutVolumeAnalysis},{default:ut(()=>[Rg]),_:1},8,["onClick"])])]),_:1})])});var Fg=le(Cg,[["render",Dg],["__scopeId","data-v-cce23de2"]]),Zg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Fg});let Ri=!1,hi=!1,xt,_t,Ot=null;const Bg={data(){return{activeId:"move",plotEntitiesId:[],menuData:[{label:"\u5E73\u79FB",value:"move"},{label:"\u65CB\u8F6C",value:"rotate"},{label:"\u7F29\u653E",value:"scale"}]}},mounted(){this.initMap()},methods:{initMap(){const{viewer:i,graphics:n}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]);this.c_viewer=i,this.graphics=n,this.definedMouseEvent(),this.initModel(i)},initModel(i){_t=this.graphics.createBoxGraphics({position:Cesium.Cartesian3.fromDegrees(-75.59777,40.03883,0),name:"box",box:{dimensions:new Cesium.Cartesian3(500,500,500),material:new Cesium.ColorMaterialProperty(new Cesium.CallbackProperty(()=>Ri&&hi?Cesium.Color.GREENYELLOW.withAlpha(.5):Cesium.Color.WHITE,!1))}}),i.flyTo(_t)},definedMouseEvent(){this.graphics.bindHandelEvent({leftDown:this.defLeftDown,mouseMove:this.defMouseMove,mouseWheel:this.defMouseWheel,leftUp:this.defLeftUp})},defMouseMove(i){const n=this.c_viewer;if(hi&&xt){let r=n.camera.getPickRay(i.endPosition),o=n.scene.globe.pick(r,n.scene);if(document.body.style.cursor="pointer",xt&&xt.id&&Ot==="move"){let s=Cesium.JulianDate.fromDate(new Date),l=_t.position.getValue(s),c=Cesium.Cartographic.fromCartesian(l),u=Number(c.height.toFixed(3));_t.position=new Cesium.CallbackProperty(()=>{let d=n.scene.globe.ellipsoid.cartesianToCartographic(o),g=Cesium.Math.toDegrees(d.longitude),x=Cesium.Math.toDegrees(d.latitude);return Cesium.Cartesian3.fromDegrees(g,x,u)},!1)}else if(xt&&xt.id&&Ot==="rotate"){let s=Cesium.JulianDate.fromDate(new Date),l=_t.position.getValue(s),c=n.scene.camera.pickEllipsoid(i.startPosition),u=n.scene.camera.pickEllipsoid(i.endPosition);const d=Cesium.Cartesian3.subtract(l,u,new Cesium.Cartesian3),g=Cesium.Cartesian3.normalize(d,new Cesium.Cartesian3);let x=Cesium.Cartesian3.subtract(c,l,new Cesium.Cartesian3),m=Cesium.Cartesian3.subtract(u,l,new Cesium.Cartesian3),v=Cesium.Cartesian3.angleBetween(x,m);const w=100,p=Cesium.Quaternion.fromAxisAngle(g,v*w);_t.orientation=p}}},defLeftDown(i){xt=this.c_viewer.scene.pick(i.position),Cesium.defined(xt)&&Ot?(Ri=!0,hi=!0):Ri=!1},defMouseWheel(i){if(xt&&xt.id&&Ot==="scale"){let n=Cesium.JulianDate.fromDate(new Date),r=_t.box.dimensions.getValue(n),o=i>0?2:.5;_t.box.dimensions=new Cesium.CallbackProperty(()=>Cesium.Cartesian3.multiplyByScalar(r,o,new Cesium.Cartesian3),!1)}},defLeftUp(i){hi=!1,document.body.style.cursor="default"},caldDistain(i){switch(this.activeId=i.value,Ot=i.value,i.value){case"move":this.c_viewer.scene.screenSpaceCameraController.enableRotate=!1,this.c_viewer.scene.screenSpaceCameraController.enableZoom=!0;break;case"rotate":this.c_viewer.scene.screenSpaceCameraController.enableRotate=!1,this.c_viewer.scene.screenSpaceCameraController.enableZoom=!0;break;case"scale":this.c_viewer.scene.screenSpaceCameraController.enableZoom=!1;break}}},beforeUnmount(){this.c_viewer=null,this.graphics=null}},ui=fe("data-v-3089a575");ye("data-v-3089a575");const kg={class:"inner-page"},Eg=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),Ng=y("div",{class:"card-header"},[y("span",null,"\u63A7\u5236\u9762\u677F")],-1);be();const Lg=ui((i,n,r,o,s,l)=>{const c=K("el-tag"),u=K("el-card");return z(),H("div",kg,[Eg,y(u,{class:"box-card"},{header:ui(()=>[Ng]),default:ui(()=>[(z(!0),H(qe,null,nt(s.menuData,(d,g)=>(z(),H(c,{key:g,class:["text item",s.activeId===d.value?"active":""],onClick:x=>l.caldDistain(d)},{default:ui(()=>[he(Ce(d.label),1)]),_:2},1032,["class","onClick"]))),128))]),_:1})])});var Xg=le(Bg,[["render",Lg],["__scopeId","data-v-3089a575"]]),zg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xg}),E={version:"1.0.0"};E.PlotUtils={};E.PlotUtils.distance=function(i,n){return Math.sqrt(Math.pow(i[0]-n[0],2)+Math.pow(i[1]-n[1],2))};E.PlotUtils.wholeDistance=function(i){for(var n=0,r=0;r<i.length-1;r++)n+=E.PlotUtils.distance(i[r],i[r+1]);return n};E.PlotUtils.getBaseLength=function(i){return Math.pow(E.PlotUtils.wholeDistance(i),.99)};E.PlotUtils.mid=function(i,n){return[(i[0]+n[0])/2,(i[1]+n[1])/2]};E.PlotUtils.getCircleCenterOfThreePoints=function(i,n,r){var o=[(i[0]+n[0])/2,(i[1]+n[1])/2],s=[o[0]-i[1]+n[1],o[1]+i[0]-n[0]],l=[(i[0]+r[0])/2,(i[1]+r[1])/2],c=[l[0]-i[1]+r[1],l[1]+i[0]-r[0]];return E.PlotUtils.getIntersectPoint(o,s,l,c)};E.PlotUtils.getIntersectPoint=function(i,n,r,o){if(i[1]==n[1]){var s=(o[0]-r[0])/(o[1]-r[1]),l=s*(i[1]-r[1])+r[0],c=i[1];return[l,c]}if(r[1]==o[1]){var u=(n[0]-i[0])/(n[1]-i[1]);return l=u*(r[1]-i[1])+i[0],c=r[1],[l,c]}return u=(n[0]-i[0])/(n[1]-i[1]),s=(o[0]-r[0])/(o[1]-r[1]),c=(u*i[1]-i[0]-s*r[1]+r[0])/(u-s),l=u*c-u*i[1]+i[0],[l,c]};E.PlotUtils.getAzimuth=function(i,n){var r,o=Math.asin(Math.abs(n[1]-i[1])/E.PlotUtils.distance(i,n));return n[1]>=i[1]&&n[0]>=i[0]?r=o+Math.PI:n[1]>=i[1]&&n[0]<i[0]?r=E.Constants.TWO_PI-o:n[1]<i[1]&&n[0]<i[0]?r=o:n[1]<i[1]&&n[0]>=i[0]&&(r=Math.PI-o),r};E.PlotUtils.getAngleOfThreePoints=function(i,n,r){var o=E.PlotUtils.getAzimuth(n,i)-E.PlotUtils.getAzimuth(n,r);return 0>o?o+E.Constants.TWO_PI:o};E.PlotUtils.isClockWise=function(i,n,r){return(r[1]-i[1])*(n[0]-i[0])>(n[1]-i[1])*(r[0]-i[0])};E.PlotUtils.getPointOnLine=function(i,n,r){var o=n[0]+i*(r[0]-n[0]),s=n[1]+i*(r[1]-n[1]);return[o,s]};E.PlotUtils.getCubicValue=function(i,n,r,o,s){i=Math.max(Math.min(i,1),0);var l=1-i,c=i*i,u=c*i,d=l*l,g=d*l,x=g*n[0]+3*d*i*r[0]+3*l*c*o[0]+u*s[0],m=g*n[1]+3*d*i*r[1]+3*l*c*o[1]+u*s[1];return[x,m]};E.PlotUtils.getThirdPoint=function(i,n,r,o,s){var l=E.PlotUtils.getAzimuth(i,n),c=s?l+r:l-r,u=o*Math.cos(c),d=o*Math.sin(c);return[n[0]+u,n[1]+d]};E.PlotUtils.getArcPoints=function(i,n,r,o){var s,l,c=[],u=o-r;u=0>u?u+E.Constants.TWO_PI:u;for(var d=0;d<=E.Constants.FITTING_COUNT;d++){var g=r+u*d/E.Constants.FITTING_COUNT;s=i[0]+n*Math.cos(g),l=i[1]+n*Math.sin(g),c.push([s,l])}return c};E.PlotUtils.getBisectorNormals=function(i,n,r,o){var s=E.PlotUtils.getNormal(n,r,o),l=Math.sqrt(s[0]*s[0]+s[1]*s[1]),c=s[0]/l,u=s[1]/l,d=E.PlotUtils.distance(n,r),g=E.PlotUtils.distance(r,o);if(l>E.Constants.ZERO_TOLERANCE)if(E.PlotUtils.isClockWise(n,r,o)){var x=i*d,m=r[0]-x*u,v=r[1]+x*c,w=[m,v];x=i*g,m=r[0]+x*u,v=r[1]-x*c;var p=[m,v]}else x=i*d,m=r[0]+x*u,v=r[1]-x*c,w=[m,v],x=i*g,m=r[0]-x*u,v=r[1]+x*c,p=[m,v];else m=r[0]+i*(n[0]-r[0]),v=r[1]+i*(n[1]-r[1]),w=[m,v],m=r[0]+i*(o[0]-r[0]),v=r[1]+i*(o[1]-r[1]),p=[m,v];return[w,p]};E.PlotUtils.getNormal=function(i,n,r){var o=i[0]-n[0],s=i[1]-n[1],l=Math.sqrt(o*o+s*s);o/=l,s/=l;var c=r[0]-n[0],u=r[1]-n[1],d=Math.sqrt(c*c+u*u);c/=d,u/=d;var g=o+c,x=s+u;return[g,x]};E.PlotUtils.getCurvePoints=function(i,n){for(var r=E.PlotUtils.getLeftMostControlPoint(n),o=[r],s=0;s<n.length-2;s++){var l=n[s],c=n[s+1],u=n[s+2],d=E.PlotUtils.getBisectorNormals(i,l,c,u);o=o.concat(d)}var g=E.PlotUtils.getRightMostControlPoint(n);o.push(g);var x=[];for(s=0;s<n.length-1;s++){l=n[s],c=n[s+1],x.push(l);for(var i=0;i<E.Constants.FITTING_COUNT;i++){var m=E.PlotUtils.getCubicValue(i/E.Constants.FITTING_COUNT,l,o[2*s],o[2*s+1],c);x.push(m)}x.push(c)}return x};E.PlotUtils.getLeftMostControlPoint=function(i){var n=i[0],r=i[1],o=i[2],s=E.PlotUtils.getBisectorNormals(0,n,r,o),l=s[0],c=E.PlotUtils.getNormal(n,r,o),u=Math.sqrt(c[0]*c[0]+c[1]*c[1]);if(u>E.Constants.ZERO_TOLERANCE)var d=E.PlotUtils.mid(n,r),g=n[0]-d[0],x=n[1]-d[1],m=E.PlotUtils.distance(n,r),v=2/m,w=-v*x,p=v*g,C=w*w-p*p,S=2*w*p,G=p*p-w*w,P=l[0]-d[0],I=l[1]-d[1],M=d[0]+C*P+S*I,_=d[1]+S*P+G*I;else M=n[0]+t*(r[0]-n[0]),_=n[1]+t*(r[1]-n[1]);return[M,_]};E.PlotUtils.getRightMostControlPoint=function(i){var n=i.length,r=i[n-3],o=i[n-2],s=i[n-1],l=E.PlotUtils.getBisectorNormals(0,r,o,s),c=l[1],u=E.PlotUtils.getNormal(r,o,s),d=Math.sqrt(u[0]*u[0]+u[1]*u[1]);if(d>E.Constants.ZERO_TOLERANCE)var g=E.PlotUtils.mid(o,s),x=s[0]-g[0],m=s[1]-g[1],v=E.PlotUtils.distance(o,s),w=2/v,p=-w*m,C=w*x,S=p*p-C*C,G=2*p*C,P=C*C-p*p,I=c[0]-g[0],M=c[1]-g[1],_=g[0]+S*I+G*M,b=g[1]+G*I+P*M;else _=s[0]+t*(o[0]-s[0]),b=s[1]+t*(o[1]-s[1]);return[_,b]};E.PlotUtils.getBezierPoints=function(i){if(i.length<=2)return i;for(var n=[],r=i.length-1,o=0;1>=o;o+=.01){for(var s=0,l=0,c=0;r>=c;c++){var u=E.PlotUtils.getBinomialFactor(r,c),d=Math.pow(o,c),g=Math.pow(1-o,r-c);s+=u*d*g*i[c][0],l+=u*d*g*i[c][1]}n.push([s,l])}return n.push(i[r]),n};E.PlotUtils.getBinomialFactor=function(i,n){return E.PlotUtils.getFactorial(i)/(E.PlotUtils.getFactorial(n)*E.PlotUtils.getFactorial(i-n))};E.PlotUtils.getFactorial=function(i){if(1>=i)return 1;if(i==2)return 2;if(i==3)return 6;if(i==4)return 24;if(i==5)return 120;for(var n=1,r=1;i>=r;r++)n*=r;return n};E.PlotUtils.getQBSplinePoints=function(i){if(i.length<=2)return i;var n=2,r=[],o=i.length-n-1;r.push(i[0]);for(var s=0;o>=s;s++)for(var l=0;1>=l;l+=.05){for(var c=0,u=0,d=0;n>=d;d++){var g=E.PlotUtils.getQuadricBSplineFactor(d,l);c+=g*i[s+d][0],u+=g*i[s+d][1]}r.push([c,u])}return r.push(i[i.length-1]),r};E.PlotUtils.getQuadricBSplineFactor=function(i,n){return i==0?Math.pow(n-1,2)/2:i==1?(-2*Math.pow(n,2)+2*n+1)/2:i==2?Math.pow(n,2)/2:0};E.Constants={TWO_PI:2*Math.PI,HALF_PI:Math.PI/2,FITTING_COUNT:100,ZERO_TOLERANCE:1e-4};var We={version:"1.0.0",createTime:"2018.6.19",author:"xupinhui"},dt={type:"doublearrow",headHeightFactor:.25,headWidthFactor:.3,neckHeightFactor:.85,fixPointCount:4,neckWidthFactor:.15},di={headHeightFactor:.18,headWidthFactor:.3,neckHeightFactor:.85,neckWidthFactor:.15,tailWidthFactor:.1,headTailFactor:.8,swallowTailFactor:1},jt={tailWidthFactor:.15,neckWidthFactor:.2,headWidthFactor:.25,headAngle:Math.PI/8.5,neckAngle:Math.PI/13};We.algorithm={};We.algorithm.doubleArrow=function(i,n){this.connPoint=null,this.tempPoint4=null,this.points=i;var r={controlPoint:null,polygonalPoint:null},o=i.length;if(!(2>o)){if(o==2)return i;var s=this.points[0],l=this.points[1],c=this.points[2],o=i.length;o==3?this.tempPoint4=We.algorithm.getTempPoint4(s,l,c):this.tempPoint4=this.points[3],o==3||o==4?this.connPoint=E.PlotUtils.mid(s,l):this.connPoint=this.points[4];var u,d;E.PlotUtils.isClockWise(s,l,c)?(u=We.algorithm.getArrowPoints(s,this.connPoint,this.tempPoint4,!1),d=We.algorithm.getArrowPoints(this.connPoint,l,c,!0)):(u=We.algorithm.getArrowPoints(l,this.connPoint,c,!1),d=We.algorithm.getArrowPoints(this.connPoint,s,this.tempPoint4,!0));var g=u.length,x=(g-5)/2,m=u.slice(0,x),v=u.slice(x,x+5),w=u.slice(x+5,g),p=d.slice(0,x),C=d.slice(x,x+5),S=d.slice(x+5,g);p=E.PlotUtils.getBezierPoints(p);var G=E.PlotUtils.getBezierPoints(S.concat(m.slice(1)));w=E.PlotUtils.getBezierPoints(w);var P=p.concat(C,G,v,w),I=We.algorithm.array2Dto1D(P);r.controlPoint=[s,l,c,this.tempPoint4,this.connPoint],r.polygonalPoint=n.Cartesian3.fromDegreesArray(I)}return r},We.algorithm.threeArrow=function(i){this.connPoint=null,this.tempPoint4=null,this.tempPoint5=null,this.points=i;var n={controlPoint:null,polygonalPoint:null},r=i.length;if(r>=2){if(r==2)return i;var o=this.points[0],s=this.points[1],l=this.points[2],r=i.length;r==3?(this.tempPoint4=We.algorithm.getTempPoint4(o,s,l),this.tempPoint5=E.PlotUtils.mid(l,this.tempPoint4)):(this.tempPoint4=this.points[3],this.tempPoint5=this.points[4]),r<6?this.connPoint=E.PlotUtils.mid(o,s):this.connPoint=this.points[5];var c,u;E.PlotUtils.isClockWise(o,s,l)?(c=We.algorithm.getArrowPoints(o,this.connPoint,this.tempPoint4,!1),u=We.algorithm.getArrowPoints(this.connPoint,s,l,!0)):(c=We.algorithm.getArrowPoints(s,this.connPoint,l,!1),u=We.algorithm.getArrowPoints(this.connPoint,o,this.tempPoint4,!0));var d=c.length,g=(d-5)/2,x=c.slice(0,g),m=c.slice(g,g+5),v=c.slice(g+5,d),w=u.slice(0,g),p=u.slice(g,g+5),C=u.slice(g+5,d);w=E.PlotUtils.getBezierPoints(w);var S=E.PlotUtils.getBezierPoints(C.concat(x.slice(1)));v=E.PlotUtils.getBezierPoints(v);var G=w.concat(p,S,m,v),P=We.algorithm.array2Dto1D(G);n.controlPoint=[o,s,l,this.tempPoint4,this.tempPoint5,this.connPoint],n.polygonalPoint=Cesium.Cartesian3.fromDegreesArray(P)}return n},We.algorithm.array2Dto1D=function(i){var n=[];return i.forEach(function(r){n.push(r[0]),n.push(r[1])}),n},We.algorithm.getArrowPoints=function(i,n,r,o){this.type=dt.type,this.headHeightFactor=dt.headHeightFactor,this.headWidthFactor=dt.headWidthFactor,this.neckHeightFactor=dt.neckHeightFactor,this.neckWidthFactor=dt.neckWidthFactor;var s=E.PlotUtils.mid(i,n),l=E.PlotUtils.distance(s,r),c=E.PlotUtils.getThirdPoint(r,s,0,.3*l,!0),u=E.PlotUtils.getThirdPoint(r,s,0,.5*l,!0);c=E.PlotUtils.getThirdPoint(s,c,E.Constants.HALF_PI,l/5,o),u=E.PlotUtils.getThirdPoint(s,u,E.Constants.HALF_PI,l/4,o);var d=[s,c,u,r],g=We.algorithm.getArrowHeadPoints(d,this.headHeightFactor,this.headWidthFactor,this.neckHeightFactor,this.neckWidthFactor),x=g[0],m=g[4],v=E.PlotUtils.distance(i,n)/E.PlotUtils.getBaseLength(d)/2,w=We.algorithm.getArrowBodyPoints(d,x,m,v),p=w.length,C=w.slice(0,p/2),S=w.slice(p/2,p);return C.push(x),S.push(m),C=C.reverse(),C.push(n),S=S.reverse(),S.push(i),C.reverse().concat(g,S)},We.algorithm.getArrowHeadPoints=function(i,n,r){this.type=dt.type,this.headHeightFactor=dt.headHeightFactor,this.headWidthFactor=dt.headWidthFactor,this.neckHeightFactor=dt.neckHeightFactor,this.neckWidthFactor=dt.neckWidthFactor;var o=E.PlotUtils.getBaseLength(i),s=o*this.headHeightFactor,l=i[i.length-1],c=(E.PlotUtils.distance(n,r),s*this.headWidthFactor),u=s*this.neckWidthFactor,d=s*this.neckHeightFactor,g=E.PlotUtils.getThirdPoint(i[i.length-2],l,0,s,!0),x=E.PlotUtils.getThirdPoint(i[i.length-2],l,0,d,!0),m=E.PlotUtils.getThirdPoint(l,g,E.Constants.HALF_PI,c,!1),v=E.PlotUtils.getThirdPoint(l,g,E.Constants.HALF_PI,c,!0),w=E.PlotUtils.getThirdPoint(l,x,E.Constants.HALF_PI,u,!1),p=E.PlotUtils.getThirdPoint(l,x,E.Constants.HALF_PI,u,!0);return[w,m,l,v,p]},We.algorithm.getArrowBodyPoints=function(i,n,r,o){for(var s=E.PlotUtils.wholeDistance(i),l=E.PlotUtils.getBaseLength(i),c=l*o,u=E.PlotUtils.distance(n,r),d=(c-u)/2,g=0,x=[],m=[],v=1;v<i.length-1;v++){var w=E.PlotUtils.getAngleOfThreePoints(i[v-1],i[v],i[v+1])/2;g+=E.PlotUtils.distance(i[v-1],i[v]);var p=(c/2-g/s*d)/Math.sin(w),C=E.PlotUtils.getThirdPoint(i[v-1],i[v],Math.PI-w,p,!0),S=E.PlotUtils.getThirdPoint(i[v-1],i[v],w,p,!1);x.push(C),m.push(S)}return x.concat(m)},We.algorithm.getTempPoint4=function(i,n,r){var o,s,l,c,u=E.PlotUtils.mid(i,n),d=E.PlotUtils.distance(u,r),g=E.PlotUtils.getAngleOfThreePoints(i,u,r);return g<E.Constants.HALF_PI?(s=d*Math.sin(g),l=d*Math.cos(g),c=E.PlotUtils.getThirdPoint(i,u,E.Constants.HALF_PI,s,!1),o=E.PlotUtils.getThirdPoint(u,c,E.Constants.HALF_PI,l,!0)):g>=E.Constants.HALF_PI&&g<Math.PI?(s=d*Math.sin(Math.PI-g),l=d*Math.cos(Math.PI-g),c=E.PlotUtils.getThirdPoint(i,u,E.Constants.HALF_PI,s,!1),o=E.PlotUtils.getThirdPoint(u,c,E.Constants.HALF_PI,l,!1)):g>=Math.PI&&g<1.5*Math.PI?(s=d*Math.sin(g-Math.PI),l=d*Math.cos(g-Math.PI),c=E.PlotUtils.getThirdPoint(i,u,E.Constants.HALF_PI,s,!0),o=E.PlotUtils.getThirdPoint(u,c,E.Constants.HALF_PI,l,!0)):(s=d*Math.sin(2*Math.PI-g),l=d*Math.cos(2*Math.PI-g),c=E.PlotUtils.getThirdPoint(i,u,E.Constants.HALF_PI,s,!0),o=E.PlotUtils.getThirdPoint(u,c,E.Constants.HALF_PI,l,!1)),o},We.algorithm.tailedAttackArrow=function(i,n){i=We.algorithm.dereplication(i),this.tailWidthFactor=di.tailWidthFactor,this.swallowTailFactor=di.swallowTailFactor,this.swallowTailPnt=di.swallowTailPnt;var r={controlPoint:null,polygonalPoint:null};r.controlPoint=i;var o=i.length;if(!(2>o)){if(i.length==2)return r.polygonalPoint=i,r;var s=i,l=s[0],c=s[1];E.PlotUtils.isClockWise(s[0],s[1],s[2])&&(l=s[1],c=s[0]);var u=E.PlotUtils.mid(l,c),d=[u].concat(s.slice(2)),g=We.algorithm.getAttackArrowHeadPoints(d,l,c,di),x=g[0],m=g[4],v=E.PlotUtils.distance(l,c),w=E.PlotUtils.getBaseLength(d),p=w*this.tailWidthFactor*this.swallowTailFactor;this.swallowTailPnt=E.PlotUtils.getThirdPoint(d[1],d[0],0,p,!0);var C=v/w,S=We.algorithm.getAttackArrowBodyPoints(d,x,m,C),o=S.length,G=[l].concat(S.slice(0,o/2));G.push(x);var P=[c].concat(S.slice(o/2,o)),I=[];P.push(m),G=E.PlotUtils.getQBSplinePoints(G),P=E.PlotUtils.getQBSplinePoints(P),I=We.algorithm.array2Dto1D(G.concat(g,P.reverse(),[this.swallowTailPnt,G[0]])),r.polygonalPoint=n.Cartesian3.fromDegreesArray(I)}return r},We.algorithm.getAttackArrowHeadPoints=function(i,n,r,o){this.headHeightFactor=o.headHeightFactor,this.headTailFactor=o.headTailFactor,this.headWidthFactor=o.headWidthFactor,this.neckWidthFactor=o.neckWidthFactor,this.neckHeightFactor=o.neckHeightFactor;var s=E.PlotUtils.getBaseLength(i),l=s*this.headHeightFactor,c=i[i.length-1];s=E.PlotUtils.distance(c,i[i.length-2]);var u=E.PlotUtils.distance(n,r);l>u*this.headTailFactor&&(l=u*this.headTailFactor);var d=l*this.headWidthFactor,g=l*this.neckWidthFactor;l=l>s?s:l;var x=l*this.neckHeightFactor,m=E.PlotUtils.getThirdPoint(i[i.length-2],c,0,l,!0),v=E.PlotUtils.getThirdPoint(i[i.length-2],c,0,x,!0),w=E.PlotUtils.getThirdPoint(c,m,E.Constants.HALF_PI,d,!1),p=E.PlotUtils.getThirdPoint(c,m,E.Constants.HALF_PI,d,!0),C=E.PlotUtils.getThirdPoint(c,v,E.Constants.HALF_PI,g,!1),S=E.PlotUtils.getThirdPoint(c,v,E.Constants.HALF_PI,g,!0);return[C,w,c,p,S]},We.algorithm.getAttackArrowBodyPoints=function(i,n,r,o){for(var s=E.PlotUtils.wholeDistance(i),l=E.PlotUtils.getBaseLength(i),c=l*o,u=E.PlotUtils.distance(n,r),d=(c-u)/2,g=0,x=[],m=[],v=1;v<i.length-1;v++){var w=E.PlotUtils.getAngleOfThreePoints(i[v-1],i[v],i[v+1])/2;g+=E.PlotUtils.distance(i[v-1],i[v]);var p=(c/2-g/s*d)/Math.sin(w),C=E.PlotUtils.getThirdPoint(i[v-1],i[v],Math.PI-w,p,!0),S=E.PlotUtils.getThirdPoint(i[v-1],i[v],w,p,!1);x.push(C),m.push(S)}return x.concat(m)},We.algorithm.dereplication=function(i){var n=i[i.length-1],r=!1,o=[];return o=i.filter(function(s){if(s[0]!=n[0]&&s[1]!=n[1])return s;r=!0}),r&&o.push(n),o},We.algorithm.fineArrow=function(i,n,r){if(i.length<2||n.length<2)return;let o=jt.tailWidthFactor,s=jt.neckWidthFactor,l=jt.headWidthFactor,c=jt.headAngle,u=jt.neckAngle;var d=[];d[0]=i,d[1]=n;var g=d[0],x=d[1],m=E.PlotUtils.getBaseLength(d),v=m*o,w=m*s,p=m*l,C=E.PlotUtils.getThirdPoint(x,g,E.Constants.HALF_PI,v,!0),S=E.PlotUtils.getThirdPoint(x,g,E.Constants.HALF_PI,v,!1),G=E.PlotUtils.getThirdPoint(g,x,c,p,!1),P=E.PlotUtils.getThirdPoint(g,x,c,p,!0),I=E.PlotUtils.getThirdPoint(g,x,u,w,!1),M=E.PlotUtils.getThirdPoint(g,x,u,w,!0),_=[];return _.push(C[0],C[1],I[0],I[1],G[0],G[1],x[0],x[1],P[0],P[1],M[0],M[1],S[0],S[1],g[0],g[1]),_.some(A=>isNaN(A))?"":r.Cartesian3.fromDegreesArray(_)};let gi=null;function Ct(i,n){this.viewer=i,gi=n,this.handler=new gi.ScreenSpaceEventHandler(this.viewer.scene.canvas),this.fillMaterial=gi.Color.RED.withAlpha(.5),this.positions=[],this.state=-1,this.floatPoint=null,this.arrowEntity=null,this.pointArr=[],this.selectPoint=null,this.clickStep=0,this.modifyHandler=null,this.xp=We}Ct.prototype.clear=function(){this.state=0,this.firstPoint&&this.viewer.entities.remove(this.firstPoint),this.floatPoint&&this.viewer.entities.remove(this.floatPoint),this.arrowEntity&&this.viewer.entities.remove(this.arrowEntity),this.state=-1};Ct.prototype.disableHandler=function(){this.handler&&(this.handler.destroy(),this.handler=new gi.ScreenSpaceEventHandler(this.viewer.scene.canvas)),this.modifyHandler&&(this.modifyHandler.destroy(),this.modifyHandler=null)};let Le=null;var Ft=function(i,n){Ct.call(this,i,n),Le=n,this.type="AttackArrow",this.fillMaterial=Le.Color.RED.withAlpha(.5)};Ft.prototype={disable:function(){this.positions=[],this.arrowEntity&&(this.viewer.entities.remove(this.arrowEntity),this.arrowEntity=null),this.state=-1,this.handler&&(this.handler.destroy(),this.handler=new Le.ScreenSpaceEventHandler(this.viewer.scene.canvas)),this.floatPoint&&(this.viewer.entities.remove(this.floatPoint),this.floatPoint=null),this.selectPoint&&(this.viewer.entities.remove(this.selectPoint),this.selectPoint=null);for(var i=0;i<this.pointArr.length;i++)this.pointArr[i]&&this.viewer.entities.remove(this.pointArr[i]);this.modifyHandler&&(this.modifyHandler.destroy(),this.modifyHandler=null),this.clickStep=0},startDraw:function(i){this.objId=Number(new Date().getTime()+""+Number(Math.random()*1e3).toFixed(0));var n=this;this.state=1,this.handler||(this.handler=new Le.ScreenSpaceEventHandler(this.viewer.scene.canvas)),this.handler.setInputAction(function(r){var o;if(o=Qt(r.position,n.viewer),!!o){n.positions.length==0&&(n.floatPoint=n.creatPoint(o),n.floatPoint.wz=-1),n.positions.push(o);var s=n.creatPoint(o);n.positions.length>2?s.wz=n.positions.length-1:s.wz=n.positions.length,n.pointArr.push(s)}},Le.ScreenSpaceEventType.LEFT_CLICK),this.handler.setInputAction(function(r){if(!(!n.floatPoint||n.positions.length<2)){var o;o=Qt(r.endPosition,n.viewer),!!o&&(n.floatPoint.position.setValue(o),n.positions.length>=2&&(Le.defined(n.arrowEntity)?(n.positions.pop(),n.positions.push(o)):(n.positions.push(o),n.arrowEntity=n.showArrowOnMap(n.positions),n.arrowEntity.objId=n.objId,i&&i(n.objId))))}},Le.ScreenSpaceEventType.MOUSE_MOVE),this.handler.setInputAction(function(r){var o;if(o=Qt(r.position,n.viewer),!!o){for(var s=0;s<n.pointArr.length;s++)n.pointArr[s].show=!1;n.floatPoint.show=!1,n.viewer.entities.remove(n.floatPoint),n.floatPoint=null;var l=n.creatPoint(o);l.show=!1,l.wz=n.positions.length,n.pointArr.push(l),n.positions=[],n.pointArr=[],n.arrowEntity=null}},Le.ScreenSpaceEventType.RIGHT_CLICK)},createByData:function(i){this.positions=[],this.state=-1,this.floatPoint=null,this.pointArr=[],this.selectPoint=null,this.clickStep=0,this.modifyHandler=null;for(var n=[],r=0;r<i.length;r++){var o=Le.Cartesian3.fromDegrees(i[r][0],i[r][1]);n.push(o)}this.positions=n;for(var r=0;r<this.positions.length;r++){var s=this.creatPoint(this.positions[r]);s.show=!1,s.wz=r+1,this.pointArr.push(s)}this.arrowEntity=this.showArrowOnMap(this.positions),this.arrowEntity.objId=this.objId},startModify:function(){this.state=2;for(var i=this,n=0;n<i.pointArr.length;n++)i.pointArr[n].show=!0;this.modifyHandler||(this.modifyHandler=new Le.ScreenSpaceEventHandler(this.viewer.scene.canvas)),this.modifyHandler.setInputAction(function(r){var o=i.viewer.scene.pick(r.position);if(Le.defined(o)&&o.id)i.clickStep++,o.id.objId||(i.selectPoint=o.id);else{for(var s=0;s<i.pointArr.length;s++)i.pointArr[s].show=!1;i.floatPoint&&(i.floatPoint.show=!1),i.state=-1,i.modifyHandler.destroy(),i.modifyHandler=null}if(i.clickStep==2){i.clickStep=0;var l;if(l=Qt(r.position,i.viewer),!l)return;i.selectPoint&&(i.selectPoint.position.setValue(l),i.selectPoint=null)}},Le.ScreenSpaceEventType.LEFT_CLICK),this.modifyHandler.setInputAction(function(r){var o;if(o=Qt(r.endPosition,i.viewer),!!o)if(i.selectPoint)i.selectPoint.position.setValue(o),i.positions[i.selectPoint.wz-1]=o;else return},Le.ScreenSpaceEventType.MOUSE_MOVE)},getLnglats:function(){for(var i=[],n=0;n<this.positions.length;n++){var r=this.cartesianToLatlng(this.positions[n]);i.push(r)}return i},getPositions:function(){return this.positions},creatPoint:function(i){var n=this.viewer.entities.add({position:i,point:{pixelSize:10,color:Le.Color.YELLOW}});return n.attr="editPoint",n},showArrowOnMap:function(i){var n=this,r=function(){if(i.length<3)return null;for(var o=[],s=0;s<i.length;s++){var l=n.cartesianToLatlng(i[s]);o.push(l)}var c=n.xp.algorithm.tailedAttackArrow(o,Le),u=JSON.stringify(c.polygonalPoint).indexOf("null"),d=[];return u==-1&&(d=c.polygonalPoint),new Le.PolygonHierarchy(d)};return this.viewer.entities.add({id:n.objId,polygon:new Le.PolygonGraphics({hierarchy:new Le.CallbackProperty(r,!1),show:!0,fill:!0,material:n.fillMaterial})})},cartesianToLatlng:function(i){var n=this.viewer.scene.globe.ellipsoid.cartesianToCartographic(i),r=Le.Math.toDegrees(n.latitude),o=Le.Math.toDegrees(n.longitude);return[o,r]}};Ft.prototype=Object.create(Object.assign({},Ft.prototype,Ct.prototype));Ft.prototype.constructor=Ft;function Qt(i,n){var r,o=n.camera.getPickRay(i);return o?(r=n.scene.globe.pick(o,n.scene),r):null}let Xe=null;var Zt=function(i,n){Ct.call(this,i,n),Xe=n,this.type="StraightArrow",this.fillMaterial=Xe.Color.fromCssColorString("#0000FF").withAlpha(.8)};Zt.prototype={disable:function(){this.positions=[],this.firstPoint&&(this.viewer.entities.remove(this.firstPoint),this.firstPoint=null),this.floatPoint&&(this.viewer.entities.remove(this.floatPoint),this.floatPoint=null),this.arrowEntity&&(this.viewer.entities.remove(this.arrowEntity),this.arrowEntity=null),this.state=-1,this.handler&&(this.handler.destroy(),this.handler=new Xe.ScreenSpaceEventHandler(this.viewer.scene.canvas)),this.selectPoint&&(this.viewer.entities.remove(this.selectPoint),this.selectPoint=null),this.modifyHandler&&(this.modifyHandler.destroy(),this.modifyHandler=null),this.clickStep=0},startDraw:function(i){this.objId=Number(new Date().getTime()+""+Number(Math.random()*1e3).toFixed(0));var n=this;this.state=1,this.handler.setInputAction(function(r){var o;o=Jt(r.position,n.viewer),!!o&&(n.positions.length==0&&(n.firstPoint=n.creatPoint(o),n.firstPoint.type="firstPoint",n.floatPoint=n.creatPoint(o),n.floatPoint.type="floatPoint",n.positions.push(o)),n.firstPoint.position.setValue(o),n.firstPoint.show=!0,n.positions&&n.positions.length==3&&(n.firstPoint.show=!1,n.positions=[],n.pointArr=[],n.arrowEntity=null),n.positions.push(o.clone()))},Xe.ScreenSpaceEventType.LEFT_CLICK),this.handler.setInputAction(function(r){if(!(n.positions.length<1)){var o;o=Jt(r.endPosition,n.viewer),!!o&&(n.floatPoint.position.setValue(o),n.positions.length>=2&&(Xe.defined(n.arrowEntity)?(n.positions.pop(),n.positions.push(o)):(n.positions.push(o),n.arrowEntity=n.showArrowOnMap(n.positions),i&&i(n.objId))))}},Xe.ScreenSpaceEventType.MOUSE_MOVE),this.handler.setInputAction(function(r){var o;o=Jt(r.position,n.viewer),!!o&&(n.firstPoint.show=!1,n.positions=[],n.pointArr=[],n.arrowEntity=null,n.positions.push(o.clone()))},Xe.ScreenSpaceEventType.RIGHT_CLICK)},startModify:function(){this.state=2,this.firstPoint.show=!0,this.floatPoint.show=!0;var i=this;this.clickStep=0,this.modifyHandler||(this.modifyHandler=new Xe.ScreenSpaceEventHandler(this.viewer.scene.canvas)),this.modifyHandler.setInputAction(function(n){var r=i.viewer.scene.pick(n.position);if(Xe.defined(r)&&r.id?(i.clickStep++,r.id.objId||(i.selectPoint=r.id)):(i.modifyHandler.destroy(),i.modifyHandler=null,i.firstPoint.show=!1,i.floatPoint.show=!1,i.state=-1),i.clickStep==2){i.clickStep=0;var o;if(o=Jt(n.position,i.viewer),!o)return;i.selectPoint&&(i.selectPoint.position.setValue(o),i.selectPoint=null)}},Xe.ScreenSpaceEventType.LEFT_CLICK),this.modifyHandler.setInputAction(function(n){if(i.selectPoint){var r;if(r=Jt(n.endPosition,i.viewer),!r)return;i.selectPoint.position.setValue(r),i.selectPoint.type=="firstPoint"&&(i.positions[1]=r),i.selectPoint.type=="floatPoint"&&(i.positions[2]=r)}else return},Xe.ScreenSpaceEventType.MOUSE_MOVE)},createByData:function(i){this.state=-1,this.positions=[];for(var n=[],r=0;r<i.length;r++){var o=Xe.Cartesian3.fromDegrees(i[r][0],i[r][1]);n.push(o)}this.positions=n,this.firstPoint=this.creatPoint(this.positions[1]),this.firstPoint.type="firstPoint",this.floatPoint=this.creatPoint(this.positions[2]),this.floatPoint.type="floatPoint",this.arrowEntity=this.showArrowOnMap(this.positions),this.firstPoint.show=!1,this.floatPoint.show=!1,this.arrowEntity.objId=this.objId},getLnglats:function(){for(var i=[],n=0;n<this.positions.length;n++){var r=this.cartesianToLatlng(this.positions[n]);i.push(r)}return i},getPositions:function(){return this.positions},creatPoint:function(i){var n=this.viewer.entities.add({position:i,point:{pixelSize:10,color:Xe.Color.YELLOW}});return n.attr="editPoint",n},showArrowOnMap:function(i){var n=this,r=function(){if(i.length<2)return null;var o=i[1],s=i[2],l=n.cartesianToLatlng(o),c=n.cartesianToLatlng(s),u=[],d=n.xp.algorithm.fineArrow([l[0],l[1]],[c[0],c[1]],Xe),g=JSON.stringify(d).indexOf("null");if(g!=-1)return[];for(var x=0;x<d.length;x++){var m=new Xe.Cartesian3(d[x].x,d[x].y,d[x].z);u.push(m)}return new Xe.PolygonHierarchy(u)};return this.viewer.entities.add({id:n.objId,polygon:new Xe.PolygonGraphics({hierarchy:new Xe.CallbackProperty(r,!1),show:!0,fill:!0,material:n.fillMaterial})})},cartesianToLatlng:function(i){var n=this.viewer.scene.globe.ellipsoid.cartesianToCartographic(i),r=Xe.Math.toDegrees(n.latitude),o=Xe.Math.toDegrees(n.longitude);return[o,r]}};Zt.prototype=Object.create(Object.assign({},Zt.prototype,Ct.prototype));Zt.prototype.constructor=Zt;function Jt(i,n){var r,o=n.camera.getPickRay(i);return o?(r=n.scene.globe.pick(o,n.scene),r):null}let Ue=null;var Bt=function(i,n){Ct.call(this,i,n),Ue=n,this.type="PincerArrow",this.fillMaterial=Ue.Color.YELLOW.withAlpha(.8)};Bt.prototype={disable:function(){this.positions=[],this.arrowEntity&&(this.viewer.entities.remove(this.arrowEntity),this.arrowEntity=null),this.state=-1,this.handler&&(this.handler.destroy(),this.handler=new Ue.ScreenSpaceEventHandler(this.viewer.scene.canvas)),this.floatPoint&&(this.viewer.entities.remove(this.floatPoint),this.floatPoint=null),this.selectPoint&&(this.viewer.entities.remove(this.selectPoint),this.selectPoint=null);for(var i=0;i<this.pointArr.length;i++)this.pointArr[i]&&this.viewer.entities.remove(this.pointArr[i]);this.modifyHandler&&(this.modifyHandler.destroy(),this.modifyHandler=null),this.clickStep=0},startDraw:function(i){this.objId=Number(new Date().getTime()+""+Number(Math.random()*1e3).toFixed(0));var n=this;this.state=1,this.handler.setInputAction(function(r){var o;if(o=Kt(r.position,n.viewer),!!o)if(n.positions.length==0&&(n.floatPoint=n.creatPoint(o)),n.positions.length>4){var s=n.creatPoint(o);s.wz=n.positions.length,n.pointArr.push(s);for(var l=0;l<n.pointArr.length;l++)n.pointArr[l].show=!1;n.floatPoint&&(n.floatPoint.show=!1,n.viewer.entities.remove(n.floatPoint),n.floatPoint=null),n.positions=[],n.pointArr=[],n.arrowEntity=null}else{n.positions.push(o);var s=n.creatPoint(o);n.positions.length>2?s.wz=n.positions.length-1:s.wz=n.positions.length,n.pointArr.push(s)}},Ue.ScreenSpaceEventType.LEFT_CLICK),this.handler.setInputAction(function(r){if(!(!n.floatPoint||n.positions.length<2)){var o;o=Kt(r.endPosition,n.viewer),!!o&&(n.floatPoint.position.setValue(o),n.positions.length>=2&&(Ue.defined(n.arrowEntity)?(n.positions.pop(),n.positions.push(o)):(n.positions.push(o),n.arrowEntity=n.showArrowOnMap(n.positions),n.arrowEntity.objId=n.objId,i&&i(n.objId))))}},Ue.ScreenSpaceEventType.MOUSE_MOVE),this.handler.setInputAction(function(r){if(n.positions.length>=4){var o;if(o=Kt(r.position,n.viewer),!o)return;for(var s=0;s<n.pointArr.length;s++)n.pointArr[s].show=!1;n.floatPoint.show=!1,n.viewer.entities.remove(n.floatPoint),n.floatPoint=null;var l=n.creatPoint(o);l.show=!1,l.wz=n.positions.length,n.pointArr.push(l),n.positions=[],n.pointArr=[],n.arrowEntity=null}},Ue.ScreenSpaceEventType.RIGHT_CLICK)},createByData:function(i){this.positions=[],this.state=-1,this.floatPoint=null,this.pointArr=[],this.selectPoint=null,this.clickStep=0,this.modifyHandler=null;for(var n=[],r=0;r<i.length;r++){var o=Ue.Cartesian3.fromDegrees(i[r][0],i[r][1]);n.push(o)}this.positions=n;for(var r=0;r<this.positions.length;r++){var s=this.creatPoint(this.positions[r]);s.show=!1,s.wz=r+1,this.pointArr.push(s)}this.arrowEntity=this.showArrowOnMap(this.positions),this.arrowEntity.objId=this.objId},startModify:function(){this.state=2;for(var i=this,n=0;n<i.pointArr.length;n++)i.pointArr[n].show=!0;this.modifyHandler||(this.modifyHandler=new Ue.ScreenSpaceEventHandler(this.viewer.scene.canvas)),this.modifyHandler.setInputAction(function(r){var o=i.viewer.scene.pick(r.position);if(Ue.defined(o)&&o.id)i.clickStep++,o.id.objId||(i.selectPoint=o.id);else{for(var s=0;s<i.pointArr.length;s++)i.pointArr[s].show=!1;i.state=-1,i.modifyHandler.destroy(),i.modifyHandler=null}if(i.clickStep==2){i.clickStep=0;var l;if(l=Kt(r.position,i.viewer),!l)return;i.selectPoint&&(i.selectPoint.position.setValue(l),i.selectPoint=null)}},Ue.ScreenSpaceEventType.LEFT_CLICK),this.modifyHandler.setInputAction(function(r){var o;if(o=Kt(r.endPosition,i.viewer),!!o)if(i.selectPoint)i.selectPoint.position.setValue(o),i.positions[i.selectPoint.wz-1]=o;else return},Ue.ScreenSpaceEventType.MOUSE_MOVE)},getLnglats:function(){for(var i=[],n=0;n<this.positions.length;n++){var r=this.cartesianToLatlng(this.positions[n]);i.push(r)}return i},getPositions:function(){return this.positions},creatPoint:function(i){return this.viewer.entities.add({position:i,point:{pixelSize:10,color:Ue.Color.YELLOW}})},showArrowOnMap:function(i){var n=this,r=function(){if(i.length<3)return null;for(var o=[],s=0;s<i.length;s++){var l=n.cartesianToLatlng(i[s]);o.push(l)}var c=n.xp.algorithm.doubleArrow(o,Ue),u=[],d=JSON.stringify(c.polygonalPoint).indexOf("null");return d==-1&&(u=c.polygonalPoint),new Ue.PolygonHierarchy(u)};return this.viewer.entities.add({id:n.objId,polygon:new Ue.PolygonGraphics({hierarchy:new Ue.CallbackProperty(r,!1),show:!0,fill:!0,material:n.fillMaterial})})},cartesianToLatlng:function(i){var n=this.viewer.scene.globe.ellipsoid.cartesianToCartographic(i),r=Ue.Math.toDegrees(n.latitude),o=Ue.Math.toDegrees(n.longitude);return[o,r]}};Bt.prototype=Object.create(Object.assign({},Bt.prototype,Ct.prototype));Bt.prototype.constructor=Bt;function Kt(i,n){var r,o=n.camera.getPickRay(i);return o?(r=n.scene.globe.pick(o,n.scene),r):null}function Hg(i,n){const r=new Ft(i,n),o=new Zt(i,n),s=new Bt(i,n);return{AttackArrowObj:r,StraightArrowObj:o,PincerArrowObj:s}}const Ug={data(){return{activeId:"pos",plotEntitiesId:[],menuData:[{label:"\u5750\u6807\u70B9",value:"coordinates"},{label:"\u7EBF\u6BB5",value:"line"},{label:"\u591A\u8FB9\u5F62",value:"polygon"},{label:"\u77E9\u5F62",value:"rectangle"},{label:"\u5706\u5F62",value:"circular"},{label:"\u591A\u8FB9\u7ACB\u65B9\u4F53",value:"polygonCable"},{label:"\u56DB\u65B9\u4F53",value:"Tetragonal"},{label:"\u5706\u67F1\u4F53",value:"cylinder"},{label:"\u56F4\u680F",value:"enclosure"},{label:"\u7403\u4F53",value:"spherome"},{label:"\u5706\u9525",value:"circularCone"},{label:"\u5706\u67F1",value:"circularColumn"},{label:"\u8D70\u5ECA",value:"corridor"},{label:"\u7BA1\u9053",value:"pipeline"},{label:"\u4E94\u89D2\u7BA1\u9053",value:"fivePoint"},{label:"\u76F4\u89D2\u7BAD\u5934",value:"StraightArrow"},{label:"\u653B\u51FB\u7BAD\u5934",value:"AttackArrow"},{label:"\u94B3\u51FB\u7BAD\u5934",value:"PincerArrow"},{label:"\u6E05\u9664",value:"clean"}]}},mounted(){this.initMap()},methods:{initMap(){const{viewer:i,material:n,graphics:r,draw:o}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},[]),{AttackArrowObj:s,StraightArrowObj:l,PincerArrowObj:c}=new Hg(i,Cesium);this.c_viewer=i,this.material=n,this.graphics=r,this.draw=o,this.material.setDefSceneConfig(),this.material.setBloomLightScene(),this.load3dTiles(i),this.StraightArrowObj=l,this.AttackArrowObj=s,this.PincerArrowObj=c},load3dTiles(i){i.scene.sun.show=!1,i.scene.moon.show=!1,i.scene.skyAtmosphere.show=!1;var n=i.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));n.readyPromise.then(function(r){r.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),i.flyTo(r)})},caldDistain(i){switch(this.activeId=i.value,this.drawAgain(),i.label){case"\u5750\u6807\u70B9":this.draw.drawPointGraphics();break;case"\u7EBF\u6BB5":this.draw.drawLineGraphics();break;case"\u591A\u8FB9\u5F62":this.draw.drawPolygonGraphics();break;case"\u77E9\u5F62":this.draw.drawRectangleGraphics();break;case"\u5706\u5F62":this.draw.drawCircleGraphics();break;case"\u591A\u8FB9\u7ACB\u65B9\u4F53":this.draw.drawPolygonGraphics({height:200});break;case"\u56DB\u65B9\u4F53":this.draw.drawRectangleGraphics({height:200});break;case"\u5706\u67F1\u4F53":this.draw.drawCircleGraphics({height:200});break;case"\u56F4\u680F":this.draw.drawWallGraphics();break;case"\u7403\u4F53":this.draw.drawEllipsoidGraphics();break;case"\u5706\u9525":this.draw.drawCylinderGraphics({topRadius:1});break;case"\u5706\u67F1":this.draw.drawCylinderGraphics();break;case"\u8D70\u5ECA":this.draw.drawCorridorGraphics({width:100,height:20,extrudedHeight:200});break;case"\u7BA1\u9053":this.draw.drawPolylineVolumeGraphics();break;case"\u4E94\u89D2\u7BA1\u9053":this.draw.drawPolylineVolumeGraphics({color:Cesium.Color.fromCssColorString("#FFD700"),shape:"fivePoint",arms:5,rOuter:25,rInner:50});break;case"\u76F4\u89D2\u7BAD\u5934":this.AttackArrowObj.disable(),this.PincerArrowObj.disable(),this.StraightArrowObj.startDraw(n=>{this.plotEntitiesId.push(n)});break;case"\u653B\u51FB\u7BAD\u5934":this.PincerArrowObj.disable(),this.StraightArrowObj.disable(),this.AttackArrowObj.startDraw(n=>{this.plotEntitiesId.push(n)});break;case"\u94B3\u51FB\u7BAD\u5934":this.StraightArrowObj.disable(),this.AttackArrowObj.disable(),this.PincerArrowObj.startDraw(n=>{this.plotEntitiesId.push(n)});break;case"\u6E05\u9664":this.draw._drawLayer.entities.removeAll(),this.plotEntitiesId.forEach(n=>{this.c_viewer.entities.removeById(n)});break}},drawAgain(){this.PincerArrowObj.disable(),this.StraightArrowObj.disable(),this.AttackArrowObj.disable()}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},mi=fe("data-v-6b88f666");ye("data-v-6b88f666");const $g={class:"inner-page"},Yg=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),Og=y("div",{class:"card-header"},[y("span",null,"\u7ED8\u5236\u9762\u677F")],-1);be();const jg=mi((i,n,r,o,s,l)=>{const c=K("el-tag"),u=K("el-card");return z(),H("div",$g,[Yg,y(u,{class:"box-card"},{header:mi(()=>[Og]),default:mi(()=>[(z(!0),H(qe,null,nt(s.menuData,(d,g)=>(z(),H(c,{key:g,class:["text item",s.activeId===d.value?"active":""],onClick:x=>l.caldDistain(d)},{default:mi(()=>[he(Ce(d.label),1)]),_:2},1032,["class","onClick"]))),128))]),_:1})])});var Qg=le(Ug,[["render",jg],["__scopeId","data-v-6b88f666"]]),Jg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qg});let Di=null;const Kg={data(){return{posHeading:0,posPitch:0,posRoll:0,posAlt:0,posLat:0,posLon:0,cartesinaX:0,cartesinaY:0,cartesinaZ:0,cartesinaH:0,cartesinaP:0,cartesinaR:0}},mounted(){this.initMap()},methods:{initMap(){const i=[{id:3,name:"\u9AD8\u5FB7\u5730\u56FE02",type:"UrlTemplateImageryProvider",classConfig:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"},interfaceConfig:{},offset:"0,0",invertswitch:0,filterRGB:"#ffffff",showswitch:1,weigh:13,createtime:1624346908,updatetime:1647395260},{id:14,name:"\u9AD8\u5FB7\u5730\u56FE01",type:"UrlTemplateImageryProvider",classConfig:{url:"http://webst03.is.autonavi.com/appmaptile?x={x}&y={y}&z={z}&style=7"},interfaceConfig:{saturation:0,brightness:.6,contrast:1.8,hue:1,gamma:.3},offset:"0,0",invertswitch:1,filterRGB:"#4e70a6",showswitch:1,weigh:0,createtime:1624326728,updatetime:1646979297}],{viewer:n,base:r}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0,initNavigate:!0,depthTest:!0},i);this.c_viewer=n,this.base=r;let o=this.c_viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));o.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),n.flyTo(o),this.initCameraPos(),this.cameraModify()},initCameraPos(){let i=this.base.getCameraPosition();if(i){const{lon:n,lat:r,height:o,heading:s,pitch:l,roll:c,position:{x:u,y:d,z:g},cameraHeading:x,cameraPitch:m,cameraRoll:v}=i;this.posAlt=o,this.posHeading=s,this.posPitch=l,this.posRoll=c,this.posLat=r,this.posLon=n,this.cartesinaX=u,this.cartesinaY=d,this.cartesinaZ=g,this.cartesinaH=x,this.cartesinaP=m,this.cartesinaR=v}else console.log("can not get postion.")},cameraModify(){this.c_viewer.scene.camera.moveEnd.addEventListener(i=>{let n=this.base.getCameraPosition();if(n){const{lon:r,lat:o,height:s,heading:l,pitch:c,roll:u,position:{x:d,y:g,z:x},cameraHeading:m,cameraPitch:v,cameraRoll:w}=n;this.posAlt=s,this.posHeading=l,this.posPitch=c,this.posRoll=u,this.posLat=o,this.posLon=r,this.cartesinaX=d,this.cartesinaY=g,this.cartesinaZ=x,this.cartesinaH=m,this.cartesinaP=v,this.cartesinaR=w}else console.log("can not get postion.")})},bindEventToScene(i){Di&&Di.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),this.base.bindHandelEvent({leftClick:(n,r)=>{Di=r,i&&i(n)}})},btnGroupOpera(i){const n=this.c_viewer.scene,r=this;i==="scenePickBuild"?this.bindEventToScene(o=>{let s=n.pick(o.position);Cesium.defined(s)?(this.$message("\u62FE\u53D6\u5230\u6A21\u578B==\u300B\u8BF7\u63A7\u5236\u53F0\u67E5\u770B"),console.log("this is obation build=>",s)):(this.$message("nothing picked!"),console.log("nothing picked!"))}):i==="scenePickPos"?this.bindEventToScene(o=>{let s=n.pickPosition(o.position);this.c_viewer.entities.add({position:s,point:{color:Cesium.Color.RED,pixelSize:50,outlineColor:Cesium.Color.YELLOWGREEN,outlineWidth:2,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND}})}):i==="drillPick"?this.bindEventToScene(o=>{let s=n.drillPick(o.position,2);this.$message("\u62FE\u53D6\u5230\u6A21\u578B==\u300B\u8BF7\u63A7\u5236\u53F0\u67E5\u770B"),console.log("this is obation build=>",s)}):i==="PickElliposid"?this.bindEventToScene(o=>{let s=n.camera.pickEllipsoid(o.position,n.globe.elliposid);this.c_viewer.entities.add({position:s,point:{color:Cesium.Color.RED,pixelSize:50,outlineColor:Cesium.Color.YELLOWGREEN,outlineWidth:2,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND}})}):i==="globePick"?this.bindEventToScene(o=>{let s=this.c_viewer.camera.getPickRay(o.position),l=n.globe.pick(s,n),c=Cesium.Cartographic.fromCartesian(l);console.log("lon---lonlat",c),this.c_viewer.entities.add({position:l,point:{color:Cesium.Color.RED,pixelSize:50,outlineColor:Cesium.Color.YELLOWGREEN,outlineWidth:2,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND}})}):i==="getImg"&&this.bindEventToScene(o=>{let s=this.c_viewer.camera.getPickRay(o.position),l=this.c_viewer.imageryLayers.pickImageryLayerFeatures(s,n);Cesium.defined(l)?Cesium.when(l,function(c){c.length>0?(r.$message("\u62FE\u53D6\u5230\u6A21\u578B==\u300B\u8BF7\u63A7\u5236\u53F0\u67E5\u770B"),console.log("this is obation build=>",c)):r.$message("\u672A\u62FE\u53D6\u5230\u7269\u4F53")}):(this.$message("nothing picked!"),console.log("nothing picked!"))})}},beforeUnmount(){this.c_viewer=null,this.base=null}},vt=fe("data-v-0d8a7f7f");ye("data-v-0d8a7f7f");const qg={class:"sky-box"},em=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),tm={class:"position-panel"},im=y("div",{class:"clearfix"},[y("span",null,"\u76F8\u673A\u4F4D\u7F6E")],-1),am={class:"card-content"},nm=y("span",null,"longitude\uFF1A",-1),rm=y("span",null,"latitude\uFF1A",-1),om=y("span",null,"heading\uFF1A",-1),sm=y("span",null,"pitch\uFF1A",-1),lm=y("span",null,"roll\uFF1A",-1),cm=y("span",null,"posAlt\uFF1A",-1),hm=y("div",{class:"clearfix"},[y("span",null,"\u76F8\u673A\u7B1B\u5361\u5C14\u4F4D\u7F6E")],-1),um={class:"card-content"},dm=y("span",null,"\u7B1B\u5361\u5C14\u7ECF\u5EA6:",-1),gm=y("span",null,"\u7B1B\u5361\u5C14\u7EAC\u5EA6:",-1),mm=y("span",null,"\u7B1B\u5361\u5C14\u9AD8\u5EA6:",-1),pm=y("span",null,"\u671D\u5411:",-1),fm=y("span",null,"\u503E\u659C\u89D2:",-1),xm=y("span",null,"\u7FFB\u6EDA\u89D2:",-1),vm={class:"position-panel-right"},ym=y("div",{class:"clearfix"},[y("span",null,"\u5DE6\u952E\u70B9\u51FB\uFF0C\u4E0D\u540C\u7684\u5750\u6807\u62FE\u53D6")],-1),bm={class:"group-btn"},_m=he("\u4E0E\u7403\u9762\u6C42\u4EA4"),Cm=he("scenePick\u62FE\u53D6\u573A\u666F\u5750\u6807"),wm=he("\u62FE\u53D6\u4E09\u7EF4\u7269\u4F53"),Im=he("drillPick\u62FE\u53D6\u591A\u4E2A\u7269\u4F53"),Am=he("globePick\u62FE\u53D6\u5750\u6807\u4F4D\u7F6E"),Sm=he("\u62FE\u53D6img");be();const Pm=vt((i,n,r,o,s,l)=>{const c=K("el-card"),u=K("el-button");return z(),H("div",qg,[em,y("div",tm,[y(c,{class:"box-card"},{default:vt(()=>[im,y("div",am,[y("p",null,[nm,he(Ce(s.posLon),1)]),y("p",null,[rm,he(Ce(s.posLat),1)]),y("p",null,[om,he(Ce(s.posHeading),1)]),y("p",null,[sm,he(Ce(s.posPitch),1)]),y("p",null,[lm,he(Ce(s.posRoll),1)]),y("p",null,[cm,he(Ce(s.posAlt),1)])]),hm,y("div",um,[y("p",null,[dm,he(Ce(s.cartesinaX),1)]),y("p",null,[gm,he(Ce(s.cartesinaY),1)]),y("p",null,[mm,he(Ce(s.cartesinaZ),1)]),y("p",null,[pm,he(Ce(s.cartesinaH),1)]),y("p",null,[fm,he(Ce(s.cartesinaP),1)]),y("p",null,[xm,he(Ce(s.cartesinaR),1)])])]),_:1})]),y("div",vm,[y(c,{class:"box-card"},{default:vt(()=>[ym,y("div",bm,[y(u,{size:"mini",onClick:n[1]||(n[1]=d=>l.btnGroupOpera("PickElliposid"))},{default:vt(()=>[_m]),_:1}),y(u,{size:"mini",onClick:n[2]||(n[2]=d=>l.btnGroupOpera("scenePickPos"))},{default:vt(()=>[Cm]),_:1}),y(u,{size:"mini",onClick:n[3]||(n[3]=d=>l.btnGroupOpera("scenePickBuild"))},{default:vt(()=>[wm]),_:1}),y(u,{size:"mini",onClick:n[4]||(n[4]=d=>l.btnGroupOpera("drillPick"))},{default:vt(()=>[Im]),_:1}),y(u,{size:"mini",onClick:n[5]||(n[5]=d=>l.btnGroupOpera("globePick"))},{default:vt(()=>[Am]),_:1}),y(u,{size:"mini",onClick:n[6]||(n[6]=d=>l.btnGroupOpera("getImg"))},{default:vt(()=>[Sm]),_:1})])]),_:1})])])});var Mm=le(Kg,[["render",Pm],["__scopeId","data-v-0d8a7f7f"]]),Gm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Mm});const Tm={data(){return{activeId:"light"}},mounted(){this.initMap()},methods:{initMap(){const i=[{id:3,name:"\u9AD8\u5FB7\u5730\u56FE02",type:"UrlTemplateImageryProvider",classConfig:{url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"},interfaceConfig:{},offset:"0,0",invertswitch:0,filterRGB:"#ffffff",showswitch:1,weigh:13,createtime:1624346908,updatetime:1647395260}],{viewer:n,material:r,graphics:o,draw:s}=new we(Cesium,"cesiumContainer",{infoBox:!1,shouldAnimate:!0},i);this.c_viewer=n,this.material=r,this.graphics=o,this.draw=s;var l=n.scene.primitives.add(new Cesium.Cesium3DTileset({url:"static/data/3DTiles/building/tileset.json"}));l.readyPromise.then(function(c){c.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height} >= 300","rgba(0, 149, 251, 0.3)"],["${height} >= 200","rgb(0, 149, 251, 0.3)"],["${height} >= 100","rgb(0, 149, 251, 0.3)"],["${height} >= 50","rgb(0, 149, 251, 0.3)"],["${height} >= 25","rgb(0, 149, 251, 0.3)"],["${height} >= 10","rgb(0, 149, 251, 0.3)"],["${height} >= 5","rgb(0, 149, 251, 0.3)"],["true","rgb(0, 149, 251, 0.3)"]]}}),n.flyTo(c)})},caldDistain(i){this.activeId=i,this.draw.drawLineGraphics({measure:!0,callback:()=>{}})},calArea(i){this.activeId=i,this.draw.drawPolygonGraphics({measure:!0,callback:()=>{}})},calTrangle(i){this.activeId=i,this.draw.drawTrianglesGraphics({measure:!0,callback:()=>{}})},calClen(i){this.activeId=i,this.draw._drawLayer.entities.removeAll()}},beforeUnmount(){this.c_viewer=null,this.material=null,this.graphics=null}},Fi=fe("data-v-4ba6a31e");ye("data-v-4ba6a31e");const Wm={class:"sky-box"},Vm=y("div",{id:"cesiumContainer",class:"map3d-contaner"},null,-1),Rm=y("div",{class:"card-header"},[y("span",null,"\u6D4B\u91CF\u9762\u677F")],-1);be();const Dm=Fi((i,n,r,o,s,l)=>{const c=K("el-card");return z(),H("div",Wm,[Vm,y(c,{class:"box-card"},{header:Fi(()=>[Rm]),default:Fi(()=>[y("div",{class:["text item",s.activeId==="distain"?"active":""],onClick:n[1]||(n[1]=u=>l.caldDistain("distain"))},"\u7A7A\u95F4\u8DDD\u79BB",2),y("div",{class:["text item",s.activeId==="area"?"active":""],onClick:n[2]||(n[2]=u=>l.calArea("area"))},"\u7A7A\u95F4\u9762\u79EF",2),y("div",{class:["text item",s.activeId==="trangle"?"active":""],onClick:n[3]||(n[3]=u=>l.calTrangle("trangle"))},"\u4E09\u89D2\u91CF\u6D4B",2),y("div",{class:["text item",s.activeId==="clen"?"active":""],onClick:n[4]||(n[4]=u=>l.calClen("clen"))},"\u6E05\u9664\u91CF\u6D4B",2)]),_:1})])});var Fm=le(Tm,[["render",Dm],["__scopeId","data-v-4ba6a31e"]]),Zm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Fm});const Bm={name:"layoutLogo",setup(){const i=ct(),n=ai(),r=Ee(()=>i.state.themeConfig),o=Ee(()=>i.state.themeConfig.isCollapse);return{getThemeConfig:r,setShowLogo:o,goHome:()=>{n.push("/home")},onThemeConfigChange:()=>{if(i.state.themeConfig.layout==="transverse")return!1;i.state.themeConfig.isCollapse=!i.state.themeConfig.isCollapse}}}},km=fe("data-v-4f4ead3b");ye("data-v-4f4ead3b");const Em=y("img",{src:Wi,class:"layout-logo-medium-img"},null,-1),Nm=y("img",{src:Wi,class:"layout-logo-size-img"},null,-1);be();const Lm=km((i,n,r,o,s,l)=>o.setShowLogo?(z(),H("div",{key:1,class:"layout-logo-size",onClick:n[2]||(n[2]=(...c)=>o.onThemeConfigChange&&o.onThemeConfigChange(...c))},[Nm])):(z(),H("div",{key:0,class:"layout-logo",onClick:n[1]||(n[1]=(...c)=>o.goHome&&o.goHome(...c))},[Em,y("span",null,Ce(o.getThemeConfig.globalTitle),1)])));var Xm=le(Bm,[["render",Lm],["__scopeId","data-v-4f4ead3b"]]);const zm=$e({name:"navMenuSubItem",props:{chil:{type:Array,default:()=>[]},parentPath:{type:String,default:""}},setup(i){return{chils:Ee(()=>i.chil),resolvePath:o=>st.isExternal(o)?o:st.isExternal(i.parentPath)?i.parentPath:wn.resolve(i.parentPath,o)}}});function Hm(i,n,r,o,s,l){const c=K("CIcon"),u=K("sub-item",!0),d=K("el-submenu"),g=K("el-menu-item");return z(!0),H(qe,null,nt(i.chils,(x,m)=>(z(),H(qe,{key:m},[x.children&&x.children.length>0?(z(),H(d,{index:i.resolvePath(x.path),key:x.path},{title:_e(()=>[y(c,{"icon-class":x.meta.icon},null,8,["icon-class"]),y("span",null,Ce(x.meta.title),1)]),default:_e(()=>[y(u,{chil:x.children,"parent-path":i.resolvePath(x.path)},null,8,["chil","parent-path"])]),_:2},1032,["index"])):(z(),H(g,{index:i.resolvePath(x.path),key:x.path},{default:_e(()=>[x.meta.isLink?(z(),H("a",{key:1,href:x.meta.isLink,target:"_blank"},[y(c,{"icon-class":x.meta.icon?x.meta.icon:""},null,8,["icon-class"]),he(" "+Ce(x.meta.title),1)],8,["href"])):(z(),H(qe,{key:0},[y(c,{"icon-class":x.meta.icon?x.meta.icon:""},null,8,["icon-class"]),y("span",null,Ce(x.meta.title),1)],64))]),_:2},1032,["index"]))],64))),128)}var Um=le(zm,[["render",Hm]]);const $m=$e({name:"navMenuSubBar",components:{SubItem:Um},props:{menuList:{type:Array,require:!0}},setup(i){const n=ct(),r=Ht(),o=je({defaultActive:r.path}),s=Ee(()=>i.menuList),l=Ee(()=>n.state.themeConfig),c=Ee(()=>document.body.clientWidth<1e3?!1:n.state.themeConfig.isCollapse);return Ci(u=>{o.defaultActive=u.path,document.body.clientWidth<1e3&&(l.value.isCollapse=!1)}),Fe({getThemeConfig:l,menuLists:s,setIsCollapse:c},wt(o))}});function Ym(i,n,r,o,s,l){const c=K("CIcon"),u=K("SubItem"),d=K("el-submenu"),g=K("el-menu-item"),x=K("el-menu");return z(),H(x,{router:"","background-color":"transparent",collapse:i.setIsCollapse,"default-active":i.defaultActive,"unique-opened":i.getThemeConfig.isUniqueOpened,"collapse-transition":!1},{default:_e(()=>[(z(!0),H(qe,null,nt(i.menuLists,(m,v)=>(z(),H(qe,{key:v},[m.children&&m.children.length>0?(z(),H(d,{index:m.path,key:m.path},{title:_e(()=>[y(c,{"icon-class":m.meta.icon?m.meta.icon:""},null,8,["icon-class"]),y("span",null,Ce(m.meta.title),1)]),default:_e(()=>[y(u,{chil:m.children,"parent-path":m.path},null,8,["chil","parent-path"])]),_:2},1032,["index"])):(z(),H(g,{index:m.path,key:m.path},Yi({default:_e(()=>[y(c,{"icon-class":m.meta.icon?m.meta.icon:""},null,8,["icon-class"])]),_:2},[m.meta.isLink?{name:"title",fn:_e(()=>[y("a",{href:m.meta.isLink,target:"_blank"},Ce(m.meta.title),9,["href"])])}:{name:"title",fn:_e(()=>[y("span",null,Ce(m.meta.title),1)])}]),1032,["index"]))],64))),128))]),_:1},8,["collapse","default-active","unique-opened"])}var Om=le($m,[["render",Ym]]);const jm={name:"layoutAside",components:{Logo:Xm,SubBar:Om},setup(){const{proxy:i}=Ut(),n=ct(),r=je({menuList:[],clientWidth:""}),o=Ee(()=>n.state.themeConfig),s=Ee(()=>{let{layout:g,isShowLogo:x}=n.state.themeConfig;return x&&g==="defaults"||x&&g==="columns"}),l=g=>{r.clientWidth=g},c=Ee(()=>{let{layout:g,isCollapse:x,menuBar:m}=n.state.themeConfig,v=m==="#FFFFFF"||m==="#FFF"||m==="#fff"||m==="#ffffff"?"layout-el-aside-br-color":"";return g==="columns"?x?["layout-aside-width1",v]:["layout-aside-width-default",v]:x?["layout-aside-width64",v]:["layout-aside-width-default",v]}),u=()=>{const g=n.state.permission.routeList;r.menuList=d(g)},d=g=>g.filter(x=>x.meta&&!x.meta.isHide).map(x=>(x=Object.assign({},x),x.children&&(x.children=d(x.children)),x));return ni(()=>n.state.themeConfig,g=>{if(g.isShowLogoChange!==g.isShowLogo){if(!i.$refs.layoutAsideScrollbarRef)return!1;i.$refs.layoutAsideScrollbarRef.update()}}),wi(()=>{l(document.body.clientWidth),u(),i.mittBus.on("layoutMobileResize",g=>{l(g.clientWidth)})}),zt(()=>{}),Fe({getThemeConfig:o,setShowLogo:s,setCollapseWidth:c},wt(r))}};function Qm(i,n,r,o,s,l){const c=K("Logo"),u=K("SubBar"),d=K("el-scrollbar"),g=K("el-aside"),x=K("el-drawer");return i.clientWidth>1e3?(z(),H(g,{key:0,class:["layout-aside",o.setCollapseWidth]},{default:_e(()=>[o.setShowLogo?(z(),H(c,{key:0})):Ne("",!0),y(d,{class:"flex-auto",ref:"layoutAsideScrollbarRef",style:{background:"rgb(48, 65, 86)"}},{default:_e(()=>[y(u,{menuList:i.menuList,class:o.setCollapseWidth},null,8,["menuList","class"])]),_:1},512)]),_:1},8,["class"])):(z(),H(x,{key:1,modelValue:o.getThemeConfig.isCollapse,"onUpdate:modelValue":n[1]||(n[1]=m=>o.getThemeConfig.isCollapse=m),"with-header":!1,direction:"ltr",size:"220px"},{default:_e(()=>[y(g,{class:"layout-aside w100 h100"},{default:_e(()=>[o.setShowLogo?(z(),H(c,{key:0})):Ne("",!0),y(d,{class:"flex-auto",ref:"layoutAsideScrollbarRef"},{default:_e(()=>[y(u,{menuList:i.menuList},null,8,["menuList"])]),_:1},512)]),_:1})]),_:1},8,["modelValue"]))}var Jm=le(jm,[["render",Qm]]),Km="./assets/profile.3458b2c4.jpg";const qm={name:"layoutBreadcrumb",setup(){const i=ct(),n=Ht(),r=ai(),o=je({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),s=Ee(()=>i.state.themeConfig),l=v=>{const{redirect:w,path:p}=v;w?r.push(w):r.push(p)},c=()=>{i.state.themeConfig.isCollapse=!i.state.themeConfig.isCollapse},u=v=>{v.map(w=>{o.routeSplit.map((p,C,S)=>{(o.routeSplitFirst===w.path||"/"+o.routeSplitFirst===w.path)&&(o.routeSplitFirst=S[o.routeSplitIndex],o.breadcrumbList.push(w),o.routeSplitIndex++,w.children&&u(w.children))})})},d=v=>{const w=i.state.permission.routeList;if(!i.state.themeConfig.isBreadcrumb)return!1;o.routeSplit=v.split("/"),o.routeSplit.shift(),o.routeSplitFirst=o.routeSplit[0],o.routeSplitIndex=1,u(w)};mt(()=>{n.meta.title&&d(n.path)}),Ci(v=>{o.breadcrumbList=[],v.meta.title&&d(v.path)}),ta(v=>{o.breadcrumbList=[],v.meta.title&&d(v.path)});const g=()=>{var v=i.dispatch("LogOut");v.then(w=>{console.log(w),r.push("/login")}).catch(w=>{console.log(w)})},x=()=>{r.push("/visual/v3d")},m=()=>{r.push("/visual/v2d")};return Vt(Fe({onThemeConfigChange:c,getThemeConfig:s,onBreadcrumbClick:l},wt(o)),{ountlogin:g,to3dVisual:x,to2dVisual:m,avatar:Km})}},ot=fe("data-v-36140578");ye("data-v-36140578");const e1={class:"layout-navbars-breadcrumb"},t1={style:{flex:"6",display:"flex","align-items":"center",height:"100%"}},i1={key:0,class:"layout-navbars-breadcrumb-span"},a1={class:"layout-navbars-breadcrumb-right"},n1=y("span",{class:"el-dropdown-link",style:{cursor:"pointer"}},[y("i",{class:"el-icon-arrow-down el-icon--right"})],-1),r1=he("\u4E2A\u4EBA\u4FE1\u606F"),o1=he("\u4FEE\u6539\u5BC6\u7801"),s1=he("\u9000\u51FA\u767B\u5F55");be();const l1=ot((i,n,r,o,s,l)=>{const c=K("CIcon"),u=K("el-breadcrumb-item"),d=K("el-breadcrumb"),g=K("svg-icon"),x=K("el-tooltip"),m=K("el-image"),v=K("el-dropdown-item"),w=K("el-dropdown-menu"),p=K("el-dropdown");return Ui((z(),H("div",e1,[y("div",t1,[y("i",{class:["layout-navbars-breadcrumb-icon",o.getThemeConfig.isCollapse?"el-icon-s-unfold":"el-icon-s-fold"],onClick:n[1]||(n[1]=(...C)=>o.onThemeConfigChange&&o.onThemeConfigChange(...C))},null,2),y(d,{class:"layout-navbars-breadcrumb-hide"},{default:ot(()=>[y(An,{name:"breadcrumb",mode:"out-in"},{default:ot(()=>[(z(!0),H(qe,null,nt(i.breadcrumbList,(C,S)=>(z(),H(u,{key:C.meta.title},{default:ot(()=>[S===i.breadcrumbList.length-1?(z(),H("span",i1,[o.getThemeConfig.isBreadcrumbIcon?(z(),H(c,{key:0,"icon-class":C.meta.icon,"icon-color":"#333","cust-class":"layout-navbars-breadcrumb-iconfont"},null,8,["icon-class"])):Ne("",!0),he(Ce(C.meta.title),1)])):(z(),H("a",{key:1,onClick:Rt(G=>o.onBreadcrumbClick(C),["prevent"])},[o.getThemeConfig.isBreadcrumbIcon?(z(),H(c,{key:0,"icon-class":C.meta.icon,"icon-color":"#333","cust-class":"layout-navbars-breadcrumb-iconfont"},null,8,["icon-class"])):Ne("",!0),he(Ce(C.meta.title),1)],8,["onClick"]))]),_:2},1024))),128))]),_:1})]),_:1})]),y("div",a1,[y(x,{content:"\u4E8C\u7EF4\u5730\u56FE",effect:"dark",placement:"bottom",class:"right-menu-item hover-effect"},{default:ot(()=>[y("div",null,[y(g,{"icon-class":"secondDimension",onClick:o.to2dVisual},null,8,["onClick"])])]),_:1}),y(x,{content:"\u4E09\u7EF4\u5730\u56FE",effect:"dark",placement:"bottom",class:"right-menu-item hover-effect"},{default:ot(()=>[y("div",null,[y(g,{"icon-class":"threeDimesion",onClick:o.to3dVisual},null,8,["onClick"])])]),_:1}),y(m,{style:{width:"35px",height:"35px","border-radius":"50%",cursor:"pointer"},src:o.avatar,fit:"cover"},null,8,["src"]),y(p,null,{dropdown:ot(()=>[y(w,null,{default:ot(()=>[y(v,null,{default:ot(()=>[r1]),_:1}),y(v,null,{default:ot(()=>[o1]),_:1}),y(v,{divided:"",onClick:o.ountlogin},{default:ot(()=>[s1]),_:1},8,["onClick"])]),_:1})]),default:ot(()=>[n1]),_:1})])],512)),[[In,o.getThemeConfig.isBreadcrumb]])});var c1=le(qm,[["render",l1],["__scopeId","data-v-36140578"]]);const h1={name:"layoutBreadcrumbIndex",components:{Breadcrumb:c1},setup(){const{proxy:i}=Ut(),n=ct();Ht();const r=je({menuList:[]}),o=Ee(()=>n.state.themeConfig);return mt(()=>{}),zt(()=>{i.mittBus.off("getBreadcrumbIndexSetFilterRoutes")}),Fe({getThemeConfig:o},wt(r))}},u1=fe("data-v-7710a5bc");ye("data-v-7710a5bc");const d1={class:"layout-navbars-breadcrumb-index"};be();const g1=u1((i,n,r,o,s,l)=>{const c=K("Breadcrumb");return z(),H("div",d1,[y(c)])});var m1=le(h1,[["render",g1],["__scopeId","data-v-7710a5bc"]]);const p1={name:"layoutTagsView",components:{},setup(){const{proxy:i}=Ut(),n=Qe([]),r=Qe(null),o=Qe(null),s=ct(),l=Ht(),c=ai(),u=je({routePath:l.path,tagsRefsIndex:0,tagsViewList:[],sortable:"",tagsViewRoutesList:[]}),d=s.state.tagsViewRoutes.tagsSession,g=Ee(()=>s.state.themeConfig),x=M=>{na(d,M)},m=M=>{u.routePath=l.path,u.tagsViewList=[],s.state.themeConfig.isCacheTagsView||ra(d),u.tagsViewRoutesList=s.state.tagsViewRoutes.tagsViewRoutes,M?u.tagsViewList=s.state.tagsViewRoutes.tagsViewRoutes:v(l)},v=M=>{if(u.tagsViewList.some(R=>R.path===M.path))return!1;const{name:_,path:b,component:A,meta:F,children:T}=M,Z=JSON.parse(JSON.stringify({name:_,path:b,component:A,meta:F,children:T})),W=Object.assign({},Z);u.tagsViewList.push(W),x(u.tagsViewList)},w=M=>{u.tagsViewList.map((_,b,A)=>{_.meta.isAffix||_.path===M&&(u.tagsViewList.splice(b,1),setTimeout(()=>{u.tagsViewList.length===b?c.push({path:A[A.length-1].path,query:A[A.length-1].query||void 0}):c.push({path:A[b].path,query:A[b].query})},0))}),x(u.tagsViewList)},p=M=>M===u.routePath,C=(M,_)=>{u.routePath=M.path,u.tagsRefsIndex=_,c.push(M)},S=()=>{i.$refs.scrollbarRef.update()},G=M=>{i.$refs.scrollbarRef.$refs.wrap.scrollLeft+=M.wheelDelta/4},P=()=>{Pn(()=>{if(n.value.length<=0)return!1;let M=n.value[u.tagsRefsIndex],_=u.tagsRefsIndex,b=n.value.length,A=n.value[0],F=n.value[n.value.length-1],T=i.$refs.scrollbarRef.$refs.wrap,Z=T.scrollWidth,W=T.offsetWidth,R=T.scrollLeft,N=n.value[u.tagsRefsIndex-1],B=n.value[u.tagsRefsIndex+1],Y="",L="";M===A?T.scrollLeft=0:M===F?T.scrollLeft=Z-W:(_===0?Y=A.offsetLeft-5:Y=N&&N.offsetLeft-5,_===b?L=F.offsetLeft+F.offsetWidth+5:L=B.offsetLeft+B.offsetWidth+5,L>R+W?T.scrollLeft=L-W:Y<R&&(T.scrollLeft=Y)),S()})},I=M=>{u.tagsViewList.length>0&&(u.tagsRefsIndex=u.tagsViewList.findIndex(_=>_.path===M))};return ni(()=>s.state.tagsViewRoutes.tagsViewRoutes,M=>{if(M.length===u.tagsViewRoutesList.length)return!1;m()}),wi(()=>{}),zt(()=>{}),Sn(()=>{n.value=[]}),mt(()=>{m(!0)}),Ci(M=>{M.meta.title&&(u.routePath=M.path,v(M),I(M.path),P())}),ta(M=>{M.meta.title&&(u.routePath=M.path,v(M),I(M.path),P())}),Fe({isActive:p,getTagsViewRoutes:m,onTagsClick:C,tagsRefs:n,scrollbarRef:r,tagsUlRef:o,onHandleScroll:G,getThemeConfig:g,closeCurrentTagsView:w},wt(u))}},Wa=fe("data-v-f671484e");ye("data-v-f671484e");const f1={class:"layout-navbars-tagsview-ul tags-style-one",ref:"tagsUlRef"},x1={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont font14"};be();const v1=Wa((i,n,r,o,s,l)=>{const c=K("el-scrollbar");return z(),H("div",{class:["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":o.getThemeConfig.layout==="classic"}]},[y(c,{ref:"scrollbarRef",onWheel:Rt(o.onHandleScroll,["prevent"])},{default:Wa(()=>[y("ul",f1,[(z(!0),H(qe,null,nt(i.tagsViewList,(u,d)=>(z(),H("li",{key:d,class:["layout-navbars-tagsview-ul-li",{"is-active":o.isActive(u.path)}],"data-name":u.name,onClick:g=>o.onTagsClick(u,d),ref:g=>{g&&(o.tagsRefs[d]=g)}},[o.isActive(u.path)?(z(),H("i",x1)):Ne("",!0),!o.isActive(u.path)&&o.getThemeConfig.isTagsviewIcon?(z(),H("i",{key:1,class:["layout-navbars-tagsview-ul-li-iconfont",u.meta.icon]},null,2)):Ne("",!0),y("span",null,Ce(u.meta.title),1),o.isActive(u.path)&&i.tagsViewList.length>1?(z(),H(qe,{key:2},[u.meta.isAffix?Ne("",!0):(z(),H("i",{key:0,class:"el-icon-close layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:Rt(g=>o.closeCurrentTagsView(u.path),["stop"])},null,8,["onClick"]))],64)):Ne("",!0),u.meta.isAffix?Ne("",!0):(z(),H("i",{key:3,class:"el-icon-close layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:Rt(g=>o.closeCurrentTagsView(u.path),["stop"])},null,8,["onClick"]))],10,["data-name","onClick"]))),128))],512)]),_:1},8,["onWheel"])],2)});var y1=le(p1,[["render",v1],["__scopeId","data-v-f671484e"]]);const b1={name:"layoutNavBars",components:{BreadcrumbIndex:m1,TagsView:y1},setup(){return{}}},_1=fe("data-v-2d8d88ee");ye("data-v-2d8d88ee");const C1={class:"layout-navbars-container"};be();const w1=_1((i,n,r,o,s,l)=>{const c=K("BreadcrumbIndex"),u=K("TagsView");return z(),H("div",C1,[y(c),y(u)])});var I1=le(b1,[["render",w1],["__scopeId","data-v-2d8d88ee"]]);const A1={name:"layoutHeader",components:{NavBarsIndex:I1},setup(){const i=ct(),n=je({isCollapseWidth:i.state.themeConfig.isCollapse});return ni(()=>i.state.themeConfig.isCollapse,(r,o)=>{n.isCollapseWidth=r}),Fe({},wt(n))}};function S1(i,n,r,o,s,l){const c=K("NavBarsIndex"),u=K("el-header");return z(),H(u,{class:"layout-header",height:"50",style:{position:"fixed",width:"100%","z-index":"2",padding:"0","padding-right":i.isCollapseWidth?"64px":"200px"}},{default:_e(()=>[y(c)]),_:1},8,["style"])}var P1=le(A1,[["render",S1]]);const M1=$e({name:"layoutAppMain",setup(){const i=ct(),n=je({refreshRouterViewKey:null,keepAliveNameList:[],keepAliveNameNewList:[]}),r=Ee(()=>i.state.themeConfig.animation);return Fe({setTransitionName:r},wt(n))}}),G1={class:"h100",style:{"padding-top":"90px"}};function T1(i,n,r,o,s,l){const c=K("router-view");return z(),H("div",G1,[y(c,null,{default:_e(({Component:u})=>[y(Mn,{name:i.setTransitionName,mode:"out-in"},{default:_e(()=>[(z(),H(Gn,{include:i.keepAliveNameList},[(z(),H(ia(u),{key:i.refreshRouterViewKey,class:"w100"}))],1032,["include"]))]),_:2},1032,["name"])]),_:1})])}var W1=le(M1,[["render",T1]]);const V1={name:"layoutDefaults",components:{Aside:Jm,Header:P1,MainView:W1},setup(){const{proxy:i}=Ut(),n=ct(),r=Ht(),o=Ee(()=>n.state.themeConfig.isFixedHeader);return ni(()=>r.path,()=>{i.$refs.layoutDefaultsScrollbarRef.wrap.scrollTop=0}),{isFixedHeader:o}}};function R1(i,n,r,o,s,l){const c=K("Aside"),u=K("Header"),d=K("MainView"),g=K("el-scrollbar"),x=K("el-container"),m=K("el-backtop");return z(),H(x,{class:"layout-container"},{default:_e(()=>[y(c),y(x,{class:"flex-center layout-backtop"},{default:_e(()=>[o.isFixedHeader?(z(),H(u,{key:0})):Ne("",!0),y(g,{ref:"layoutDefaultsScrollbarRef"},{default:_e(()=>[o.isFixedHeader?Ne("",!0):(z(),H(u,{key:0})),y(d)]),_:1},512)]),_:1}),y(m,{target:".layout-backtop"})]),_:1})}var D1=le(V1,[["render",R1]]);const F1=$e({name:"Layout",components:{Defaults:D1},setup(){const{proxy:i}=Ut(),n=ct(),r=Ee(()=>n.state.themeConfig.layout),o=Ee(()=>n.state.themeConfig),s=()=>{const l=document.body.clientWidth;l<1e3?(o.value.isCollapse=!1,i.mittBus.emit("layoutMobileResize",{layout:"defaults",clientWidth:l})):i.mittBus.emit("layoutMobileResize",{layout:"defaults",clientWidth:l})};return wi(()=>{s(),window.addEventListener("resize",st.debounce(()=>s(),300,!1))}),zt(()=>{window.removeEventListener("resize",st.debounce(()=>s(),300,!1))}),{layout:r,getThemeConfig:o}}}),Z1=fe("data-v-7c256507");ye("data-v-7c256507");const B1={class:"app-wrapper"};be();const k1=Z1((i,n,r,o,s,l)=>(z(),H("div",B1,[(z(),H(ia(i.layout)))])));var Va=le(F1,[["render",k1],["__scopeId","data-v-7c256507"]]),E1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Va});$t.configure({showSpinner:!1});const N1=X1(),L1=["/login","/auth-redirect","/bind","/register"];lt.beforeEach((i,n,r)=>{const o=qn("USER-TOKEN");if($t.start(),o)if(i.path==="/login")r({path:"/"}),$t.done();else if(Dt.state.user.roles.length===0){const s=$i.service();Dt.dispatch("GetInfo").then(l=>{const c=l.roles;Dt.dispatch("GenerateRoutes",{roles:c}).then(u=>{Ra(u,"",N1),s.close(),r(Vt(Fe({},i),{replace:!0}))})}).catch(l=>{Dt.dispatch("FedLogOut").then(()=>{tt.error(l),r({path:"/"})})})}else r();else L1.indexOf(i.path)!==-1?r():(r(`/login?redirect=${i.fullPath}`),$t.done())});const Ra=(i,n=" ",r)=>{i.forEach(o=>{if(o.path&&o.component){const s=o.component.replace(/^\/+/,""),l=s.replace(/\.\w+$/,""),c={path:o.path,redirect:o.redirect,name:o.name,component:o.component==="Layout"?Va:r(`./views/${l}.vue`),meta:o.meta};n||o.append?lt.addRoute(n||o.append,c):lt.addRoute(c),o.children&&o.children.length&&Ra(o.children,o.name,r)}})};function X1(){const i={"./views/dragDialog/index.vue":ro,"./views/dynForm/index.vue":Po,"./views/home/index.vue":Aa,"./views/login/login.vue":Sa,"./views/process/index.vue":ms,"./views/visual/index.vue":Pa,"./views/example/camera/cameraPosition.vue":Ns,"./views/example/camera/pointRotate.vue":$s,"./views/example/czm/index.vue":Eo,"./views/example/czm/rockets.vue":Ks,"./views/example/graphics/graphicsEight.vue":nl,"./views/example/graphics/graphicsFive.vue":hl,"./views/example/graphics/graphicsFour.vue":fl,"./views/example/graphics/graphicsNine.vue":Cl,"./views/example/graphics/graphicsOne.vue":Ml,"./views/example/graphics/graphicsSeven.vue":Dl,"./views/example/graphics/graphicsSix.vue":zl,"./views/example/graphics/graphicsThree.vue":jl,"./views/example/graphics/graphicsTwo.vue":tc,"./views/example/infoBox/constructBox.vue":lc,"./views/example/infoBox/createCustomDefBillboard.vue":pc,"./views/example/infoBox/entityLayerBox.vue":Cc,"./views/example/layer/arcgis.vue":Tc,"./views/example/layer/baidu.vue":kc,"./views/example/layer/tencent.vue":$c,"./views/example/layer/tianditu.vue":e0,"./views/example/material/areaPolylineCityLink.vue":g0,"./views/example/material/dynamicWall.vue":y0,"./views/example/material/haloWall.vue":A0,"./views/example/material/linkPoint.vue":W0,"./views/example/material/linkPointFlow.vue":B0,"./views/example/material/material_cylinder.vue":X0,"./views/example/material/polygonMaterial.vue":O0,"./views/example/material/polylineCityLink.vue":eh,"./views/example/material/sphereMaterial.vue":oh,"./views/example/primitive/lightCentrum.vue":dh,"./views/example/radar/circleScan.vue":vh,"./views/example/radar/coneControl.vue":Zh,"./views/example/radar/matrixControl.vue":Uh,"./views/example/radar/phaseControl.vue":cu,"./views/example/radar/phaseControlMaterial.vue":Pu,"./views/example/radar/radarScan.vue":Ru,"./views/example/radar/satelliteCoverage.vue":Ju,"./views/example/scene/groundSkyBox.vue":nd,"./views/example/scene/param.vue":dd,"./views/example/scene/postProcessStages.vue":bd,"./views/example/scene/rain.vue":Pd,"./views/example/scene/sceneParam.vue":Fd,"./views/example/scene/snow.vue":Xd,"./views/sysManage/auth/index.vue":Yd,"./views/sysManage/codeReg/index.vue":Kd,"./views/sysManage/config/index.vue":ag,"./views/sysManage/log/index.vue":lg,"./views/visual/v2d/index.vue":Ga,"./views/visual/v3d/index.vue":Ta,"./views/example/tools/analysis/index.vue":Zg,"./views/example/tools/drag/index.vue":zg,"./views/example/tools/draw/plot.vue":Jg,"./views/example/tools/event/pickPos.vue":Gm,"./views/example/tools/measure/index.vue":Zm};return n=>{let r=null;return Object.keys(i).some(o=>{if(o===n)return r=i[o].default,!0}),r}}lt.afterEach(()=>{$t.done()});if(typeof window!="undefined"){let i=function(){let n=document.body,r=document.getElementById("__svg__icons__dom__1682171321843__");r||(r=document.createElementNS("http://www.w3.org/2000/svg","svg"),r.style.position="absolute",r.style.width="0",r.style.height="0",r.id="__svg__icons__dom__1682171321843__"),r.innerHTML='<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-bug"><path d="M127.88 73.143c0 1.412-.506 2.635-1.518 3.669-1.011 1.033-2.209 1.55-3.592 1.55h-17.887c0 9.296-1.783 17.178-5.35 23.645l16.609 17.044c1.011 1.034 1.517 2.257 1.517 3.67 0 1.412-.506 2.635-1.517 3.668-.958 1.033-2.155 1.55-3.593 1.55-1.438 0-2.635-.517-3.593-1.55l-15.811-16.063a15.49 15.49 0 0 1-1.196 1.06c-.532.434-1.65 1.208-3.353 2.322a50.104 50.104 0 0 1-5.192 2.974c-1.758.87-3.94 1.658-6.546 2.364-2.607.706-5.189 1.06-7.748 1.06V47.044H58.89v73.062c-2.716 0-5.417-.367-8.106-1.102-2.688-.734-5.003-1.631-6.945-2.692a66.769 66.769 0 0 1-5.268-3.179c-1.571-1.057-2.73-1.94-3.476-2.65L33.9 109.34l-14.611 16.877c-1.066 1.14-2.344 1.711-3.833 1.711-1.277 0-2.422-.434-3.434-1.304-1.012-.978-1.557-2.187-1.635-3.627-.079-1.44.333-2.705 1.236-3.794l16.129-18.51c-3.087-6.197-4.63-13.644-4.63-22.342H5.235c-1.383 0-2.58-.517-3.592-1.55S.125 74.545.125 73.132c0-1.412.506-2.635 1.518-3.668 1.012-1.034 2.21-1.55 3.592-1.55h17.887V43.939L9.308 29.833c-1.012-1.033-1.517-2.256-1.517-3.669 0-1.412.505-2.635 1.517-3.668 1.012-1.034 2.21-1.55 3.593-1.55s2.58.516 3.593 1.55l13.813 14.106h67.396l13.814-14.106c1.012-1.034 2.21-1.55 3.592-1.55 1.384 0 2.581.516 3.593 1.55 1.012 1.033 1.518 2.256 1.518 3.668 0 1.413-.506 2.636-1.518 3.67l-13.814 14.105v23.975h17.887c1.383 0 2.58.516 3.593 1.55 1.011 1.033 1.517 2.256 1.517 3.668l-.005.01zM89.552 26.175H38.448c0-7.23 2.489-13.386 7.466-18.469C50.892 2.623 56.92.082 64 .082c7.08 0 13.108 2.541 18.086 7.624 4.977 5.083 7.466 11.24 7.466 18.469z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="icon-project-manage"><path d="M790.18 431.466V112.363H201.89V427.02l-100.036 67.5v388.219h788.159V488.456zm0 69.924zm-527.663-328.4h467.035v328.602h-70.53l-20.21 91.952H353.258l-20.21-91.952h-70.53zM201.89 500.179v1.414h-2.223zM829.385 822.11H162.482V562.22h121.255l20.21 91.952H687.92l20.21-91.952h121.254zM334.866 232.002h322.337v60.627H334.866zm0 107.715h322.337v60.627H334.866z" fill="#333" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 32 32" id="icon-secondDimension"><path d="m16 24-6.09-8.6A8.14 8.14 0 0 1 16 2a8.08 8.08 0 0 1 8 8.13 8.2 8.2 0 0 1-1.8 5.13zm0-20a6.07 6.07 0 0 0-6 6.13 6.19 6.19 0 0 0 1.49 4L16 20.52 20.63 14A6.24 6.24 0 0 0 22 10.13 6.07 6.07 0 0 0 16 4z" fill="currentColor" /><circle cx="16" cy="9" r="2" fill="currentColor" /><path d="M28 12h-2v2h2v14H4V14h2v-2H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V14a2 2 0 0 0-2-2z" fill="currentColor" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" id="icon-threeDimesion"><path d="M83.287 103.01c-1.57-3.84-6.778-10.414-15.447-19.548-2.327-2.444-2.182-4.306-1.338-9.862v-.64c.553-3.81 1.513-6.05 14.313-8.087 6.516-1.018 8.203 1.57 10.589 5.178l.785 1.193a12.625 12.625 0 0 0 6.43 5.207c1.134.524 2.53 1.164 4.421 2.24 4.596 2.53 4.596 5.41 4.596 11.753v.727a26.91 26.91 0 0 1-5.178 17.454 59.055 59.055 0 0 1-19.025 11.026c3.49-6.546.814-14.313 0-16.553l-.146-.087zM64 5.12a58.502 58.502 0 0 1 25.484 5.818 54.313 54.313 0 0 0-12.859 10.327c-.93 1.28-1.716 2.473-2.472 3.579-2.444 3.694-3.637 5.352-5.818 5.614a25.105 25.105 0 0 1-4.219 0c-4.276-.29-10.094-.64-11.956 4.422-1.193 3.23-1.396 11.956 2.444 16.495.66 1.077.778 2.4.32 3.578a7.01 7.01 0 0 1-2.066 3.229 18.938 18.938 0 0 1-2.909-2.91 18.91 18.91 0 0 0-8.32-6.603c-1.25-.349-2.647-.64-3.985-.93-3.782-.786-8.03-1.688-9.019-3.812a14.895 14.895 0 0 1-.727-5.818 21.935 21.935 0 0 0-1.396-9.25 8.873 8.873 0 0 0-5.557-4.946A58.705 58.705 0 0 1 64 5.12zM0 64c0 35.346 28.654 64 64 64 35.346 0 64-28.654 64-64 0-35.346-28.654-64-64-64C28.654 0 0 28.654 0 64z" /></symbol>',n.insertBefore(r,n.firstChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()}const St=Tn(Zr);zn(St);ar(St);nr(St);Dr(St);Fr(St);St.config.globalProperties.mittBus=Wn();lt.isReady().then(()=>{St.mount("#app")})});export default z1();
